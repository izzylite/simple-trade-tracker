"use strict";(self.webpackChunksimple_trade_tracker=self.webpackChunksimple_trade_tracker||[]).push([[672,782],{3877:(e,t,r)=>{r.d(t,{A:()=>j});r(65043);var a=r(26887),n=r(23182),i=r(53969),s=r(42579),o=r(55895),l=r(70298),d=r(17873),c=r(12097),x=r(58315),h=r(18034),m=r(5114),p=r(65767),u=r(86262),g=r(60267),A=r(29651),b=r(99900),f=r(29066),y=r(70579);const j=e=>{let{onToggleTheme:t,mode:r,title:j="Trade Tracker",showBackButton:v=!1,backButtonPath:w="/",onBackClick:C}=e;const k=(0,g.A)(),R=(0,b.Zp)(),{user:S,signOut:W,signInWithGoogle:$}=(0,f.A)();return(0,y.jsx)(a.A,{position:"fixed",color:"transparent",elevation:.7,sx:{backdropFilter:"blur(8px)",backgroundColor:(0,A.X4)("light"===r?"#ffffff":k.palette.background.default,.9),borderBottom:`1px solid ${k.palette.divider}`,zIndex:e=>e.zIndex.drawer+1},children:(0,y.jsxs)(n.A,{sx:{px:{xs:1,sm:3}},children:[" ",(0,y.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",gap:{xs:1,sm:2},flexGrow:1,minWidth:0},children:[v&&(0,y.jsx)(s.A,{onClick:()=>{C?C():R(w)},size:"small",sx:{color:"text.secondary","&:hover":{color:"primary.main",bgcolor:(0,A.X4)(k.palette.primary.main,.08)}},children:(0,y.jsx)(x.A,{})}),(0,y.jsx)(o.A,{variant:"h5",component:"h1",sx:{flexGrow:1,fontSize:{xs:"1.1rem",sm:"1.5rem"},fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",minWidth:0},children:j})]}),S?(0,y.jsxs)(l.A,{direction:"row",spacing:{xs:.5,sm:2},alignItems:"center",children:[(0,y.jsx)(s.A,{onClick:t,color:"inherit",size:"small",sx:{"&:hover":{bgcolor:(0,A.X4)(k.palette.primary.main,.1)}},children:"dark"===r?(0,y.jsx)(h.A,{}):(0,y.jsx)(m.A,{})}),(0,y.jsx)(l.A,{direction:"row",spacing:{xs:.5,sm:1},alignItems:"center",sx:{display:{xs:"none",sm:"flex"}},children:(0,y.jsx)(o.A,{variant:"body2",color:"text.secondary",sx:{maxWidth:{xs:"80px",sm:"none"},overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:S.email})}),(0,y.jsx)(d.A,{src:S.photoURL||void 0,sx:{width:{xs:28,sm:32},height:{xs:28,sm:32},bgcolor:k.palette.primary.main,fontSize:"0.875rem"},children:S.email?S.email[0].toUpperCase():"U"}),(0,y.jsxs)(c.A,{variant:"outlined",color:"inherit",onClick:async()=>{try{await W(),R("/")}catch(e){console.error("Error signing out:",e)}},size:"small",sx:{minWidth:{xs:"auto",sm:"auto"},px:{xs:1,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:[(0,y.jsxs)(i.A,{sx:{display:{xs:"none",sm:"flex"},alignItems:"center",gap:.5},children:[(0,y.jsx)(p.A,{sx:{fontSize:16}}),"Sign Out"]}),(0,y.jsx)(i.A,{sx:{display:{xs:"block",sm:"none"}},children:(0,y.jsx)(p.A,{sx:{fontSize:16}})})]})]}):(0,y.jsxs)(l.A,{direction:"row",spacing:{xs:.5,sm:2},alignItems:"center",children:[(0,y.jsx)(s.A,{onClick:t,color:"inherit",size:"small",sx:{"&:hover":{bgcolor:(0,A.X4)(k.palette.primary.main,.1)}},children:"dark"===r?(0,y.jsx)(h.A,{}):(0,y.jsx)(m.A,{})}),(0,y.jsxs)(c.A,{variant:"contained",onClick:async()=>{try{await $()}catch(e){console.error("Failed to sign in:",e)}},size:"small",sx:{bgcolor:"#4285F4","&:hover":{bgcolor:"#3367D6"},px:{xs:1.5,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"},minWidth:{xs:"auto",sm:"auto"}},children:[(0,y.jsxs)(i.A,{sx:{display:{xs:"none",sm:"flex"},alignItems:"center",gap:.5},children:[(0,y.jsx)(u.A,{sx:{fontSize:16}}),"Sign in with Google"]}),(0,y.jsx)(i.A,{sx:{display:{xs:"block",sm:"none"}},children:"Sign In"})]})]})]})})}},16128:(e,t,r)=>{r.d(t,{A:()=>m});var a=r(65043),n=r(58387),i=r(31807),s=r(58128),o=r(28301),l=r(79857),d=r(86061);function c(e){return(0,d.Ay)("MuiCardContent",e)}(0,l.A)("MuiCardContent",["root"]);var x=r(70579);const h=(0,s.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:16,"&:last-child":{paddingBottom:24}}),m=a.forwardRef((function(e,t){const r=(0,o.b)({props:e,name:"MuiCardContent"}),{className:a,component:s="div",...l}=r,d={...r,component:s},m=(e=>{const{classes:t}=e;return(0,i.A)({root:["root"]},c,t)})(d);return(0,x.jsx)(h,{as:s,className:(0,n.A)(m.root,a),ownerState:d,ref:t,...l})}))},21553:(e,t,r)=>{r.d(t,{A:()=>i});var a=r(99992),n=r(70579);const i=(0,a.A)((0,n.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info")},49806:(e,t,r)=>{r.d(t,{A:()=>f});var a=r(65043),n=r(58387),i=r(86061),s=r(31807),o=r(3635),l=r(94943),d=r(70883),c=r(79049),x=r(70579);const h=(0,c.A)(),m=(0,d.A)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`maxWidth${(0,o.A)(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),p=e=>(0,l.A)({props:e,name:"MuiContainer",defaultTheme:h});var u=r(97194),g=r(58128),A=r(28301);const b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=m,useThemeProps:r=p,componentName:l="MuiContainer"}=e,d=t((e=>{let{theme:t,ownerState:r}=e;return{width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!r.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}}}),(e=>{let{theme:t,ownerState:r}=e;return r.fixed&&Object.keys(t.breakpoints.values).reduce(((e,r)=>{const a=r,n=t.breakpoints.values[a];return 0!==n&&(e[t.breakpoints.up(a)]={maxWidth:`${n}${t.breakpoints.unit}`}),e}),{})}),(e=>{let{theme:t,ownerState:r}=e;return{..."xs"===r.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},...r.maxWidth&&"xs"!==r.maxWidth&&{[t.breakpoints.up(r.maxWidth)]:{maxWidth:`${t.breakpoints.values[r.maxWidth]}${t.breakpoints.unit}`}}}})),c=a.forwardRef((function(e,t){const a=r(e),{className:c,component:h="div",disableGutters:m=!1,fixed:p=!1,maxWidth:u="lg",classes:g,...A}=a,b={...a,component:h,disableGutters:m,fixed:p,maxWidth:u},f=((e,t)=>{const{classes:r,fixed:a,disableGutters:n,maxWidth:l}=e,d={root:["root",l&&`maxWidth${(0,o.A)(String(l))}`,a&&"fixed",n&&"disableGutters"]};return(0,s.A)(d,(e=>(0,i.Ay)(t,e)),r)})(b,l);return(0,x.jsx)(d,{as:h,ownerState:b,className:(0,n.A)(f.root,c),ref:t,...A})}));return c}({createStyledComponent:(0,g.Ay)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`maxWidth${(0,u.A)(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,A.b)({props:e,name:"MuiContainer"})}),f=b},59672:(e,t,r)=>{r.r(t),r.d(t,{default:()=>E});var a=r(65043),n=r(91244),i=r(16128),s=r(70298),o=r(53969),l=r(95563),d=r(23182),c=r(49806),x=r(12097),h=r(55895),m=r(38517),p=r(81911),u=r(78776),g=r(91449),A=r(85877),b=r(80172),f=r(58315),y=r(21553),j=r(71101),v=r(63898),w=r(27496),C=r(99992),k=r(70579);const R=(0,C.A)((0,k.jsx)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"Restore"),S=(0,C.A)((0,k.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever");var W=r(60267),$=r(29651),M=r(39993),z=r(99900),D=r(29066),I=r(70782),T=r(73200),B=r(3877);const G=()=>{const e=(0,W.A)();return(0,k.jsxs)(n.A,{sx:{height:"100%",borderRadius:3,border:`1px solid ${e.palette.divider}`,transition:"all 0.2s ease-in-out",position:"relative",overflow:"visible"},children:[(0,k.jsx)(i.A,{sx:{p:3},children:(0,k.jsxs)(s.A,{spacing:3,children:[(0,k.jsx)(o.A,{children:(0,k.jsxs)(o.A,{display:"flex",alignItems:"center",gap:1.5,mb:1,children:[(0,k.jsx)(o.A,{sx:{width:40,height:40,borderRadius:2,backgroundColor:(0,$.X4)(e.palette.primary.main,.1),display:"flex",alignItems:"center",justifyContent:"center"},children:(0,k.jsx)(T.A,{height:24,width:24,borderRadius:"50%",variant:"pulse",intensity:"medium"})}),(0,k.jsxs)(o.A,{sx:{flexGrow:1,minWidth:0},children:[(0,k.jsx)(T.A,{height:24,width:"70%",borderRadius:6,variant:"wave",intensity:"high",sx:{mb:1}}),(0,k.jsx)(T.A,{height:16,width:"50%",borderRadius:4,variant:"default",intensity:"low"})]})]})}),(0,k.jsxs)(o.A,{sx:{backgroundColor:(0,$.X4)(e.palette.warning.main,.1),borderRadius:2,p:2,textAlign:"center"},children:[(0,k.jsxs)(o.A,{display:"flex",alignItems:"center",justifyContent:"center",gap:1,mb:1,children:[(0,k.jsx)(T.A,{height:20,width:20,borderRadius:"50%",variant:"pulse",intensity:"medium"}),(0,k.jsx)(T.A,{height:32,width:40,borderRadius:8,variant:"wave",intensity:"high"}),(0,k.jsx)(T.A,{height:16,width:60,borderRadius:4,variant:"default",intensity:"low"})]}),(0,k.jsx)(T.A,{height:14,width:"80%",borderRadius:4,variant:"default",intensity:"low",sx:{mx:"auto"}})]}),(0,k.jsxs)(o.A,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2,pt:1},children:[(0,k.jsxs)(o.A,{sx:{textAlign:"center"},children:[(0,k.jsx)(T.A,{height:24,width:"80%",borderRadius:6,variant:"wave",intensity:"medium",sx:{mb:1,mx:"auto"}}),(0,k.jsx)(T.A,{height:14,width:"60%",borderRadius:4,variant:"default",intensity:"low",sx:{mx:"auto"}})]}),(0,k.jsxs)(o.A,{sx:{textAlign:"center"},children:[(0,k.jsx)(T.A,{height:24,width:"60%",borderRadius:6,variant:"wave",intensity:"medium",sx:{mb:1,mx:"auto"}}),(0,k.jsx)(T.A,{height:14,width:"50%",borderRadius:4,variant:"default",intensity:"low",sx:{mx:"auto"}})]})]})]})}),(0,k.jsxs)(l.A,{sx:{p:3,pt:0,gap:1},children:[(0,k.jsx)(T.A,{height:40,width:"100%",borderRadius:8,variant:"pulse",intensity:"medium"}),(0,k.jsx)(T.A,{height:40,width:"100%",borderRadius:8,variant:"default",intensity:"low"})]})]})},E=e=>{var t;let{onToggleTheme:r,mode:C}=e;const T=(0,W.A)(),E=(0,z.Zp)(),{user:L}=(0,D.A)(),[X,N]=(0,a.useState)([]),[F,H]=(0,a.useState)(!0),[O,P]=(0,a.useState)(null),[_,V]=(0,a.useState)({open:!1,action:"restore",calendar:null});(0,a.useEffect)((()=>{U()}),[L]);const U=async()=>{if(L)try{H(!0);const e=await(0,I.s)(L.uid);N(e)}catch(e){console.error("Error loading trash calendars:",e)}finally{H(!1)}},Y=(e,t)=>{V({open:!0,action:e,calendar:t})},Z=()=>{V({open:!1,action:"restore",calendar:null})},J=e=>e<=3?T.palette.error.main:e<=7?T.palette.warning.main:T.palette.info.main;return F?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(B.A,{onToggleTheme:r,mode:C}),(0,k.jsx)(d.A,{}),(0,k.jsxs)(c.A,{maxWidth:"lg",sx:{mt:4},children:[(0,k.jsx)(o.A,{sx:{mb:4},children:(0,k.jsxs)(s.A,{direction:"row",alignItems:"center",spacing:2,sx:{mb:2},children:[(0,k.jsx)(x.A,{startIcon:(0,k.jsx)(f.A,{}),onClick:()=>E("/"),variant:"outlined",size:"small",children:"Back to Calendars"}),(0,k.jsx)(o.A,{sx:{flexGrow:1}})]})}),(0,k.jsx)(o.A,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)"},gap:3},children:Array.from({length:3}).map(((e,t)=>(0,k.jsx)(G,{},t)))})]})]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(B.A,{onToggleTheme:r,mode:C}),(0,k.jsx)(d.A,{}),(0,k.jsxs)(c.A,{maxWidth:"lg",sx:{mt:4},children:[(0,k.jsx)(o.A,{sx:{mb:4},children:(0,k.jsxs)(s.A,{direction:"row",alignItems:"center",spacing:2,sx:{mb:2},children:[(0,k.jsx)(x.A,{startIcon:(0,k.jsx)(f.A,{}),onClick:()=>E("/"),variant:"outlined",size:"small",children:"Back to Calendars"}),(0,k.jsx)(o.A,{sx:{flexGrow:1}})]})}),0===X.length?(0,k.jsxs)(o.A,{sx:{textAlign:"center",py:8},children:[(0,k.jsx)(o.A,{sx:{width:120,height:120,borderRadius:"50%",backgroundColor:(0,$.X4)(T.palette.success.main,.1),display:"flex",alignItems:"center",justifyContent:"center",mx:"auto",mb:3},children:(0,k.jsx)(y.A,{sx:{fontSize:60,color:T.palette.success.main}})}),(0,k.jsx)(h.A,{variant:"h5",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Trash is Empty"}),(0,k.jsx)(h.A,{variant:"body1",color:"text.secondary",sx:{mb:3,maxWidth:400,mx:"auto"},children:"No deleted calendars found. When you delete a calendar, it will appear here and can be restored within 30 days."}),(0,k.jsx)(x.A,{variant:"contained",startIcon:(0,k.jsx)(f.A,{}),onClick:()=>E("/"),children:"Back to Calendars"})]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(o.A,{sx:{backgroundColor:(0,$.X4)(T.palette.warning.main,.1),border:`1px solid ${(0,$.X4)(T.palette.warning.main,.3)}`,borderRadius:2,p:3,mb:4,display:"flex",alignItems:"center",gap:2},children:[(0,k.jsx)(j.A,{sx:{color:T.palette.warning.main,fontSize:24}}),(0,k.jsxs)(o.A,{children:[(0,k.jsx)(h.A,{variant:"subtitle1",sx:{fontWeight:"bold",color:T.palette.warning.dark},children:"Automatic Deletion Warning"}),(0,k.jsx)(h.A,{variant:"body2",color:"text.secondary",children:"Calendars in trash will be permanently deleted after 30 days. This action cannot be undone."})]})]}),(0,k.jsx)(o.A,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)"},gap:3},children:X.map((e=>{const t=(0,I.gi)(e.autoDeleteAt),r=t<=7;return(0,k.jsx)(o.A,{children:(0,k.jsxs)(n.A,{sx:{height:"100%",border:r?`2px solid ${T.palette.warning.main}`:`1px solid ${T.palette.divider}`,borderRadius:3,transition:"all 0.2s ease-in-out","&:hover":{transform:"translateY(-2px)",boxShadow:T.shadows[8]},position:"relative",overflow:"visible"},children:[r&&(0,k.jsx)(o.A,{sx:{position:"absolute",top:-8,right:16,backgroundColor:T.palette.warning.main,color:"white",px:2,py:.5,borderRadius:2,fontSize:"0.75rem",fontWeight:"bold",zIndex:1},children:"EXPIRES SOON"}),(0,k.jsx)(i.A,{sx:{p:3},children:(0,k.jsxs)(s.A,{spacing:3,children:[(0,k.jsx)(o.A,{children:(0,k.jsxs)(o.A,{display:"flex",alignItems:"center",gap:1.5,mb:1,children:[(0,k.jsx)(o.A,{sx:{width:40,height:40,borderRadius:2,backgroundColor:(0,$.X4)(T.palette.primary.main,.1),display:"flex",alignItems:"center",justifyContent:"center"},children:(0,k.jsx)(v.A,{sx:{color:T.palette.primary.main}})}),(0,k.jsxs)(o.A,{sx:{flexGrow:1,minWidth:0},children:[(0,k.jsx)(h.A,{variant:"h6",noWrap:!0,sx:{fontWeight:"bold"},children:e.name}),(0,k.jsxs)(h.A,{variant:"caption",color:"text.secondary",children:["Deleted ",(0,M.A)(e.deletedAt,"MMM dd, yyyy")]})]})]})}),(0,k.jsxs)(o.A,{sx:{backgroundColor:(0,$.X4)(J(t),.1),borderRadius:2,p:2,textAlign:"center"},children:[(0,k.jsxs)(o.A,{display:"flex",alignItems:"center",justifyContent:"center",gap:1,mb:1,children:[(0,k.jsx)(w.A,{sx:{fontSize:20,color:J(t)}}),(0,k.jsx)(h.A,{variant:"h5",sx:{fontWeight:"bold",color:J(t)},children:t}),(0,k.jsx)(h.A,{variant:"body2",color:"text.secondary",children:"days left"})]}),(0,k.jsxs)(h.A,{variant:"caption",color:"text.secondary",children:["Auto-delete: ",(0,M.A)(e.autoDeleteAt,"MMM dd, yyyy")]})]}),(0,k.jsxs)(o.A,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2,pt:1},children:[(0,k.jsxs)(o.A,{sx:{textAlign:"center"},children:[(0,k.jsxs)(h.A,{variant:"h6",sx:{fontWeight:"bold",color:T.palette.success.main},children:["$",e.accountBalance.toLocaleString()]}),(0,k.jsx)(h.A,{variant:"caption",color:"text.secondary",children:"Balance"})]}),(0,k.jsxs)(o.A,{sx:{textAlign:"center"},children:[(0,k.jsx)(h.A,{variant:"h6",sx:{fontWeight:"bold",color:T.palette.info.main},children:e.totalTrades||0}),(0,k.jsx)(h.A,{variant:"caption",color:"text.secondary",children:"Trades"})]})]})]})}),(0,k.jsxs)(l.A,{sx:{p:3,pt:0,gap:1},children:[(0,k.jsx)(x.A,{startIcon:(0,k.jsx)(R,{}),onClick:()=>Y("restore",e),disabled:O===e.id,variant:"contained",color:"primary",fullWidth:!0,sx:{borderRadius:2,py:1,fontWeight:"bold"},children:"Restore Calendar"}),(0,k.jsx)(x.A,{startIcon:(0,k.jsx)(S,{}),onClick:()=>Y("delete",e),disabled:O===e.id,variant:"outlined",color:"error",fullWidth:!0,sx:{borderRadius:2,py:1,fontWeight:"bold"},children:"Delete Forever"})]})]})},e.id)}))})]}),(0,k.jsxs)(m.A,{open:_.open,onClose:Z,maxWidth:"sm",fullWidth:!0,children:[(0,k.jsx)(p.A,{children:"restore"===_.action?"Restore Calendar":"Permanently Delete Calendar"}),(0,k.jsx)(u.A,{children:_.calendar&&(0,k.jsxs)(o.A,{children:[(0,k.jsx)(h.A,{variant:"body1",gutterBottom:!0,children:"restore"===_.action?`Are you sure you want to restore "${_.calendar.name}"?`:`Are you sure you want to permanently delete "${_.calendar.name}"?`}),"delete"===_.action&&(0,k.jsx)(g.A,{severity:"error",sx:{mt:2},children:"This action cannot be undone. All trades, images, and data associated with this calendar will be permanently lost."}),"restore"===_.action&&(0,k.jsx)(g.A,{severity:"info",sx:{mt:2},children:"The calendar will be restored to your active calendars list."})]})}),(0,k.jsxs)(A.A,{children:[(0,k.jsx)(x.A,{onClick:Z,disabled:null!==O,children:"Cancel"}),(0,k.jsx)(x.A,{onClick:()=>{_.calendar&&("restore"===_.action?(async e=>{try{P(e.id),await(0,I.BL)(e.id),await U(),V({open:!1,action:"restore",calendar:null})}catch(t){console.error("Error restoring calendar:",t)}finally{P(null)}})(_.calendar):(async e=>{try{P(e.id),await(0,I.LY)(e.id),await U(),V({open:!1,action:"delete",calendar:null})}catch(t){console.error("Error permanently deleting calendar:",t)}finally{P(null)}})(_.calendar))},color:"restore"===_.action?"primary":"error",variant:"contained",disabled:null!==O,startIcon:O===(null===(t=_.calendar)||void 0===t?void 0:t.id)?(0,k.jsx)(b.A,{size:16}):void 0,children:"restore"===_.action?"Restore":"Delete Forever"})]})]})]})]})}},70782:(e,t,r)=>{r.d(t,{BL:()=>l,LY:()=>d,gi:()=>x,moveCalendarToTrash:()=>o,s:()=>c});var a=r(55472),n=r(91758),i=r(87498);const s="calendars",o=async(e,t)=>{try{const r=(0,a.H9)(n.db,s,e),i=new Date,o=new Date(i.getTime()+2592e6);await(0,a.mZ)(r,{isDeleted:!0,deletedAt:a.Dc.fromDate(i),deletedBy:t,autoDeleteAt:a.Dc.fromDate(o),lastModified:a.Dc.fromDate(i)}),console.log(`Calendar ${e} moved to trash`)}catch(r){throw console.error("Error moving calendar to trash:",r),r}},l=async e=>{try{const t=(0,a.H9)(n.db,s,e);await(0,a.c4)(n.db,(async e=>{const r=await e.get(t);if(!r.exists())throw new Error("Calendar not found");if(!r.data().isDeleted)throw new Error("Calendar is not in trash");e.update(t,{isDeleted:!1,deletedAt:null,deletedBy:null,autoDeleteAt:null,lastModified:a.Dc.fromDate(new Date)})})),console.log(`Calendar ${e} restored from trash`)}catch(t){throw console.error("Error restoring calendar from trash:",t),t}},d=async e=>{try{const t=(0,a.H9)(n.db,s,e);await(0,a.c4)(n.db,(async e=>{const r=await e.get(t);if(!r.exists())throw new Error("Calendar not found");if(!r.data().isDeleted)throw new Error("Calendar is not in trash");e.delete(t)})),console.log(`Calendar ${e} permanently deleted`)}catch(t){throw console.error("Error permanently deleting calendar:",t),t}},c=async e=>{try{const t=(0,a.P)((0,a.rJ)(n.db,s),(0,a._M)("userId","==",e),(0,a._M)("isDeleted","==",!0));return(await(0,a.GG)(t)).docs.map((e=>{const t=(0,i.A6)(e),r=e.data();return{...t,deletedAt:r.deletedAt.toDate(),deletedBy:r.deletedBy,autoDeleteAt:r.autoDeleteAt.toDate()}}))}catch(t){throw console.error("Error getting trash calendars:",t),t}},x=e=>{const t=new Date,r=e.getTime()-t.getTime(),a=Math.ceil(r/864e5);return Math.max(0,a)}},71101:(e,t,r)=>{r.d(t,{A:()=>i});var a=r(99992),n=r(70579);const i=(0,a.A)((0,n.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning")},73200:(e,t,r)=>{r.d(t,{A:()=>d});var a=r(60267),n=r(29651),i=r(53969),s=r(83290),o=r(70579);const l=s.i7`
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
`,d=e=>{let{width:t="100%",height:r="100%",borderRadius:d=8,variant:c="default",intensity:x="medium",sx:h={}}=e;const m=(0,a.A)(),{baseColor:p,shimmerColor:u,primaryTint:g}=(()=>{const e={low:{dark:{base:.03,shimmer:.08},light:{base:.03,shimmer:.08}},medium:{dark:{base:.05,shimmer:.15},light:{base:.04,shimmer:.1}},high:{dark:{base:.08,shimmer:.25},light:{base:.06,shimmer:.15}}}[x],t=m.palette.mode;return{baseColor:"dark"===t?`rgba(255, 255, 255, ${e.dark.base})`:`rgba(0, 0, 0, ${e.light.base})`,shimmerColor:"dark"===t?`rgba(255, 255, 255, ${e.dark.shimmer})`:`rgba(0, 0, 0, ${e.light.shimmer})`,primaryTint:(0,n.X4)(m.palette.primary.main,"dark"===t?.15:.08)}})();return(0,o.jsx)(i.A,{sx:{width:t,height:r,borderRadius:d,overflow:"hidden",position:"relative",willChange:"background-position, opacity",...(()=>{switch(c){case"wave":return{background:`linear-gradient(90deg,\n            ${p} 0%,\n            ${u} 20%,\n            ${p} 40%\n          )`,backgroundSize:"200% 100%",animation:`${l} 2s infinite ease-in-out`};case"pulse":const e=s.i7`
          0% { opacity: ${"dark"===m.palette.mode?.5:.6}; }
          50% { opacity: ${"dark"===m.palette.mode?.8:.9}; }
          100% { opacity: ${"dark"===m.palette.mode?.5:.6}; }
        `;return{background:`linear-gradient(135deg, ${p} 0%, ${g} 100%)`,animation:`${e} 1.8s infinite ease-in-out`};default:return{background:`linear-gradient(90deg,\n            ${p} 25%,\n            ${u} 50%,\n            ${p} 75%\n          )`,backgroundSize:"200% 100%",animation:`${l} 1.5s infinite linear`}}})(),"&::after":"wave"===c?{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:`linear-gradient(90deg, transparent, ${(0,n.X4)(m.palette.background.paper,.1)}, transparent)`,transform:"translateX(-100%)",animation:"shimmerWave 1.6s infinite","@keyframes shimmerWave":{"100%":{transform:"translateX(100%)"}}}:{},...h}})}},91244:(e,t,r)=>{r.d(t,{A:()=>p});var a=r(65043),n=r(58387),i=r(31807),s=r(58128),o=r(28301),l=r(94799),d=r(79857),c=r(86061);function x(e){return(0,c.Ay)("MuiCard",e)}(0,d.A)("MuiCard",["root"]);var h=r(70579);const m=(0,s.Ay)(l.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})({overflow:"hidden"}),p=a.forwardRef((function(e,t){const r=(0,o.b)({props:e,name:"MuiCard"}),{className:a,raised:s=!1,...l}=r,d={...r,raised:s},c=(e=>{const{classes:t}=e;return(0,i.A)({root:["root"]},x,t)})(d);return(0,h.jsx)(m,{className:(0,n.A)(c.root,a),elevation:s?8:void 0,ref:t,ownerState:d,...l})}))},95563:(e,t,r)=>{r.d(t,{A:()=>m});var a=r(65043),n=r(58387),i=r(31807),s=r(58128),o=r(28301),l=r(79857),d=r(86061);function c(e){return(0,d.Ay)("MuiCardActions",e)}(0,l.A)("MuiCardActions",["root","spacing"]);var x=r(70579);const h=(0,s.Ay)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),m=a.forwardRef((function(e,t){const r=(0,o.b)({props:e,name:"MuiCardActions"}),{disableSpacing:a=!1,className:s,...l}=r,d={...r,disableSpacing:a},m=(e=>{const{classes:t,disableSpacing:r}=e,a={root:["root",!r&&"spacing"]};return(0,i.A)(a,c,t)})(d);return(0,x.jsx)(h,{className:(0,n.A)(m.root,s),ownerState:d,ref:t,...l})}))}}]);
//# sourceMappingURL=672.971567cc.chunk.js.map