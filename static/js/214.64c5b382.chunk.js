"use strict";(self.webpackChunksimple_trade_tracker=self.webpackChunksimple_trade_tracker||[]).push([[214],{93214:(e,t,a)=>{a.r(t),a.d(t,{CalendarHome:()=>oe,default:()=>se});var r=a(65043),n=a(60267),i=a(91244),o=a(16128),s=a(53969),l=a(89826),d=a(70298),c=a(94527),x=a(95563),h=a(26887),g=a(23182),p=a(94842),m=a(42579),u=a(17873),y=a(12097),A=a(49806),j=a(26529),b=a(33023),v=a(81911),f=a(78776),k=a(85877),w=a(10256),T=a(4282),C=a(58560),P=a(80172),S=a(66154),D=a(1725),F=a(85030),W=a(4279),I=a(70579);const X=e=>{let{open:t,onClose:a,onSubmit:n,initialData:i,isSubmitting:o,mode:l,title:c,submitButtonText:x}=e;const[h,g]=(0,r.useState)(""),[m,u]=(0,r.useState)(""),[A,j]=(0,r.useState)(""),[b,v]=(0,r.useState)(""),[f,k]=(0,r.useState)(""),[w,T]=(0,r.useState)(""),[C,X]=(0,r.useState)(""),[z,R]=(0,r.useState)(!1),[$,B]=(0,r.useState)(""),[M,L]=(0,r.useState)("");(0,r.useEffect)((()=>{var e,a,r,n,o,s,d,c;t&&(i&&"edit"===l?(g(i.name||""),u((null===(e=i.accountBalance)||void 0===e?void 0:e.toString())||""),j((null===(a=i.maxDailyDrawdown)||void 0===a?void 0:a.toString())||""),v((null===(r=i.weeklyTarget)||void 0===r?void 0:r.toString())||""),k((null===(n=i.monthlyTarget)||void 0===n?void 0:n.toString())||""),T((null===(o=i.yearlyTarget)||void 0===o?void 0:o.toString())||""),X((null===(s=i.riskPerTrade)||void 0===s?void 0:s.toString())||""),R(i.dynamicRiskEnabled||!1),B((null===(d=i.increasedRiskPercentage)||void 0===d?void 0:d.toString())||""),L((null===(c=i.profitThresholdPercentage)||void 0===c?void 0:c.toString())||"")):N())}),[t,i,l]);const N=()=>{g(""),u(""),j(""),v(""),k(""),T(""),X(""),R(!1),B(""),L("")},E=h.trim()&&m.trim()&&A.trim(),G=c,Y=(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(y.A,{onClick:a,disabled:o,children:"Cancel"}),(0,I.jsxs)(y.A,{onClick:async()=>{if(h.trim()&&m.trim()&&A.trim()){const e=parseFloat(m),t=parseFloat(A),a=b.trim()?parseFloat(b):void 0,r=f.trim()?parseFloat(f):void 0,i=w.trim()?parseFloat(w):void 0,o=C.trim()?parseFloat(C):void 0,s=$.trim()?parseFloat($):void 0,l=M.trim()?parseFloat(M):void 0;!isNaN(e)&&e>=0&&!isNaN(t)&&t>0&&(void 0===a||!isNaN(a)&&a>0)&&(void 0===r||!isNaN(r)&&r>0)&&(void 0===i||!isNaN(i)&&i>0)&&(void 0===o||!isNaN(o)&&o>0)&&(void 0===s||!isNaN(s)&&s>0)&&(void 0===l||!isNaN(l)&&l>0)&&await n({name:h.trim(),accountBalance:e,maxDailyDrawdown:t,weeklyTarget:a,monthlyTarget:r,yearlyTarget:i,riskPerTrade:o,dynamicRiskEnabled:z,increasedRiskPercentage:s,profitThresholdPercentage:l})}},variant:"contained",disabled:!E||o,sx:{minWidth:100,display:"flex",alignItems:"center",gap:1},children:[x,o&&(0,I.jsx)(P.A,{size:20,color:"inherit"})]})]});return(0,I.jsx)(W.mY,{open:t,onClose:()=>!o&&a(),maxWidth:"xs",fullWidth:!0,title:G,actions:Y,hideFooterCancelButton:!0,children:(0,I.jsxs)(d.A,{spacing:2,sx:{mt:1},children:[(0,I.jsx)(S.A,{label:"Calendar Name",fullWidth:!0,value:h,onChange:e=>g(e.target.value),autoFocus:!0}),(0,I.jsx)(S.A,{label:"create"===l?"Initial Account Balance":"Account Balance",fullWidth:!0,value:m,onChange:e=>{const t=e.target.value;(""===t||/^\d*\.?\d*$/.test(t))&&u(t)},type:"number",InputProps:{startAdornment:(0,I.jsx)(s.A,{component:"span",sx:{mr:1},children:"$"})}}),(0,I.jsx)(S.A,{label:"Max Daily Drawdown (%)",fullWidth:!0,value:A,onChange:e=>{const t=e.target.value;(""===t||/^\d*\.?\d*$/.test(t))&&j(t)},type:"number",InputProps:{endAdornment:(0,I.jsx)(s.A,{component:"span",sx:{ml:1},children:"%"})},helperText:"Maximum allowed loss percentage per day"}),(0,I.jsx)(S.A,{label:"Weekly Target (%)",fullWidth:!0,value:b,onChange:e=>{const t=e.target.value;(""===t||/^\d*\.?\d*$/.test(t))&&v(t)},type:"number",InputProps:{endAdornment:(0,I.jsx)(s.A,{component:"span",sx:{ml:1},children:"%"})},helperText:"Target profit percentage per week"}),(0,I.jsx)(S.A,{label:"Monthly Target (%)",fullWidth:!0,value:f,onChange:e=>{const t=e.target.value;(""===t||/^\d*\.?\d*$/.test(t))&&k(t)},type:"number",InputProps:{endAdornment:(0,I.jsx)(s.A,{component:"span",sx:{ml:1},children:"%"})},helperText:"Target profit percentage per month"}),(0,I.jsx)(S.A,{label:"Yearly Target (%)",fullWidth:!0,value:w,onChange:e=>{const t=e.target.value;(""===t||/^\d*\.?\d*$/.test(t))&&T(t)},type:"number",InputProps:{endAdornment:(0,I.jsx)(s.A,{component:"span",sx:{ml:1},children:"%"})},helperText:"Target profit percentage per year"}),(0,I.jsx)(S.A,{label:"Risk Per Trade (%)",fullWidth:!0,value:C,onChange:e=>{const t=e.target.value;(""===t||/^\d*\.?\d*$/.test(t))&&X(t)},type:"number",InputProps:{endAdornment:(0,I.jsx)(s.A,{component:"span",sx:{ml:1},children:"%"})},helperText:"Percentage of account balance to risk per trade (optional)"}),C&&(0,I.jsxs)(s.A,{sx:{border:"1px solid",borderColor:"divider",borderRadius:1,p:2,mt:1},children:[(0,I.jsx)(p.A,{variant:"subtitle2",sx:{mb:1.5,fontWeight:600},children:"Dynamic Risk Settings"}),(0,I.jsx)(D.A,{control:(0,I.jsx)(F.A,{checked:z,onChange:e=>R(e.target.checked),color:"primary"}),label:"Enable Dynamic Risk",sx:{mb:1.5}}),z&&(0,I.jsxs)(d.A,{spacing:2,children:[(0,I.jsx)(S.A,{label:"Profit Threshold (%)",fullWidth:!0,value:M,onChange:e=>{const t=e.target.value;(""===t||/^\d*\.?\d*$/.test(t))&&L(t)},type:"number",InputProps:{endAdornment:(0,I.jsx)(s.A,{component:"span",sx:{ml:1},children:"%"})},helperText:"Increase risk when profit exceeds this percentage",size:"small"}),(0,I.jsx)(S.A,{label:"Increased Risk (%)",fullWidth:!0,value:$,onChange:e=>{const t=e.target.value;(""===t||/^\d*\.?\d*$/.test(t))&&B(t)},type:"number",InputProps:{endAdornment:(0,I.jsx)(s.A,{component:"span",sx:{ml:1},children:"%"})},helperText:"New risk percentage when profit threshold is exceeded",size:"small"})]})]})]})})};var z=a(83041),R=a(64296),$=a(65767),B=a(86262),M=a(22950),L=a(63898),N=a(6013),E=a(92248),G=a(64),Y=a(25272),V=a(61773),H=a(17347),U=a(13106),_=a(5362),O=a(17105),Z=a(69023),q=a(99900),J=a(23893),K=a(75499),Q=a(38490),ee=a(40269),te=a(29066),ae=a(83290),re=a(87498);const ne=ae.i7`
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
`,ie=()=>{const e=(0,n.A)();return(0,I.jsxs)(i.A,{sx:{height:"100%"},children:[(0,I.jsxs)(o.A,{sx:{p:3},children:[(0,I.jsxs)(s.A,{sx:{mb:2.5},children:[(0,I.jsx)(s.A,{sx:{height:28,width:"60%",borderRadius:1,mb:1,background:`linear-gradient(90deg,\n                ${(0,l.X4)(e.palette.background.paper,.1)} 25%,\n                ${(0,l.X4)(e.palette.background.paper,.2)} 50%,\n                ${(0,l.X4)(e.palette.background.paper,.1)} 75%)`,backgroundSize:"200% 100%",animation:`${ne} 1.5s infinite linear`}}),(0,I.jsxs)(d.A,{direction:"row",spacing:2,sx:{mb:1},children:[(0,I.jsx)(s.A,{sx:{height:20,width:"30%",borderRadius:.5,background:`linear-gradient(90deg,\n                  ${(0,l.X4)(e.palette.background.paper,.1)} 25%,\n                  ${(0,l.X4)(e.palette.background.paper,.2)} 50%,\n                  ${(0,l.X4)(e.palette.background.paper,.1)} 75%)`,backgroundSize:"200% 100%",animation:`${ne} 1.5s infinite linear`}}),(0,I.jsx)(s.A,{sx:{height:20,width:"30%",borderRadius:.5,background:`linear-gradient(90deg,\n                  ${(0,l.X4)(e.palette.background.paper,.1)} 25%,\n                  ${(0,l.X4)(e.palette.background.paper,.2)} 50%,\n                  ${(0,l.X4)(e.palette.background.paper,.1)} 75%)`,backgroundSize:"200% 100%",animation:`${ne} 1.5s infinite linear`}})]})]}),(0,I.jsx)(c.A,{sx:{my:2,opacity:.6}}),(0,I.jsx)(d.A,{spacing:2,children:[1,2,3].map((t=>(0,I.jsx)(s.A,{sx:{height:24,width:2===t?"70%":"85%",borderRadius:.5,background:`linear-gradient(90deg,\n                  ${(0,l.X4)(e.palette.background.paper,.1)} 25%,\n                  ${(0,l.X4)(e.palette.background.paper,.2)} 50%,\n                  ${(0,l.X4)(e.palette.background.paper,.1)} 75%)`,backgroundSize:"200% 100%",animation:`${ne} 1.5s infinite linear`}},t)))})]}),(0,I.jsx)(x.A,{sx:{justifyContent:"flex-end",p:2,pt:1,borderTop:`1px solid ${(0,l.X4)(e.palette.divider,.1)}`},children:(0,I.jsx)(d.A,{direction:"row",spacing:1,children:[1,2,3].map((t=>(0,I.jsx)(s.A,{sx:{height:32,width:80,borderRadius:1,background:`linear-gradient(90deg,\n                  ${(0,l.X4)(e.palette.background.paper,.1)} 25%,\n                  ${(0,l.X4)(e.palette.background.paper,.2)} 50%,\n                  ${(0,l.X4)(e.palette.background.paper,.1)} 75%)`,backgroundSize:"200% 100%",animation:`${ne} 1.5s infinite linear`}},t)))})})]})},oe=e=>{var t,a;let{calendars:S,onCreateCalendar:D,onDeleteCalendar:F,onUpdateCalendar:W,onToggleTheme:ae,mode:ne,isLoading:oe,loadAllTrades:se}=e;const{user:le,signInWithGoogle:de,signOut:ce}=(0,te.A)(),[xe,he]=(0,r.useState)(!1),[ge,pe]=(0,r.useState)(!1),[me,ue]=(0,r.useState)(!1),[ye,Ae]=(0,r.useState)(null),[je,be]=(0,r.useState)(null),[ve,fe]=(0,r.useState)(!1),[ke,we]=(0,r.useState)(!1),[Te,Ce]=(0,r.useState)({}),Pe=(0,n.A)(),Se=(0,q.Zp)(),[De,Fe]=(0,r.useState)(null),[We,Ie]=(0,r.useState)(new Date),[Xe,ze]=(0,r.useState)(!1),[Re,$e]=(0,r.useState)("month"),[Be,Me]=(0,r.useState)({}),Le=void 0!==oe&&oe;(0,r.useEffect)((()=>{if(De&&S.length>0){const e=S.find((e=>e.id===De.id));e&&e.cachedTrades.length>0&&Fe(e)}}),[S,De]);const Ne=(e,t)=>{e.stopPropagation(),Ce((e=>({...e,[t]:!e[t]})))},Ee=()=>{Fe(null)};(0,r.useMemo)((()=>{if(!De)return[];const e=De.cachedTrades||[];if(0===e.length)return[new Date];const t=e.map((e=>new Date(e.date))),a=new Date(Math.min(...t.map((e=>e.getTime())))),r=new Date(Math.max(...t.map((e=>e.getTime())))),n=[];let i=new Date(a.getFullYear(),a.getMonth(),1);const o=new Date(r.getFullYear(),r.getMonth(),1);for(;i<=o;)n.push(new Date(i)),i=new Date(i.getFullYear(),i.getMonth()+1,1);return n}),[De]);return(0,I.jsxs)(s.A,{children:[(0,I.jsx)(h.A,{position:"fixed",color:"transparent",elevation:.7,sx:{backdropFilter:"blur(8px)",backgroundColor:(0,l.X4)("light"===ne?"#ffffff":Pe.palette.background.default,.9),borderBottom:`1px solid ${Pe.palette.divider}`,zIndex:e=>e.zIndex.drawer+1},children:(0,I.jsxs)(g.A,{children:[(0,I.jsx)(p.A,{variant:"h5",component:"h1",sx:{flexGrow:1},children:"Trade Tracker"}),le?(0,I.jsxs)(d.A,{direction:"row",spacing:2,alignItems:"center",children:[(0,I.jsx)(m.A,{onClick:ae,color:"inherit",size:"small",sx:{"&:hover":{bgcolor:(0,l.X4)(Pe.palette.primary.main,.1)}},children:"dark"===ne?(0,I.jsx)(z.A,{}):(0,I.jsx)(R.A,{})}),(0,I.jsxs)(d.A,{direction:"row",spacing:1,alignItems:"center",children:[(0,I.jsx)(p.A,{variant:"body2",color:"text.secondary",children:le.email}),(0,I.jsx)(u.A,{src:le.photoURL||void 0,sx:{width:32,height:32,bgcolor:Pe.palette.primary.main,fontSize:"0.875rem"},children:le.email?le.email[0].toUpperCase():"U"})]}),(0,I.jsx)(y.A,{variant:"outlined",color:"inherit",startIcon:(0,I.jsx)($.A,{}),onClick:async()=>{try{await ce()}catch(e){console.error("Failed to sign out:",e)}},size:"small",children:"Sign Out"})]}):(0,I.jsxs)(d.A,{direction:"row",spacing:2,alignItems:"center",children:[(0,I.jsx)(m.A,{onClick:ae,color:"inherit",size:"small",sx:{"&:hover":{bgcolor:(0,l.X4)(Pe.palette.primary.main,.1)}},children:"dark"===ne?(0,I.jsx)(z.A,{}):(0,I.jsx)(R.A,{})}),(0,I.jsx)(y.A,{variant:"contained",startIcon:(0,I.jsx)(B.A,{}),onClick:async()=>{try{await de()}catch(e){console.error("Failed to sign in:",e)}},sx:{bgcolor:"#4285F4","&:hover":{bgcolor:"#3367D6"}},children:"Sign in with Google"})]})]})}),(0,I.jsx)(g.A,{}),(0,I.jsx)(A.A,{maxWidth:"lg",sx:{mt:4},children:le?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(s.A,{sx:{mb:4,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,I.jsx)(p.A,{variant:"h4",component:"h2",children:"Your Calendars"}),(0,I.jsx)(y.A,{variant:"contained",startIcon:(0,I.jsx)(M.A,{}),onClick:()=>he(!0),children:"Create Calendar"})]}),0!==S.length||Le?(0,I.jsx)(s.A,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"},gap:2},children:Le?Array.from({length:3}).map(((e,t)=>(0,I.jsx)(ie,{},t))):S.map((e=>{const t=(0,re.st)(e);return(0,I.jsxs)(i.A,{sx:{cursor:"pointer",transition:"all 0.3s ease",position:"relative",overflow:"hidden",display:"flex",flexDirection:"column",height:Te[e.id]?"auto":"400px","&:hover":{transform:"translateY(-4px)",boxShadow:Pe.shadows[8],"& .calendar-gradient":{opacity:1}},"&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"4px"}},onClick:()=>(async e=>{if(se){const t=S.find((t=>t.id===e));t&&0===t.loadedYears.length&&!Be[e]&&(Me((t=>({...t,[e]:!0}))),await se(e))}Se(`/calendar/${e}`)})(e.id),children:[(0,I.jsx)(s.A,{className:"calendar-gradient",sx:{position:"absolute",top:0,left:0,right:0,bottom:0,background:`linear-gradient(135deg, ${(0,l.X4)(Pe.palette.primary.main,.05)}, ${(0,l.X4)(Pe.palette.primary.light,.02)})`,opacity:0,transition:"opacity 0.3s ease",pointerEvents:"none"}}),(0,I.jsxs)(o.A,{sx:{p:3,display:"flex",flexDirection:"column",flexGrow:1,maxHeight:Te[e.id]?"none":"calc(100% - 60px)"},children:[(0,I.jsxs)(s.A,{sx:{mb:1.5},children:[(0,I.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,cursor:"pointer"},onClick:t=>{t.stopPropagation(),Ne(t,e.id)},children:[(0,I.jsxs)(p.A,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600,color:"text.primary",display:"flex",alignItems:"center",gap:1,mb:0},children:[e.name,t.totalPnL>0&&(0,I.jsx)(N.A,{sx:{fontSize:"1.2rem",color:"success.main"}}),t.totalPnL<0&&(0,I.jsx)(E.A,{sx:{fontSize:"1.2rem",color:"error.main"}})]}),(0,I.jsx)(m.A,{size:"small",onClick:t=>{t.stopPropagation(),Ne(t,e.id)},sx:{color:"text.secondary"},children:Te[e.id]?(0,I.jsx)(G.A,{}):(0,I.jsx)(Y.A,{})})]}),(0,I.jsxs)(d.A,{direction:"row",spacing:2,sx:{mb:1},children:[(0,I.jsxs)(p.A,{variant:"body2",color:"text.secondary",sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,I.jsx)(L.A,{sx:{fontSize:"1rem"}}),(0,Z.GP)(e.createdAt,"MMM d, yyyy")]}),(0,I.jsxs)(p.A,{variant:"body2",color:"text.secondary",sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,I.jsx)(V.A,{sx:{fontSize:"1rem"}}),(0,Z.GP)(e.lastModified,"MMM d, yyyy")]})]})]}),(0,I.jsx)(c.A,{sx:{my:1,opacity:.6}}),(0,I.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between",mb:1.5,px:.5},children:[!Te[e.id]&&(0,I.jsxs)(s.A,{children:[(0,I.jsx)(p.A,{variant:"caption",color:"text.secondary",children:"Initial Balance"}),(0,I.jsx)(p.A,{variant:"body1",sx:{fontWeight:600},children:(0,J.vv)(e.accountBalance)})]}),!Te[e.id]&&(0,I.jsxs)(s.A,{children:[(0,I.jsx)(p.A,{variant:"caption",color:"text.secondary",children:"Win Rate"}),(0,I.jsxs)(p.A,{variant:"body1",sx:{fontWeight:600},children:[t.winRate.toFixed(1),"%"]})]})]}),(0,I.jsxs)(d.A,{spacing:2,sx:{maxHeight:Te[e.id]?"none":"180px",overflow:"hidden",transition:"max-height 0.3s ease-in-out",flexGrow:0,mb:2},children:[(0,I.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:1.5,p:1.5,borderRadius:1,bgcolor:(0,l.X4)(Pe.palette.background.default,.6)},children:[(0,I.jsx)(s.A,{sx:{width:40,height:40,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:t.totalPnL>0?(0,l.X4)(Pe.palette.success.main,.1):t.totalPnL<0?(0,l.X4)(Pe.palette.error.main,.1):(0,l.X4)(Pe.palette.grey[500],.1)},children:(0,I.jsx)(N.A,{sx:{fontSize:"1.2rem",color:t.totalPnL>0?Pe.palette.success.main:t.totalPnL<0?Pe.palette.error.main:Pe.palette.grey[500]}})}),(0,I.jsxs)(s.A,{children:[(0,I.jsx)(p.A,{variant:"h6",sx:{color:t.totalPnL>0?"success.main":t.totalPnL<0?"error.main":"text.secondary",fontWeight:600},children:(0,J.vv)(t.totalPnL)}),(0,I.jsxs)(p.A,{variant:"body2",color:"text.secondary",children:["Growth: ",t.growthPercentage.toFixed(2),"%"]})]})]}),(0,I.jsxs)(s.A,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:2},children:[(0,I.jsxs)(s.A,{sx:{p:1.5,borderRadius:1,bgcolor:(0,l.X4)(Pe.palette.background.default,.6),opacity:Te[e.id]?1:0},children:[(0,I.jsx)(p.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Initial Balance"}),(0,I.jsx)(p.A,{variant:"h6",sx:{fontWeight:600},children:(0,J.vv)(t.initialBalance)}),(0,I.jsxs)(p.A,{variant:"body2",color:"text.secondary",children:["Current: ",(0,J.vv)(t.initialBalance+t.totalPnL)]})]}),(0,I.jsxs)(s.A,{sx:{p:1.5,borderRadius:1,bgcolor:(0,l.X4)(Pe.palette.background.default,.6),opacity:Te[e.id]?1:0},children:[(0,I.jsx)(p.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Win Rate"}),(0,I.jsxs)(p.A,{variant:"h6",sx:{fontWeight:600},children:[t.winRate.toFixed(1),"%"]}),(0,I.jsxs)(p.A,{variant:"body2",color:"text.secondary",children:[t.winCount,"W - ",t.lossCount,"L"]})]})]}),(0,I.jsxs)(s.A,{sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:2},children:[(0,I.jsxs)(s.A,{sx:{p:1.5,borderRadius:1,bgcolor:(0,l.X4)(Pe.palette.background.default,.6)},children:[(0,I.jsx)(p.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Profit Factor"}),(0,I.jsx)(j.A,{title:(0,I.jsxs)(s.A,{sx:{p:1,maxWidth:300},children:[(0,I.jsx)(p.A,{variant:"body2",gutterBottom:!0,children:"Profit Factor is the ratio of gross profit to gross loss. A value greater than 1 indicates profitable trading."}),(0,I.jsx)(p.A,{variant:"body2",sx:{mt:1},children:"\u2022 Value > 3: Excellent"}),(0,I.jsx)(p.A,{variant:"body2",children:"\u2022 Value 2-3: Very Good"}),(0,I.jsx)(p.A,{variant:"body2",children:"\u2022 Value 1.5-2: Good"}),(0,I.jsx)(p.A,{variant:"body2",children:"\u2022 Value 1-1.5: Marginal"}),(0,I.jsx)(p.A,{variant:"body2",children:"\u2022 Value < 1: Unprofitable"})]}),arrow:!0,placement:"top",children:(0,I.jsxs)(p.A,{variant:"h6",sx:{fontWeight:600,cursor:"help"},children:[(0,I.jsx)(H.A,{sx:{fontSize:"1rem",mr:.5}}),t.profitFactor.toFixed(2)]})}),(0,I.jsxs)(p.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.75rem"},children:["Avg Win: ",(0,J.vv)(t.avgWin)]})]}),(0,I.jsxs)(s.A,{sx:{p:1.5,borderRadius:1,bgcolor:(0,l.X4)(Pe.palette.background.default,.6)},children:[(0,I.jsx)(p.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Max Drawdown"}),(0,I.jsx)(j.A,{title:(0,I.jsxs)(s.A,{sx:{p:1,maxWidth:300},children:[(0,I.jsx)(p.A,{variant:"body2",gutterBottom:!0,children:"Maximum drawdown represents the largest peak-to-trough decline in your account balance."}),t.maxDrawdown>0&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(p.A,{variant:"body2",sx:{mt:1},children:["Recovery needed: ",t.drawdownRecoveryNeeded.toFixed(1),"%"]}),(0,I.jsxs)(p.A,{variant:"body2",sx:{mt:1},children:["Duration: ",t.drawdownDuration," days"]}),t.drawdownStartDate&&t.drawdownEndDate&&(0,I.jsxs)(p.A,{variant:"body2",sx:{mt:1},children:["Period: ",(0,Z.GP)(t.drawdownStartDate,"MMM d")," - ",(0,Z.GP)(t.drawdownEndDate,"MMM d")]})]})]}),arrow:!0,placement:"top",children:(0,I.jsxs)(p.A,{variant:"h6",sx:{fontWeight:600,cursor:"help"},children:[(0,I.jsx)(H.A,{sx:{fontSize:"1rem",mr:.5}}),t.maxDrawdown.toFixed(1),"%"]})}),(0,I.jsxs)(p.A,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.75rem",mt:.5},children:["Avg Loss: ",(0,J.vv)(t.avgLoss)]})]})]}),(e.weeklyTarget||e.monthlyTarget||e.yearlyTarget)&&(0,I.jsxs)(s.A,{sx:{p:1.5,borderRadius:1,bgcolor:(0,l.X4)(Pe.palette.background.default,.6)},children:[(0,I.jsx)(p.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Target Progress"}),(0,I.jsxs)(s.A,{sx:{display:"grid",gridTemplateColumns:e.weeklyTarget&&e.monthlyTarget&&e.yearlyTarget?"repeat(3, 1fr)":e.weeklyTarget&&e.monthlyTarget||e.weeklyTarget&&e.yearlyTarget||e.monthlyTarget&&e.yearlyTarget?"repeat(2, 1fr)":"1fr",gap:2},children:[e.weeklyTarget&&(0,I.jsxs)(s.A,{children:[(0,I.jsx)(p.A,{variant:"body2",color:"text.secondary",children:"Weekly"}),(0,I.jsxs)(p.A,{variant:"h6",sx:{fontWeight:600},children:[t.weeklyProgress.toFixed(1),"%"]})]}),e.monthlyTarget&&(0,I.jsxs)(s.A,{children:[(0,I.jsx)(p.A,{variant:"body2",color:"text.secondary",children:"Monthly"}),(0,I.jsxs)(p.A,{variant:"h6",sx:{fontWeight:600},children:[t.monthlyProgress.toFixed(1),"%"]})]}),e.yearlyTarget&&(0,I.jsxs)(s.A,{children:[(0,I.jsx)(p.A,{variant:"body2",color:"text.secondary",children:"Yearly"}),(0,I.jsxs)(p.A,{variant:"h6",sx:{fontWeight:600},children:[t.yearlyProgress.toFixed(1),"%"]})]})]})]}),(0,I.jsxs)(s.A,{sx:{p:1.5,borderRadius:1,bgcolor:(0,l.X4)(Pe.palette.background.default,.6)},children:[(0,I.jsx)(p.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"PnL Performance"}),(0,I.jsxs)(s.A,{sx:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:2},children:[(0,I.jsxs)(s.A,{children:[(0,I.jsx)(p.A,{variant:"body2",color:"text.secondary",children:"Weekly"}),(0,I.jsxs)(p.A,{variant:"h6",sx:{fontWeight:600,color:parseFloat(String(t.weeklyPnLPercentage))>0?"success.main":parseFloat(String(t.weeklyPnLPercentage))<0?"error.main":"text.primary"},children:[parseFloat(String(t.weeklyPnLPercentage))>0?"+":"",parseFloat(String(t.weeklyPnLPercentage)).toFixed(1),"%"]})]}),(0,I.jsxs)(s.A,{children:[(0,I.jsx)(p.A,{variant:"body2",color:"text.secondary",children:"Monthly"}),(0,I.jsxs)(p.A,{variant:"h6",sx:{fontWeight:600,color:parseFloat(String(t.monthlyPnLPercentage))>0?"success.main":parseFloat(String(t.monthlyPnLPercentage))<0?"error.main":"text.primary"},children:[parseFloat(String(t.monthlyPnLPercentage))>0?"+":"",parseFloat(String(t.monthlyPnLPercentage)).toFixed(1),"%"]})]}),(0,I.jsxs)(s.A,{children:[(0,I.jsx)(p.A,{variant:"body2",color:"text.secondary",children:"Yearly"}),(0,I.jsxs)(p.A,{variant:"h6",sx:{fontWeight:600,color:parseFloat(String(t.yearlyPnLPercentage))>0?"success.main":parseFloat(String(t.yearlyPnLPercentage))<0?"error.main":"text.primary"},children:[parseFloat(String(t.yearlyPnLPercentage))>0?"+":"",parseFloat(String(t.yearlyPnLPercentage)).toFixed(1),"%"]})]})]})]})]}),!Te[e.id]&&(0,I.jsx)(s.A,{sx:{textAlign:"center"},children:(0,I.jsx)(y.A,{size:"small",variant:"text",onClick:t=>Ne(t,e.id),startIcon:(0,I.jsx)(Y.A,{}),sx:{color:"text.secondary"},children:"Show Details"})}),Te[e.id]&&(0,I.jsx)(s.A,{sx:{textAlign:"center",mt:2},children:(0,I.jsx)(y.A,{size:"small",variant:"text",onClick:t=>Ne(t,e.id),startIcon:(0,I.jsx)(G.A,{}),sx:{color:"text.secondary"},children:"Hide Details"})})]}),(0,I.jsxs)(x.A,{sx:{justifyContent:"flex-end",p:2,pt:1,mt:"auto",borderTop:`1px solid ${(0,l.X4)(Pe.palette.divider,.1)}`,position:"relative",zIndex:2,backgroundColor:Pe.palette.background.paper},children:[(0,I.jsx)(y.A,{size:"small",startIcon:(0,I.jsx)(U.A,{}),onClick:t=>(async(e,t)=>{if(e.stopPropagation(),Fe(t),se&&(0===t.loadedYears.length||0===t.cachedTrades.length)){Me((e=>({...e,[t.id]:!0}))),await se(t.id);const e=S.find((e=>e.id===t.id));e&&Fe(e)}})(t,e),sx:{color:"primary.main","&:hover":{bgcolor:(0,l.X4)(Pe.palette.primary.main,.1)}},children:"View Charts"}),(0,I.jsx)(y.A,{size:"small",onClick:t=>((e,t)=>{e.stopPropagation(),be(t),ue(!0)})(t,e),sx:{color:"primary.main","&:hover":{bgcolor:(0,l.X4)(Pe.palette.primary.main,.1)}},children:"Edit"}),(0,I.jsx)(y.A,{size:"small",onClick:t=>((e,t)=>{e.stopPropagation(),Ae(t),pe(!0)})(t,e.id),sx:{color:"error.main","&:hover":{bgcolor:(0,l.X4)(Pe.palette.error.main,.1)}},children:"Delete"})]})]},e.id)}))}):(0,I.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",py:8,bgcolor:"background.paper",borderRadius:2,boxShadow:1},children:[(0,I.jsx)(L.A,{sx:{fontSize:48,color:"text.secondary",mb:2}}),(0,I.jsx)(p.A,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"No calendars yet"}),(0,I.jsx)(p.A,{variant:"body2",color:"text.secondary",align:"center",sx:{mb:3},children:"Create your first trading calendar to start tracking your trades"}),(0,I.jsx)(y.A,{variant:"contained",startIcon:(0,I.jsx)(M.A,{}),onClick:()=>he(!0),children:"Create Calendar"})]}),(0,I.jsx)(X,{open:xe,onClose:()=>he(!1),onSubmit:async e=>{fe(!0);try{await D(e.name,e.accountBalance,e.maxDailyDrawdown,e.weeklyTarget,e.monthlyTarget,e.yearlyTarget,e.riskPerTrade,e.dynamicRiskEnabled,e.increasedRiskPercentage,e.profitThresholdPercentage),he(!1)}catch(t){console.error("Error creating calendar:",t)}finally{fe(!1)}},isSubmitting:ve,mode:"create",title:"Create New Calendar",submitButtonText:"Create"}),(0,I.jsx)(X,{open:me,onClose:()=>ue(!1),onSubmit:async e=>{if(je){we(!0);try{const t={name:e.name,accountBalance:e.accountBalance,maxDailyDrawdown:e.maxDailyDrawdown,weeklyTarget:e.weeklyTarget,monthlyTarget:e.monthlyTarget,yearlyTarget:e.yearlyTarget,riskPerTrade:e.riskPerTrade,dynamicRiskEnabled:e.dynamicRiskEnabled,increasedRiskPercentage:e.increasedRiskPercentage,profitThresholdPercentage:e.profitThresholdPercentage};await W(je.id,t),ue(!1)}catch(t){console.error("Error updating calendar:",t)}finally{we(!1)}}},initialData:je||void 0,isSubmitting:ke,mode:"edit",title:"Edit Calendar",submitButtonText:"Save Changes"}),(0,I.jsxs)(b.A,{open:ge,onClose:()=>pe(!1),maxWidth:"xs",fullWidth:!0,...K.z,children:[(0,I.jsxs)(v.A,{sx:{display:"flex",alignItems:"center",gap:1,color:"error.main"},children:[(0,I.jsx)(_.A,{fontSize:"small"}),"Delete Calendar"]}),(0,I.jsx)(f.A,{children:(0,I.jsx)(p.A,{children:"Are you sure you want to delete this calendar? This action cannot be undone."})}),(0,I.jsxs)(k.A,{children:[(0,I.jsx)(y.A,{onClick:()=>pe(!1),sx:{color:"text.secondary"},children:"Cancel"}),(0,I.jsx)(y.A,{onClick:()=>{ye&&(F(ye),Ae(null)),pe(!1)},sx:{color:"error.main"},children:"Delete"})]})]}),(0,I.jsxs)(b.A,{open:null!==De,onClose:Ee,maxWidth:"lg",fullWidth:!0,...K.z,PaperProps:{sx:{minHeight:"80vh",maxHeight:"90vh",bgcolor:"background.paper",backgroundImage:"none"}},children:[(0,I.jsxs)(v.A,{sx:{borderBottom:`1px solid ${(0,l.X4)(Pe.palette.divider,.1)}`,pb:2,height:"60px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:1},children:[(0,I.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,I.jsx)(U.A,{color:"primary"}),(0,I.jsxs)(p.A,{variant:"h6",children:["Performance Charts - ",null===De||void 0===De?void 0:De.name]})]}),"month"===Re?(0,I.jsx)(y.A,{onClick:()=>ze(!0),startIcon:(0,I.jsx)(O.A,{}),variant:"outlined",size:"small",children:(0,Z.GP)(We,"MMMM yyyy")}):"year"===Re?(0,I.jsx)(w.A,{size:"small",variant:"outlined",children:(0,I.jsx)(T.A,{value:We.getFullYear(),onChange:e=>(e=>{const t=new Date(e,We.getMonth(),1);Ie(t)})(e.target.value),sx:{minWidth:120},children:Array.from({length:10},((e,t)=>(new Date).getFullYear()-t)).map((e=>(0,I.jsx)(C.A,{value:e,children:e},e)))})}):null]}),(0,I.jsx)(f.A,{sx:{p:3,backgroundColor:"dark"===Pe.palette.mode?(0,l.X4)(Pe.palette.background.paper,.6):"#f0f0f0","&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-track":{background:(0,l.X4)(Pe.palette.background.default,.5),borderRadius:"4px"},"&::-webkit-scrollbar-thumb":{background:(0,l.X4)(Pe.palette.primary.main,.2),borderRadius:"4px","&:hover":{background:(0,l.X4)(Pe.palette.primary.main,.3)}}},children:De&&(Le||se&&0===De.cachedTrades.length?(0,I.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"300px"},children:[(0,I.jsx)(P.A,{size:40}),(0,I.jsx)(p.A,{variant:"body2",sx:{mt:2,color:"text.secondary"},children:"Loading chart data..."})]}):(0,I.jsx)(Q.A,{trades:De.cachedTrades||[],selectedDate:We,accountBalance:De.accountBalance,monthlyTarget:null!==(t=De.monthlyTarget)&&void 0!==t?t:void 0,maxDailyDrawdown:De.maxDailyDrawdown,onTimePeriodChange:e=>{$e(e)}}))}),(0,I.jsx)(k.A,{sx:{p:2,borderTop:`1px solid ${(0,l.X4)(Pe.palette.divider,.1)}`,gap:1},children:(0,I.jsx)(y.A,{onClick:Ee,variant:"outlined",size:"small",children:"Close"})})]}),De&&"month"===Re&&(0,I.jsx)(ee.A,{open:Xe,onClose:()=>ze(!1),onDateSelect:e=>{Ie(e),ze(!1)},initialDate:We,trades:De.cachedTrades||[],accountBalance:De.accountBalance,monthlyTarget:null!==(a=De.monthlyTarget)&&void 0!==a?a:void 0,yearlyTarget:De.yearlyTarget})]}):(0,I.jsxs)(s.A,{sx:{textAlign:"center",mt:8},children:[(0,I.jsx)(p.A,{variant:"h5",gutterBottom:!0,children:"Welcome to Trade Tracker"}),(0,I.jsx)(p.A,{variant:"body1",color:"text.secondary",sx:{mb:4},children:"Sign in to start managing your trades"})]})})]})},se=oe}}]);
//# sourceMappingURL=214.64c5b382.chunk.js.map