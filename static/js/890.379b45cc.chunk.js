"use strict";(self.webpackChunksimple_trade_tracker=self.webpackChunksimple_trade_tracker||[]).push([[890],{3877:(e,t,r)=>{r.d(t,{A:()=>v});r(65043);var o=r(26887),n=r(23182),a=r(53969),i=r(42579),l=r(55895),s=r(70298),d=r(17873),c=r(12097),p=r(58315),u=r(18034),x=r(5114),h=r(65767),m=r(86262),g=r(60267),f=r(29651),y=r(99900),b=r(29066),A=r(70579);const v=e=>{let{onToggleTheme:t,mode:r,title:v="Trade Tracker",showBackButton:k=!1,backButtonPath:j="/",onBackClick:C}=e;const w=(0,g.A)(),S=(0,y.Zp)(),{user:I,signOut:T,signInWithGoogle:E}=(0,b.A)();return(0,A.jsx)(o.A,{position:"fixed",color:"transparent",elevation:.7,sx:{backdropFilter:"blur(8px)",backgroundColor:(0,f.X4)("light"===r?"#ffffff":w.palette.background.default,.9),borderBottom:`1px solid ${w.palette.divider}`,zIndex:e=>e.zIndex.drawer+1},children:(0,A.jsxs)(n.A,{sx:{px:{xs:1,sm:3}},children:[" ",(0,A.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",gap:{xs:1,sm:2},flexGrow:1,minWidth:0},children:[k&&(0,A.jsx)(i.A,{onClick:()=>{C?C():S(j)},size:"small",sx:{color:"text.secondary","&:hover":{color:"primary.main",bgcolor:(0,f.X4)(w.palette.primary.main,.08)}},children:(0,A.jsx)(p.A,{})}),(0,A.jsx)(l.A,{variant:"h5",component:"h1",sx:{flexGrow:1,fontSize:{xs:"1.1rem",sm:"1.5rem"},fontWeight:600,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",minWidth:0},children:v})]}),I?(0,A.jsxs)(s.A,{direction:"row",spacing:{xs:.5,sm:2},alignItems:"center",children:[(0,A.jsx)(i.A,{onClick:t,color:"inherit",size:"small",sx:{"&:hover":{bgcolor:(0,f.X4)(w.palette.primary.main,.1)}},children:"dark"===r?(0,A.jsx)(u.A,{}):(0,A.jsx)(x.A,{})}),(0,A.jsx)(s.A,{direction:"row",spacing:{xs:.5,sm:1},alignItems:"center",sx:{display:{xs:"none",sm:"flex"}},children:(0,A.jsx)(l.A,{variant:"body2",color:"text.secondary",sx:{maxWidth:{xs:"80px",sm:"none"},overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:I.email})}),(0,A.jsx)(d.A,{src:I.photoURL||void 0,sx:{width:{xs:28,sm:32},height:{xs:28,sm:32},bgcolor:w.palette.primary.main,fontSize:"0.875rem"},children:I.email?I.email[0].toUpperCase():"U"}),(0,A.jsxs)(c.A,{variant:"outlined",color:"inherit",onClick:async()=>{try{await T(),S("/")}catch(e){console.error("Error signing out:",e)}},size:"small",sx:{minWidth:{xs:"auto",sm:"auto"},px:{xs:1,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:[(0,A.jsxs)(a.A,{sx:{display:{xs:"none",sm:"flex"},alignItems:"center",gap:.5},children:[(0,A.jsx)(h.A,{sx:{fontSize:16}}),"Sign Out"]}),(0,A.jsx)(a.A,{sx:{display:{xs:"block",sm:"none"}},children:(0,A.jsx)(h.A,{sx:{fontSize:16}})})]})]}):(0,A.jsxs)(s.A,{direction:"row",spacing:{xs:.5,sm:2},alignItems:"center",children:[(0,A.jsx)(i.A,{onClick:t,color:"inherit",size:"small",sx:{"&:hover":{bgcolor:(0,f.X4)(w.palette.primary.main,.1)}},children:"dark"===r?(0,A.jsx)(u.A,{}):(0,A.jsx)(x.A,{})}),(0,A.jsxs)(c.A,{variant:"contained",onClick:async()=>{try{await E()}catch(e){console.error("Failed to sign in:",e)}},size:"small",sx:{bgcolor:"#4285F4","&:hover":{bgcolor:"#3367D6"},px:{xs:1.5,sm:2},fontSize:{xs:"0.75rem",sm:"0.875rem"},minWidth:{xs:"auto",sm:"auto"}},children:[(0,A.jsxs)(a.A,{sx:{display:{xs:"none",sm:"flex"},alignItems:"center",gap:.5},children:[(0,A.jsx)(m.A,{sx:{fontSize:16}}),"Sign in with Google"]}),(0,A.jsx)(a.A,{sx:{display:{xs:"block",sm:"none"}},children:"Sign In"})]})]})]})})}},14204:(e,t,r)=>{r.d(t,{A:()=>ce});var o=r(65043),n=r(53969),a=r(70298),i=r(55895),l=r(42579),s=r(80172),d=r(94799),c=r(12097),p=r(94527),u=r(26529),x=r(83290),h=r(60267),m=r(29651),g=r(39993),f=r(92968),y=r(3830),b=r(53974),A=r(63898),v=r(70149),k=r(27496),j=r(20312),C=r(369),w=r(94045),S=r(43900),I=r(39841),T=r(58128);const E=x.i7`
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
`,R=x.i7`
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
`,z=x.i7`
  from {
    transform: translateY(-20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
`,X=x.i7`
  from {
    transform: translateX(20px);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
`,$=x.i7`
  from {
    transform: translateX(-20px);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
`,D=x.i7`
  from {
    transform: scale(0.9);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
`,W=(x.i7`
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
  100% {
    transform: scale(1);
  }
`,x.i7`
  0%, 100% {
    transform: translateX(0);
  }
  10%, 30%, 50%, 70%, 90% {
    transform: translateX(-5px);
  }
  20%, 40%, 60%, 80% {
    transform: translateX(5px);
  }
`),F=x.i7`
  0%, 20%, 50%, 80%, 100% {
    transform: translateY(0);
  }
  40% {
    transform: translateY(-10px);
  }
  60% {
    transform: translateY(-5px);
  }
`,B=x.i7`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,L=((0,T.Ay)(n.A)((e=>{let{theme:t}=e;return{animation:`${E} 0.5s ease-out`}})),(0,T.Ay)(d.A)((e=>{let{theme:t}=e;return{animation:`${D} 0.3s ease-out`}})),(0,T.Ay)(n.A)({animation:"slideUp 0.3s ease-out","@keyframes slideUp":{from:{opacity:0,transform:"translateY(20px)"},to:{opacity:1,transform:"translateY(0)"}}}),(0,T.Ay)(n.A)({animation:"slideDown 0.3s ease-out","@keyframes slideDown":{from:{opacity:0,transform:"translateY(-20px)"},to:{opacity:1,transform:"translateY(0)"}}}),(0,T.Ay)(n.A)((e=>{let{theme:t}=e;return{animation:`${X} 0.5s ease-out`}})),(0,T.Ay)(n.A)((e=>{let{theme:t}=e;return{animation:`${$} 0.5s ease-out`}})),(0,T.Ay)(n.A)({animation:"pulse 2s infinite","@keyframes pulse":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(1.05)"},"100%":{transform:"scale(1)"}}}),(0,T.Ay)(n.A)((e=>{let{theme:t}=e;return{animation:`${W} 0.5s ease-in-out`}})),(0,T.Ay)(n.A)((e=>{let{theme:t}=e;return{animation:`${F} 2s infinite`}})),(0,T.Ay)(n.A)({animation:"dropdown 0.3s ease-out",transformOrigin:"top",overflow:"hidden","@keyframes dropdown":{from:{opacity:0,maxHeight:"0px",transform:"scaleY(0)"},to:{opacity:1,maxHeight:"1000px",transform:"scaleY(1)"}}}));(0,T.Ay)(n.A)((e=>{let{theme:t}=e;return{animation:`${B} 2s linear infinite`}})),(0,T.Ay)(n.A)((e=>{let{theme:t}=e;return{"& > *":{opacity:0,animation:`${E} 0.5s ease-out forwards`},"& > *:nth-of-type(1)":{animationDelay:"0.1s"},"& > *:nth-of-type(2)":{animationDelay:"0.2s"},"& > *:nth-of-type(3)":{animationDelay:"0.3s"},"& > *:nth-of-type(4)":{animationDelay:"0.4s"},"& > *:nth-of-type(5)":{animationDelay:"0.5s"},"& > *:nth-of-type(6)":{animationDelay:"0.6s"},"& > *:nth-of-type(7)":{animationDelay:"0.7s"}}})),(0,T.Ay)(n.A)((e=>{let{theme:t}=e;return{"& > *":{opacity:0,animation:`${R} 0.5s ease-out forwards`},"& > *:nth-of-type(1)":{animationDelay:"0.1s"},"& > *:nth-of-type(2)":{animationDelay:"0.2s"},"& > *:nth-of-type(3)":{animationDelay:"0.3s"},"& > *:nth-of-type(4)":{animationDelay:"0.4s"},"& > *:nth-of-type(5)":{animationDelay:"0.5s"},"& > *:nth-of-type(6)":{animationDelay:"0.6s"},"& > *:nth-of-type(7)":{animationDelay:"0.7s"}}})),(0,T.Ay)(n.A)((e=>{let{theme:t}=e;return{"& > *":{opacity:0,animation:`${z} 0.5s ease-out forwards`},"& > *:nth-of-type(1)":{animationDelay:"0.1s"},"& > *:nth-of-type(2)":{animationDelay:"0.2s"},"& > *:nth-of-type(3)":{animationDelay:"0.3s"},"& > *:nth-of-type(4)":{animationDelay:"0.4s"},"& > *:nth-of-type(5)":{animationDelay:"0.5s"},"& > *:nth-of-type(6)":{animationDelay:"0.6s"},"& > *:nth-of-type(7)":{animationDelay:"0.7s"}}})),(0,T.Ay)(n.A)((e=>{let{theme:t}=e;return{"& > *":{opacity:0,animation:`${D} 0.5s ease-out forwards`},"& > *:nth-of-type(1)":{animationDelay:"0.1s"},"& > *:nth-of-type(2)":{animationDelay:"0.2s"},"& > *:nth-of-type(3)":{animationDelay:"0.3s"},"& > *:nth-of-type(4)":{animationDelay:"0.4s"},"& > *:nth-of-type(5)":{animationDelay:"0.5s"},"& > *:nth-of-type(6)":{animationDelay:"0.6s"},"& > *:nth-of-type(7)":{animationDelay:"0.7s"}}}));var O=r(45384),M=r(62055),U=r(47471),P=r(79801),H=r(66185),K=r(38517),Y=r(81911),N=r(78776),_=r(24343),G=r(85877),J=r(70916),Z=r(91449),q=r(26582),Q=r(39073),V=r(19817),ee=r(26392),te=r(52395),re=r(29066),oe=r(70579);const ne=e=>{let{trade:t,calendarId:r,onTradeUpdated:a,onUpdateTradeProperty:d,size:p="medium",color:x="inherit"}=e;const{user:h}=(0,re.A)(),[m,g]=(0,o.useState)(null),[f,y]=(0,o.useState)(!1),[b,A]=(0,o.useState)(!1),[v,k]=(0,o.useState)(""),[j,C]=(0,o.useState)({open:!1,message:"",severity:"success"}),w=()=>{g(null)},S=(e,t)=>{C({open:!0,message:e,severity:t})},I=()=>{C((e=>({...e,open:!1})))},T=t.isShared&&t.shareLink;return(0,oe.jsxs)(oe.Fragment,{children:[(0,oe.jsx)(u.A,{title:T?"Manage sharing":"Share trade",children:(0,oe.jsx)(l.A,{onClick:e=>{g(e.currentTarget)},size:p,color:x,disabled:f,sx:{color:T?"primary.main":"inherit"},children:f?(0,oe.jsx)(s.A,{size:20}):(0,oe.jsx)(q.A,{})})}),(0,oe.jsx)(M.A,{anchorEl:m,open:Boolean(m),onClose:w,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:T?[(0,oe.jsxs)(U.A,{onClick:()=>{k(t.shareLink),A(!0),w()},children:[(0,oe.jsx)(P.A,{children:(0,oe.jsx)(V.A,{fontSize:"small"})}),(0,oe.jsx)(H.A,{children:"Copy share link"})]},"copy"),(0,oe.jsxs)(U.A,{onClick:async()=>{if(t.shareId){y(!0),w();try{const r=(0,te.Uz)(),o=(0,te.Qg)(r,"deactivateSharedTradeV2");if(await o({shareId:t.shareId}),d)try{const e=await d(t.id,(e=>({...e,shareLink:void 0,isShared:!1,shareId:void 0})));e&&a&&a(e)}catch(e){console.error("Error updating trade to remove sharing information:",e)}else if(a){const e={...t,shareLink:void 0,isShared:!1,shareId:void 0};a(e)}S("Trade sharing stopped","success")}catch(e){console.error("Error unsharing trade:",e),S("Failed to stop sharing","error")}finally{y(!1)}}else S("No active share found for this trade","error")},children:[(0,oe.jsx)(P.A,{children:(0,oe.jsx)(ee.A,{fontSize:"small"})}),(0,oe.jsx)(H.A,{children:"Stop sharing"})]},"unshare")]:(0,oe.jsxs)(U.A,{onClick:async()=>{if(h){y(!0),w();try{if(t.shareLink&&t.isShared)return k(t.shareLink),A(!0),S("Using existing share link","info"),void y(!1);const o=(0,te.Uz)(),n=(0,te.Qg)(o,"generateTradeShareLinkV2"),i=(await n({calendarId:r,tradeId:t.id})).data,l=i.directLink||i.shareLink;if(k(l),A(!0),d)try{const e=await d(t.id,(e=>({...e,shareLink:l,isShared:!0,sharedAt:new Date,shareId:i.shareId})));e&&a&&a(e)}catch(e){console.error("Error updating trade with sharing information:",e)}else if(a){const e={...t,shareLink:l,isShared:!0,sharedAt:new Date,shareId:i.shareId};a(e)}S("Share link generated successfully!","success")}catch(e){console.error("Error sharing trade:",e),S("Failed to generate share link","error")}finally{y(!1)}}else S("You must be logged in to share trades","error")},children:[(0,oe.jsx)(P.A,{children:(0,oe.jsx)(Q.A,{fontSize:"small"})}),(0,oe.jsx)(H.A,{children:"Generate share link"})]})}),(0,oe.jsxs)(K.A,{open:b,onClose:()=>A(!1),maxWidth:"sm",fullWidth:!0,children:[(0,oe.jsx)(Y.A,{children:"Share Trade"}),(0,oe.jsx)(N.A,{children:(0,oe.jsxs)(n.A,{sx:{mb:2},children:[(0,oe.jsx)(i.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Anyone with this link can view this trade:"}),(0,oe.jsx)(_.A,{fullWidth:!0,value:v,InputProps:{readOnly:!0},variant:"outlined",size:"small",sx:{mt:1}})]})}),(0,oe.jsxs)(G.A,{children:[(0,oe.jsx)(c.A,{onClick:()=>A(!1),children:"Close"}),(0,oe.jsx)(c.A,{onClick:async()=>{try{await navigator.clipboard.writeText(v),S("Link copied to clipboard!","success"),A(!1)}catch(e){console.error("Error copying to clipboard:",e),S("Failed to copy link","error")}},variant:"contained",startIcon:(0,oe.jsx)(V.A,{}),children:"Copy Link"})]})]}),(0,oe.jsx)(J.A,{open:j.open,autoHideDuration:4e3,onClose:I,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,oe.jsx)(Z.A,{onClose:I,severity:j.severity,variant:"filled",children:j.message})})]})};var ae=r(46153);const ie=new Set,le=x.i7`
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
`,se=e=>e.pending||!1,de=(e,t)=>se(e)||!0===t[e.id],ce=e=>{let{tradeData:t,isExpanded:r,setZoomedImage:x,onUpdateTradeProperty:T,calendarId:E,trades:R,onOpenGalleryMode:z}=e;const X=(0,h.A)(),[$,D]=(0,o.useState)(t),[W,F]=(0,o.useState)(!1),[B,M]=(0,o.useState)(!1),[U,P]=(0,o.useState)({}),[H,K]=(0,o.useState)((()=>{const e=localStorage.getItem("tradeDetail_showTagGroups");return null!==e&&JSON.parse(e)}));(0,o.useEffect)((()=>{D(t)}),[t]),(0,o.useEffect)((()=>{if($.images&&$.images.length>0){const e={};$.images.forEach((t=>{if(!se(t))if(ie.has(t.url))e[t.id]=!1;else{const r=new Image;r.onload=()=>{ie.add(t.url),P((e=>({...e,[t.id]:!1})))},r.onerror=()=>{P((e=>({...e,[t.id]:!1})))},e[t.id]=!0,r.src=t.url}})),P(e)}}),[$.images]);return r?(0,oe.jsx)(L,{children:(0,oe.jsx)(n.A,{sx:{p:2,borderBottomLeftRadius:8,borderBottomRightRadius:8,borderTopRightRadius:0,borderTopLeftRadius:0,borderLeft:`1px solid ${X.palette.divider}`,borderRight:`1px solid ${X.palette.divider}`,borderBottom:`1px solid ${X.palette.divider}`,borderTop:`1px solid ${X.palette.divider}`,backgroundColor:(0,m.X4)(X.palette.background.paper,.5),mb:1,width:"100%"},children:(0,oe.jsxs)(a.A,{spacing:3,children:[(0,oe.jsxs)(n.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",width:"100%"},children:[(0,oe.jsx)(n.A,{sx:{flex:1},children:$.name&&(0,oe.jsxs)(i.A,{variant:"h6",color:"text.primary",sx:{display:"block",fontWeight:700},children:["\ud83d\udcc8 ",$.name]})}),(0,oe.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:.5},children:[E&&(0,oe.jsx)(ne,{trade:$,calendarId:E,onTradeUpdated:e=>D(e),onUpdateTradeProperty:T,size:"small",color:"inherit"}),T&&(0,oe.jsx)(l.A,{onClick:async()=>{if(T&&!B)try{M(!0);const e=await T($.id,(e=>({...e,isPinned:!e.isPinned})));D(e)}catch(e){console.error("Error toggling pin status:",e)}finally{M(!1)}},disabled:B,sx:{color:$.isPinned?"primary.main":"text.secondary","&:hover":{backgroundColor:(0,m.X4)(X.palette.primary.main,.1),color:"primary.main"},"&:disabled":{color:"text.disabled"}},children:B?(0,oe.jsx)(s.A,{size:20,color:"inherit"}):$.isPinned?(0,oe.jsx)(f.A,{sx:{fontSize:20}}):(0,oe.jsx)(y.A,{sx:{fontSize:20}})})]})]}),(0,oe.jsxs)(n.A,{sx:{width:"100%"},children:[(0,oe.jsx)(i.A,{variant:"subtitle2",color:"text.primary",sx:{mb:1.5,display:"block",fontWeight:700,fontSize:"0.9rem"},children:"Properties"}),(0,oe.jsxs)(a.A,{spacing:2,sx:{width:"100%"},children:[(0,oe.jsxs)(n.A,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)"},gap:2,width:"100%"},children:[($.entry||$.exit)&&(0,oe.jsx)(d.A,{elevation:0,sx:{p:1.5,borderRadius:2,backgroundColor:(0,m.X4)(X.palette.info.main,.05),border:`1px solid ${(0,m.X4)(X.palette.info.main,.1)}`,display:"flex",flexDirection:"column",gap:.5,gridColumn:{xs:"1",sm:"span 2"}},children:(0,oe.jsxs)(n.A,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",gap:{xs:1,sm:0},width:"100%"},children:[$.entry&&(0,oe.jsxs)(n.A,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[(0,oe.jsx)(i.A,{variant:"caption",sx:{fontWeight:600,color:"info.main"},children:"Entry Price"}),(0,oe.jsx)(i.A,{variant:"body1",sx:{fontWeight:600},children:$.entry})]}),$.exit&&(0,oe.jsxs)(n.A,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[(0,oe.jsx)(i.A,{variant:"caption",sx:{fontWeight:600,color:"info.main"},children:"Exit Price"}),(0,oe.jsx)(i.A,{variant:"body1",sx:{fontWeight:600},children:$.exit})]})]})}),(0,oe.jsxs)(d.A,{elevation:0,sx:{p:1.5,borderRadius:2,backgroundColor:(0,m.X4)($.amount>0?X.palette.success.main:$.amount<0?X.palette.error.main:X.palette.grey[500],.1),border:`1px solid ${(0,m.X4)($.amount>0?X.palette.success.main:$.amount<0?X.palette.error.main:X.palette.grey[500],.2)}`,display:"flex",flexDirection:"column",gap:.5},children:[(0,oe.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,oe.jsx)(b.A,{sx:{fontSize:18,color:$.amount>0?"success.main":$.amount<0?"error.main":"text.secondary"}}),(0,oe.jsx)(i.A,{variant:"caption",sx:{fontWeight:600,color:$.amount>0?"success.main":$.amount<0?"error.main":"text.secondary"},children:"PnL"})]}),(0,oe.jsxs)(n.A,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},gap:{xs:1,sm:0}},children:[(0,oe.jsxs)(i.A,{variant:"h6",sx:{fontWeight:700,color:$.amount>0?"success.main":$.amount<0?"error.main":"text.primary",fontSize:"1.1rem"},children:[$.amount>0?"+":"",$.amount.toFixed(2)]}),(0,oe.jsx)(n.A,{sx:{display:"flex",gap:1,alignItems:"center"},children:T&&(0,oe.jsx)(c.A,{size:"small",variant:"outlined",color:"win"===$.type?"success":"error",onClick:async()=>{if(T&&!W)try{F(!0);const e=await T($.id,(e=>({...e,type:"win"===e.type?"loss":"win",amount:"win"===e.type?-Math.abs(e.amount):Math.abs(e.amount)})));D(e)}catch(e){console.error("Error toggling trade type:",e)}finally{F(!1)}},disabled:W,sx:{minWidth:"80px",fontSize:"0.7rem",position:"relative"},children:W?(0,oe.jsxs)(oe.Fragment,{children:[(0,oe.jsx)(s.A,{size:16,color:"inherit",sx:{position:"absolute",left:"8px"}}),"Processing..."]}):(0,oe.jsxs)(oe.Fragment,{children:["Toggle ","win"===$.type?"Win":"Loss"]})})})]})]}),(0,oe.jsxs)(d.A,{elevation:0,sx:{p:1.5,borderRadius:2,backgroundColor:(0,m.X4)(X.palette.primary.main,.05),border:`1px solid ${(0,m.X4)(X.palette.primary.main,.1)}`,display:"flex",flexDirection:"column",gap:.5},children:[(0,oe.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,oe.jsx)(A.A,{sx:{fontSize:18,color:"primary.main"}}),(0,oe.jsx)(i.A,{variant:"caption",sx:{fontWeight:600,color:"primary.main"},children:"Date"})]}),(0,oe.jsx)(i.A,{variant:"h6",sx:{fontWeight:700,fontSize:"1.1rem"},children:(0,g.A)($.date,"MMMM d, yyyy")})]}),$.riskToReward&&(0,oe.jsxs)(d.A,{elevation:0,sx:{p:1.5,borderRadius:2,backgroundColor:(0,m.X4)(X.palette.warning.main,.05),border:`1px solid ${(0,m.X4)(X.palette.warning.main,.1)}`,display:"flex",flexDirection:"column",gap:.5},children:[(0,oe.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,oe.jsx)(v.A,{sx:{fontSize:18,color:"warning.main"}}),(0,oe.jsx)(i.A,{variant:"caption",sx:{fontWeight:600,color:"warning.main"},children:"Risk to Reward"})]}),(0,oe.jsxs)(n.A,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[(0,oe.jsx)(i.A,{variant:"h6",sx:{fontWeight:700,fontSize:"1.1rem"},children:$.riskToReward}),"win"===$.type&&$.riskToReward&&(0,oe.jsxs)(i.A,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.75rem",fontWeight:500},children:["Amount Risked: $",(Math.abs($.amount)/$.riskToReward).toFixed(2)]})]})]}),$.session&&(0,oe.jsxs)(d.A,{elevation:0,sx:{p:1.5,borderRadius:2,backgroundColor:(0,m.X4)(X.palette.info.main,.05),border:`1px solid ${(0,m.X4)(X.palette.info.main,.1)}`,display:"flex",flexDirection:"column",gap:.5},children:[(0,oe.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,oe.jsx)(k.A,{sx:{fontSize:18,color:"info.main"}}),(0,oe.jsx)(i.A,{variant:"caption",sx:{fontWeight:600,color:"info.main"},children:"Session"})]}),(0,oe.jsx)(i.A,{variant:"h6",sx:{fontWeight:700,fontSize:"1.1rem"},children:$.session})]})]}),(0,oe.jsx)(p.A,{sx:{my:1.5}}),$.images&&$.images.length>0&&(0,oe.jsxs)(n.A,{children:[(0,oe.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:.5,mb:.5},children:[(0,oe.jsx)(j.A,{sx:{fontSize:16,color:"text.secondary"}}),(0,oe.jsx)(i.A,{variant:"caption",color:"text.secondary",sx:{fontWeight:600,display:"block"},children:"Images"})]}),(0,oe.jsx)(n.A,{sx:{width:"100%"},children:(()=>{const e={};$.images.forEach((t=>{const r=void 0!==t.row?t.row:0;e[r]||(e[r]=[]),e[r].push(t)}));return Object.entries(e).sort(((e,t)=>{let[r]=e,[o]=t;return Number(r)-Number(o)})).map((e=>{let[t,r]=e;return r})).map(((e,t)=>(0,oe.jsx)(n.A,{sx:{display:"flex",flexDirection:{xs:e.length>1?"column":"row",sm:"row"},width:"100%",mb:2,gap:1},children:e.sort(((e,t)=>(e.column||0)-(t.column||0))).map(((r,o)=>(0,oe.jsxs)(n.A,{sx:{width:{xs:e.length>1?"100%":`${r.columnWidth||100}%`,sm:`${r.columnWidth||100}%`},borderRadius:1,overflow:"hidden",position:"relative"},children:[(0,oe.jsxs)(n.A,{sx:{position:"relative","&:hover .overlay":{opacity:1},...r.width&&r.height?{paddingTop:r.height/r.width*100+"%",maxHeight:e.length>1?"300px":"none",overflow:"hidden",width:"100%",height:"auto"}:{}},children:[r.width&&r.height&&de(r,U)&&(0,oe.jsx)(n.A,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:e=>(0,m.X4)(e.palette.divider,.2),display:"flex",alignItems:"center",justifyContent:"center",zIndex:1}}),(0,oe.jsx)(n.A,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:2,cursor:de(r,U)?"default":"pointer",...de(r,U)&&{background:e=>{const t="dark"===e.palette.mode?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.04)";return`linear-gradient(90deg, ${t} 25%, ${"dark"===e.palette.mode?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.1)"} 50%, ${t} 75%)`},backgroundSize:"200% 100%",animation:`${le} 1.5s infinite linear`,willChange:"background-position",display:"flex",alignItems:"center",justifyContent:"center"}},children:se(r)?(0,oe.jsxs)(n.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:1},children:[(0,oe.jsx)(s.A,{size:24,color:"primary"}),(0,oe.jsx)(i.A,{variant:"caption",sx:{color:"text.secondary",fontWeight:500},children:"Uploading..."})]}):(0,oe.jsx)("img",{src:r.url,alt:r.caption||"Trade Image",style:{width:"100%",maxHeight:e.length>1?"300px":"none",objectFit:"contain",position:r.width&&r.height?"absolute":"relative",top:0,left:0,height:r.width&&r.height?"100%":"auto",opacity:U[r.id]?0:1,transition:"opacity 0.3s ease-in-out"},onLoad:()=>{P((e=>({...e,[r.id]:!1})))}})}),!de(r,U)&&(0,oe.jsx)(n.A,{className:"overlay",sx:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",opacity:0,transition:"opacity 0.2s ease-in-out",cursor:"pointer",zIndex:3},onClick:()=>{var e;const t=(null===(e=$.images)||void 0===e?void 0:e.filter((e=>!se(e))).map((e=>e.url)))||[],o=t.findIndex((e=>e===r.url));x(r.url,t,o)},children:(0,oe.jsx)(C.A,{sx:{color:"white",fontSize:32}})})]}),r.caption&&(0,oe.jsx)(n.A,{sx:{p:1,borderTop:`1px solid ${X.palette.divider}`,backgroundColor:(0,m.X4)(X.palette.background.paper,.7),maxHeight:"none",overflow:"visible"},children:(0,oe.jsx)(i.A,{variant:"caption",sx:{color:"text.secondary",display:"block",whiteSpace:"pre-line",fontSize:"0.7rem",lineHeight:1.3,overflow:"visible"},children:r.caption})})]},`image-${r.id}-${t}-${o}`)))},`row-${t}`)))})()})]}),$.notes&&(0,oe.jsxs)(n.A,{children:[(0,oe.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:.5,mb:.5},children:[(0,oe.jsx)(w.A,{sx:{fontSize:16,color:"text.secondary"}}),(0,oe.jsx)(i.A,{variant:"caption",color:"text.secondary",sx:{fontWeight:600,display:"block"},children:"Notes"})]}),(0,oe.jsx)(n.A,{sx:{borderRadius:1,backgroundColor:(0,m.X4)(X.palette.background.paper,.7),overflow:"visible",p:1},children:(0,oe.jsx)(ae.A,{value:$.notes,disabled:!0,hideCharacterCount:!0,minHeight:50,maxHeight:400,calendarId:E,trades:R,onOpenGalleryMode:z})})]}),(0,oe.jsxs)(n.A,{sx:{mb:2},children:[(0,oe.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[(0,oe.jsx)(i.A,{variant:"subtitle2",color:"text.primary",sx:{fontWeight:600,fontSize:"0.9rem"},children:"Tags"}),(0,oe.jsx)(u.A,{title:H?"Show flat tag list":"Group tags by category",children:(0,oe.jsx)(l.A,{size:"small",onClick:()=>{const e=!H;K(e),localStorage.setItem("tradeDetail_showTagGroups",JSON.stringify(e))},sx:{color:"text.secondary","&:hover":{backgroundColor:(0,m.X4)(X.palette.primary.main,.1),color:"primary.main"}},children:H?(0,oe.jsx)(S.A,{sx:{fontSize:18}}):(0,oe.jsx)(I.A,{sx:{fontSize:18}})})})]}),(0,oe.jsx)(n.A,{sx:{pl:1},children:(0,oe.jsx)(O.Kb,{tags:$.tags||[],showGroups:H,chipSize:"medium"})})]})]})]})]})})}):null}},32396:(e,t,r)=>{r.d(t,{A:()=>p});r(65043);var o=r(38517),n=r(81911),a=r(78776),i=r(55895),l=r(85877),s=r(12097),d=r(80172),c=r(70579);const p=e=>{let{open:t,title:r,message:p,confirmText:u="Confirm",cancelText:x="Cancel",onConfirm:h,onCancel:m,isSubmitting:g=!1,confirmColor:f="primary"}=e;return(0,c.jsxs)(o.A,{open:t,onClose:m,maxWidth:"xs",fullWidth:!0,children:[(0,c.jsx)(n.A,{children:r}),(0,c.jsx)(a.A,{children:(0,c.jsx)(i.A,{children:p})}),(0,c.jsxs)(l.A,{children:[(0,c.jsx)(s.A,{onClick:m,disabled:g,children:x}),(0,c.jsxs)(s.A,{onClick:h,color:f,variant:"contained",disabled:g,sx:{minWidth:"100px",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",gap:1},children:[u,g&&(0,c.jsx)(d.A,{size:20,sx:{position:"static"}})]})]})]})}},32515:(e,t,r)=>{r.d(t,{A:()=>m});var o=r(65043),n=r(60267),a=r(38517),i=r(53969),l=r(42579),s=r(92490),d=r(22038),c=r(369),p=r(151),u=r(27421),x=r(46577),h=r(70579);const m=e=>{let{open:t,onClose:r,imageProp:m}=e;const g=(null===m||void 0===m?void 0:m.allImages)||[],f=null===m||void 0===m?void 0:m.allImages[(null===m||void 0===m?void 0:m.selectetdImageIndex)||0],y=g.length>0?g:f?[f]:[],[b,A]=(0,o.useState)(m);null==b&&m&&A(m);const v=(0,n.A)(),[k,j]=(0,o.useState)(1),[C,w]=(0,o.useState)({x:0,y:0}),[S,I]=(0,o.useState)(!1),[T,E]=(0,o.useState)({x:0,y:0}),R=(0,o.useRef)(null),z=(0,o.useRef)(null),X=()=>{j(1),w({x:0,y:0})},$=(0,o.useCallback)((()=>{y.length<=1||A((e=>e?{...e,selectetdImageIndex:(e.selectetdImageIndex+1)%y.length}:e))}),[y.length]),D=(0,o.useCallback)((()=>{y.length<=1||A((e=>e?{...e,selectetdImageIndex:(e.selectetdImageIndex-1+y.length)%y.length}:e))}),[y.length]);return(0,o.useEffect)((()=>{t&&X()}),[t,b]),(0,o.useEffect)((()=>{const e=e=>{t&&("ArrowLeft"===e.key?D():"ArrowRight"===e.key?$():"Escape"===e.key&&r())};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[t,b,y.length,D,$,r]),(0,o.useEffect)((()=>{const e=()=>{I(!1)};return document.addEventListener("mouseup",e),()=>{document.removeEventListener("mouseup",e)}}),[]),(0,h.jsx)(a.A,{open:t,onClose:r,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{boxShadow:"none",backgroundColor:"transparent",overflow:"hidden",maxWidth:"80%","& .MuiDialogContent-root":{...(0,x.J)(v)}}},children:y.length>0&&(0,h.jsxs)(h.Fragment,{children:[y.length>1&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(i.A,{sx:{position:"absolute",left:16,top:"50%",transform:"translateY(-50%)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1200},children:(0,h.jsx)(l.A,{onClick:D,sx:{color:"white",backgroundColor:"rgba(0, 0, 0, 0.5)","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.7)"}},children:(0,h.jsx)(s.A,{})})}),(0,h.jsx)(i.A,{sx:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1200},children:(0,h.jsx)(l.A,{onClick:$,sx:{color:"white",backgroundColor:"rgba(0, 0, 0, 0.5)","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.7)"}},children:(0,h.jsx)(d.A,{})})})]}),y.length>1&&(0,h.jsxs)(i.A,{sx:{position:"absolute",bottom:16,left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0, 0, 0, 0.5)",color:"white",borderRadius:1,px:1.5,py:.5,fontSize:"0.875rem",fontWeight:500,zIndex:1200},children:[(null===b||void 0===b?void 0:b.selectetdImageIndex)+1," / ",y.length]}),(0,h.jsxs)(i.A,{ref:z,sx:{position:"relative",width:"100%",height:"80vh",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",cursor:k>1?"grab":"default","&:active":{cursor:k>1?"grabbing":"default"}},onWheel:e=>{e.preventDefault();const t=e.deltaY>0?Math.max(1,k-.1):Math.min(3,k+.1);j(t)},onMouseDown:e=>{k>1&&(e.preventDefault(),I(!0),E({x:e.clientX-C.x,y:e.clientY-C.y}))},onMouseMove:e=>{if(!S||k<=1)return;e.preventDefault();const t=e.clientX-T.x,r=e.clientY-T.y;if(R.current&&z.current){const e=R.current.getBoundingClientRect(),o=e.width*(k-1)/2,n=e.height*(k-1)/2,a=Math.min(Math.max(-o,t),o),i=Math.min(Math.max(-n,r),n);w({x:a,y:i})}},onMouseUp:e=>{e.preventDefault(),I(!1)},onMouseLeave:e=>{e.preventDefault(),I(!1)},children:[(0,h.jsx)(i.A,{sx:{position:"relative",transform:`scale(${k}) translate(${C.x}px, ${C.y}px)`,transition:S?"none":"transform 0.1s ease-out"},children:(0,h.jsx)("img",{ref:R,src:y[(null===b||void 0===b?void 0:b.selectetdImageIndex)||0],alt:`Trade Image ${(null===b||void 0===b?void 0:b.selectetdImageIndex)+1} of ${y.length}`,style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain",userSelect:"none",pointerEvents:"none"}})}),(0,h.jsxs)(i.A,{sx:{position:"absolute",top:16,right:16,display:"flex",gap:1,backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:1,p:.5},children:[(0,h.jsx)(l.A,{onClick:()=>j(Math.max(1,k-.1)),disabled:k<=1,sx:{color:"white","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:(0,h.jsx)(c.A,{sx:{transform:"rotate(45deg)"}})}),(0,h.jsx)(l.A,{onClick:()=>j(Math.min(3,k+.1)),disabled:k>=3,sx:{color:"white","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:(0,h.jsx)(c.A,{})}),(0,h.jsx)(l.A,{onClick:X,disabled:1===k,sx:{color:"white","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:(0,h.jsx)(p.A,{})}),(0,h.jsx)(l.A,{onClick:r,sx:{color:"white","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:(0,h.jsx)(u.A,{})})]})]})]})})}},45384:(e,t,r)=>{r.d(t,{mY:()=>g,pp:()=>C,Kb:()=>b});r(3877);var o=r(65043),n=r(60267),a=r(38517),i=r(53969),l=r(55895),s=r(42579),d=r(12097),c=r(80172),p=r(27421),u=r(75499),x=r(46577),h=r(64924),m=r(70579);const g=e=>{let{open:t,onClose:r,title:o,actions:g,children:f,maxWidth:y="sm",fullWidth:b=!0,hideCloseButton:A=!1,hideFooterCancelButton:v=!1,cancelButtonText:k="Cancel",cancelButtonAction:j,primaryButtonText:C="Save",primaryButtonAction:w,isSubmitting:S=!1,contentSx:I={},...T}=e;const E=(0,n.A)();return(0,m.jsxs)(a.A,{open:t,onClose:r,maxWidth:y,fullWidth:b,...u.z,slotProps:{paper:{sx:{borderRadius:2,boxShadow:"none",border:`1px solid ${E.palette.divider}`,maxHeight:"90vh",overflow:"hidden","& .MuiDialogContent-root":{...(0,x.J)(E)}}}},...T,children:[(0,m.jsxs)(h.A8,{children:[(0,m.jsx)(i.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:"string"===typeof o?(0,m.jsx)(l.A,{variant:"h6",children:o}):o}),!A&&(0,m.jsx)(s.A,{onClick:r,size:"small",children:(0,m.jsx)(p.A,{})})]}),(0,m.jsx)(h.DZ,{sx:I,children:f}),(g||!v||w)&&(0,m.jsx)(h.x$,{children:(0,m.jsxs)(i.A,{sx:{display:"flex",gap:1},children:[(!v||j)&&(0,m.jsx)(d.A,{variant:"outlined",color:"primary",onClick:j||r,children:k}),g,w&&(0,m.jsxs)(d.A,{variant:"contained",color:"primary",onClick:w,disabled:S,sx:{minWidth:"100px",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",gap:1},children:[C,S&&(0,m.jsx)(c.A,{size:16,sx:{position:"static"}})]})]})})]})};var f=r(83759),y=r(81084);const b=e=>{let{tags:t,onTagClick:r,onTagDelete:a,showGroups:s=!0,chipSize:d="small",maxHeight:c}=e;const p=t.filter((e=>!e.startsWith("Partials:"))),u=(0,n.A)(),x=(0,o.useMemo)((()=>{if(!p||0===p.length)return{groups:{},ungroupedTags:[]};const e={},t=[];return(0,y.GI)(p).forEach((t=>{e[t]=(0,y.o)(p||[],t)})),p.forEach((e=>{(0,y.dn)(e)||t.push(e)})),{groups:e,ungroupedTags:t}}),[p]);return p&&0!==p.length?(0,m.jsxs)(i.A,{sx:{display:"flex",flexDirection:"column",gap:1,maxHeight:c,overflowY:c?"auto":"visible"},children:[s&&Object.keys(x.groups).length>0&&(0,m.jsx)(m.Fragment,{children:Object.entries(x.groups).map((e=>{let[t,o]=e;return(0,m.jsxs)(i.A,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[(0,m.jsx)(l.A,{variant:"caption",color:"text.secondary",sx:{fontWeight:600},children:t}),(0,m.jsx)(i.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:o.map((e=>(0,m.jsx)(f.A,{label:(0,y.kq)(e),size:d,onClick:r?()=>r(e):void 0,onDelete:a?()=>a(e):void 0,sx:(0,y.dO)(e,u)},e)))})]},t)}))}),x.ungroupedTags.length>0&&(0,m.jsxs)(i.A,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[s&&Object.keys(x.groups).length>0&&(0,m.jsx)(l.A,{variant:"caption",color:"text.secondary",sx:{fontWeight:600},children:"Tags"}),(0,m.jsx)(i.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:x.ungroupedTags.map((e=>(0,m.jsx)(f.A,{label:(0,y.t)(e),size:d,onClick:r?()=>r(e):void 0,onDelete:a?()=>a(e):void 0,sx:(0,y.dO)(e,u)},e)))})]}),!s&&(0,m.jsx)(i.A,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:p.map((e=>(0,m.jsx)(f.A,{label:(0,y.t)(e),size:d,onClick:r?()=>r(e):void 0,onDelete:a?()=>a(e):void 0,sx:(0,y.dO)(e,u)},e)))})]}):null};r(32396),r(46153);var A=r(10256),v=r(3353),k=r(67203),j=r(47471);const C=e=>{let{label:t,options:r,helperText:o,...n}=e;return(0,m.jsxs)(i.A,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[(0,m.jsxs)(A.A,{fullWidth:!0,size:"small",children:[(0,m.jsx)(v.A,{children:t}),(0,m.jsx)(k.A,{label:t,...n,children:r.map((e=>(0,m.jsx)(j.A,{value:e.value,children:e.label},e.value)))})]}),o&&(0,m.jsx)(l.A,{variant:"caption",color:"text.secondary",children:o})]})}},46153:(e,t,r)=>{r.d(t,{A:()=>ae});var o=r(65043),n=r(60267),a=r(62055),i=r(53969),l=r(55895),s=r(26529),d=r(42579),c=r(94527),p=r(47471),u=r(94799),x=r(23182),h=r(96370),m=r(82332),g=r(38517),f=r(81911),y=r(78776),b=r(24343),A=r(85877),v=r(12097),k=r(29651),j=r(46577),C=r(63697),w=r(79430),S=r(45714),I=r(16127),T=r(80349),E=r(46699),R=r(83974),z=r(85490),X=r(39073),$=r(10757),D=r(54410);r(55163);function W(e){if(!e)return D.EditorState.createEmpty();try{const t=JSON.parse(e);if(t&&"object"===typeof t&&Array.isArray(t.blocks)&&"object"===typeof t.entityMap){const e=(0,D.convertFromRaw)(t);return D.EditorState.createWithContent(e)}return D.EditorState.createWithContent(D.ContentState.createFromText(e))}catch(t){return console.warn("RichTextEditor: Failed to parse initial value as Draft.js raw content. Treating as plain text.",t),D.EditorState.createWithContent(D.ContentState.createFromText(e))}}const F=[{label:"Default",color:"default"},{label:"Black",color:"#000000"},{label:"White",color:"#FFFFFF"},{label:"Brown",color:"#BA856F"},{label:"Orange",color:"#C07A47"},{label:"Yellow",color:"#B58A48"},{label:"Green",color:"#427256"},{label:"Blue",color:"#379AD3"},{label:"Purple",color:"#9664C9"},{label:"Pink",color:"#9B4342"},{label:"Red",color:"#BC4B4A"}],B=[{label:"Default",color:"default"},{label:"Black",color:"#000000"},{label:"Dark Gray",color:"#2F2F2F"},{label:"Brown",color:"#4A3228"},{label:"Orange",color:"#5C3B23"},{label:"Yellow",color:"#564328"},{label:"Green",color:"#243D30"},{label:"Blue",color:"#143A4E"},{label:"Purple",color:"#3C2D49"},{label:"Pink",color:"#4E2C3C"},{label:"Red",color:"#522E2A"}],L="richTextEditor_recentTextColors",O="richTextEditor_recentBgColors",M=[{label:"Normal",style:"unstyled"},{label:"Heading 1",style:"header-one"},{label:"Heading 2",style:"header-two"},{label:"Heading 3",style:"header-three"}];function U(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;const o=t.filter((t=>t.color!==e.color));return[e,...o].slice(0,r)}function P(e){return function(e,t){try{const r=localStorage.getItem(e);return null===r?t:JSON.parse(r)}catch(r){return console.warn(`Failed to get localStorage item "${e}":`,r),t}}(e,[])}function H(e,t){return function(e,t){try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(r){return console.warn(`Failed to set localStorage item "${e}":`,r),!1}}(e,t)}function K(){try{const e=window.getSelection();return Boolean(e&&!e.isCollapsed&&e.rangeCount>0)}catch(e){return console.error("Error checking selection:",e),!1}}function Y(e,t){return t.every((t=>{if(!t)return!0;try{return!t.contains(e)}catch(r){return console.error("Error checking if click is outside element:",r),!0}}))}function N(e){let{disabled:t,editorWrapperRef:r,toolbarRef:n,colorMenuAnchor:a,headingMenuAnchor:i,linkDialogOpen:l=!1}=e;const[s,d]=(0,o.useState)(!1),[c,p]=(0,o.useState)(null),u=(0,o.useCallback)((()=>{if(!t&&r.current){if(K())try{const e=function(){try{const e=window.getSelection();if(!e||0===e.rangeCount||e.isCollapsed)return null;const t=e.getRangeAt(0).getBoundingClientRect();return 0===t.width&&0===t.height?null:t}catch(e){return console.error("Error getting selection rect:",e),null}}();if(e&&e.width>0&&r.current){const t=r.current.getBoundingClientRect(),o=r.current.scrollTop,a=r.current.scrollLeft,i=()=>{const r=function(e){if(!e)return{width:400,height:48};try{const t=e.getBoundingClientRect();return{width:t.width>50?t.width:e.offsetWidth>50?e.offsetWidth:400,height:t.height>20?t.height:e.offsetHeight>20?e.offsetHeight:48}}catch(t){return console.error("Error getting toolbar dimensions:",t),{width:400,height:48}}}(n.current),i=function(e,t,r,o,n){let a=e.top-t.top-r.height-8,i=e.left-t.left+e.width/2-r.width/2;a+=o,i+=n;const l=o+8,s=e.bottom-t.top+8+o;a<l&&(a=s);const d=n+8,c=t.width-r.width-8+n-20;return i=Math.max(d,Math.min(c,i)),{top:Math.round(a),left:Math.round(i)}}(e,t,r,o,a);p(i)};return void(s?i():(d(!0),requestAnimationFrame((()=>{i()}))))}}catch(e){console.error("Error positioning toolbar:",e)}a||i||l||!s||d(!1)}}),[t,a,i,l,s,r,n]),x=(0,o.useMemo)((()=>function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];const l=r&&!o;o&&clearTimeout(o),o=setTimeout((()=>{o=null,r||e(...a)}),t),l&&e(...a)}}(u,100)),[u]);return(0,o.useEffect)((()=>{const e=r.current;if(!e||t)return;const o=()=>setTimeout(x,0),n=()=>setTimeout(x,0),a=e=>{(e.key.includes("Arrow")||["Home","End","PageUp","PageDown"].includes(e.key)||e.shiftKey&&["Delete","Backspace"].includes(e.key))&&setTimeout(x,0)};return e.addEventListener("mouseup",o),e.addEventListener("touchend",n),e.addEventListener("keyup",a),e.addEventListener("focus",x),()=>{e.removeEventListener("mouseup",o),e.removeEventListener("touchend",n),e.removeEventListener("keyup",a),e.removeEventListener("focus",x)}}),[x,t,r]),(0,o.useEffect)((()=>{const e=e=>{const t=e.target,o=Y(t,[r.current,n.current]);!s||!o||a||i||l?r.current&&r.current.contains(t)&&Y(t,[n.current])&&requestAnimationFrame((()=>{K()||a||i||l||d(!1)})):d(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[s,a,i,l,r,n]),{showFloatingToolbar:s,floatingToolbarPosition:c,debouncedCheckSelection:x}}const _=e=>{try{const t=new URL(e,window.location.origin).pathname,r=t.match(/^\/calendar\/([^\/]+)$/);if(r)return{type:"calendar",id:r[1],calendarId:r[1]};const o=t.match(/^\/shared\/([^\/]+)$/);if(o){const e=o[1],t=e.split("_");if(t.length>=2&&"share"===t[0]){return{type:"shared",id:e,tradeId:t[1]}}return{type:"shared",id:e}}return{type:"external"}}catch{return{type:"external"}}},G=e=>{const t=e.getSelection(),r=e.getCurrentContent(),o=t.getStartKey(),n=t.getStartOffset(),a=r.getBlockForKey(o).getEntityAt(n);if(a){const e=r.getEntity(a);if("LINK"===e.getType())return{entityKey:a,url:e.getData().url}}return null},J=(e,t)=>{if(e.isCollapsed())return{text:"",selection:e};const r=e.getStartKey(),o=e.getEndKey(),n=e.getStartOffset(),a=e.getEndOffset();if(r===o){const o=t.getBlockForKey(r).getText().slice(n,a),i=o.trim();if(0===i.length)return{text:"",selection:e};const l=o.length-o.trimStart().length,s=o.length-o.trimEnd().length;return{text:i,selection:e.merge({anchorOffset:n+l,focusOffset:a-s})}}{const i=t.getBlocksAsArray(),l=i.findIndex((e=>e.getKey()===r)),s=i.findIndex((e=>e.getKey()===o));let d="";for(let e=l;e<=s;e++){const t=i[e].getText();d+=e===l&&e===s?t.slice(n,a):e===l?t.slice(n):e===s?" "+t.slice(0,a):" "+t}return{text:d.trim(),selection:e}}},Z=(e,t,r)=>{e.findEntityRanges((e=>{const t=e.getEntity();return null!==t&&"LINK"===r.getEntity(t).getType()}),t)},q=e=>{const t=e.getSelection();if(!t.getHasFocus())return"unstyled";try{const r=e.getCurrentContent(),o=t.getStartKey();return r.getBlockForKey(o).getType()}catch(r){return console.error("Error getting block type:",r),"unstyled"}},Q=e=>{switch(e.getType()){case"header-one":return"RichEditor-h1";case"header-two":return"RichEditor-h2";case"header-three":return"RichEditor-h3";case"unordered-list-item":return"RichEditor-ul";case"ordered-list-item":return"RichEditor-ol";default:return""}},V=function(e,t){setTimeout((()=>{var r,o;const n=null===(r=e.current)||void 0===r?void 0:r.editor;n&&(n.scrollTop=t),null===(o=e.current)||void 0===o||o.focus()}),arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)},ee=e=>{if(e.ctrlKey||e.metaKey)switch(e.key){case"z":return e.preventDefault(),e.shiftKey?"redo":"undo";case"y":return e.preventDefault(),"redo";case"l":return e.preventDefault(),"insert-link";case"k":if(e.shiftKey)return e.preventDefault(),"remove-link";break;case"x":if(e.shiftKey)return e.preventDefault(),"clear-formatting"}return(0,D.getDefaultKeyBinding)(e)},te=e=>{e.preventDefault()};var re=r(99900),oe=r(70579);const ne=e=>{let{contentState:t,entityKey:r,children:o,calendarId:a,trades:i,onOpenGalleryMode:l}=e;const s=(0,n.A)(),d=(0,re.Zp)(),{url:c}=t.getEntity(r).getData(),p="external"!==_(c).type;return(0,oe.jsx)("span",{onClick:e=>{e.preventDefault(),e.stopPropagation();const t=_(c);if("calendar"===t.type&&t.calendarId)i&&l&&t.calendarId===a&&i.length>0?l(i,void 0,"All Trades"):d(`/calendar/${t.calendarId}`);else if("shared"===t.type&&t.tradeId){if((null===i||void 0===i?void 0:i.find((e=>e.id===t.tradeId)))&&l&&i)l(i,t.tradeId,"Shared Trade");else{const e=window.location.pathname;d(`/shared/${t.id}`,{state:{referrer:e,referrerCalendarId:a}})}}else"shared"===t.type&&t.id?d(`/shared/${t.id}`,{state:{referrer:window.location.pathname,referrerCalendarId:a}}):window.open(c,"_blank","noopener,noreferrer")},onMouseDown:e=>{e.stopPropagation()},className:"rich-editor-link",title:p?`Click to open: ${c}`:`Click to open in new tab: ${c}`,style:{color:s.palette.primary.main,textDecoration:"underline",textDecorationColor:(0,k.X4)(s.palette.primary.main,.5),textUnderlineOffset:"2px",transition:"all 0.2s ease-in-out",cursor:"pointer"},children:o})},ae=e=>{let{value:t,onChange:r,placeholder:K="Enter text here...",label:Y,helperText:_,minHeight:re=150,maxHeight:ae="none",disabled:ie=!1,hideCharacterCount:le=!1,maxLength:se,calendarId:de,trades:ce,onOpenGalleryMode:pe}=e;const ue=(0,n.A)(),xe=(0,o.useRef)(null),he=(0,o.useRef)(null),me=(0,o.useRef)(null),ge=(0,o.useRef)(t),fe=(0,o.useRef)(0),ye=(0,o.useMemo)((()=>((e,t,r)=>new D.CompositeDecorator([{strategy:Z,component:n=>o.createElement(ne,{...n,calendarId:e,trades:t,onOpenGalleryMode:r})}]))(de,ce,pe)),[de,ce,pe]),[be,Ae]=(0,o.useState)((()=>{const e=W(t);return D.EditorState.set(e,{decorator:ye})})),[ve,ke]=(0,o.useState)(null),[je,Ce]=(0,o.useState)(null),[we,Se]=(0,o.useState)(!1),[Ie,Te]=(0,o.useState)(""),[Ee,Re]=(0,o.useState)("");(0,o.useEffect)((()=>{if(t!==ge.current&&(ge.current=t,void 0!==t)){const e=W(t),r=D.EditorState.set(e,{decorator:ye}),o=(0,D.convertToRaw)(be.getCurrentContent()),n=(0,D.convertToRaw)(r.getCurrentContent());JSON.stringify(o)!==JSON.stringify(n)&&Ae(r)}}),[t,be,ye]),(0,o.useEffect)((()=>{if(!we&&fe.current>0){const e=he.current;e&&requestAnimationFrame((()=>{e.scrollTop=fe.current,fe.current=0,setTimeout((()=>{xe.current&&xe.current.focus()}),50)}))}}),[we]);const{recentTextColors:ze,recentBgColors:Xe,addRecentTextColor:$e,addRecentBgColor:De}=function(){const[e,t]=(0,o.useState)([]),[r,n]=(0,o.useState)([]);return(0,o.useEffect)((()=>{t(P(L)),n(P(O))}),[]),{recentTextColors:e,recentBgColors:r,addRecentTextColor:(0,o.useCallback)((e=>{t((t=>{const r=U(e,t);return H(L,r),r}))}),[]),addRecentBgColor:(0,o.useCallback)((e=>{n((t=>{const r=U(e,t);return H(O,r),r}))}),[])}}(),{showFloatingToolbar:We,floatingToolbarPosition:Fe}=N({disabled:ie,editorWrapperRef:he,toolbarRef:me,colorMenuAnchor:je,headingMenuAnchor:ve,linkDialogOpen:we}),Be=e=>{const t=be.getCurrentContent(),o=e.getCurrentContent();if(!(se&&o.getPlainText().length>se)&&(Ae(e),r)){const e=(0,D.convertToRaw)(t),n=(0,D.convertToRaw)(o);JSON.stringify(e)!==JSON.stringify(n)&&r(JSON.stringify(n))}},Le=e=>{const t=((e,t,r)=>{const o=D.RichUtils.toggleInlineStyle(e,t);return setTimeout((()=>{var e;return null===(e=r.current)||void 0===e?void 0:e.focus()}),0),o})(be,e,xe);Be(t)},Oe=e=>{const t=((e,t,r)=>{const o=e.getCurrentInlineStyle();let n=D.RichUtils.toggleBlockType(e,t);return o.filter((e=>void 0!==e&&e.startsWith("TEXT_COLOR_"))).toArray().forEach((e=>{n=D.RichUtils.toggleInlineStyle(n,e)})),setTimeout((()=>{var e;return null===(e=r.current)||void 0===e?void 0:e.focus()}),0),n})(be,e,xe);Be(t)},Me=e=>{const{newState:t,scrollTop:r}=((e,t,r,o,n)=>{var a;const i=null===(a=r.current)||void 0===a?void 0:a.editor,l=(null===i||void 0===i?void 0:i.scrollTop)||0,s=e.getCurrentInlineStyle();let d=e;if(s.filter((e=>void 0!==e&&e.startsWith("TEXT_COLOR_"))).toArray().forEach((e=>{d=D.RichUtils.toggleInlineStyle(d,e)})),"default"!==t){const e=`TEXT_COLOR_${t.replace("#","")}`;d=D.RichUtils.toggleInlineStyle(d,e);const r=n.find((e=>e.color===t));r&&o(r)}return{newState:d,scrollTop:l}})(be,e,xe,$e,F);Be(t),Ce(null),V(xe,r,0)},Ue=e=>{const{newState:t,scrollTop:r}=((e,t,r,o,n)=>{var a;const i=null===(a=r.current)||void 0===a?void 0:a.editor,l=(null===i||void 0===i?void 0:i.scrollTop)||0,s=e.getCurrentInlineStyle();let d=e;if(s.filter((e=>void 0!==e&&e.startsWith("BG_COLOR_"))).toArray().forEach((e=>{d=D.RichUtils.toggleInlineStyle(d,e)})),"default"!==t){const e=`BG_COLOR_${t.replace("#","")}`;d=D.RichUtils.toggleInlineStyle(d,e);const r=n.find((e=>e.color===t));r&&o(r)}return{newState:d,scrollTop:l}})(be,e,xe,De,B);Be(t),Ce(null),V(xe,r,0)},Pe=((e,t,r)=>o=>{var n;o.preventDefault(),o.stopPropagation();const a=null===(n=r.current)||void 0===n?void 0:n.editor,i=(null===a||void 0===a?void 0:a.scrollTop)||0;e?(t(null),setTimeout((()=>{var e;return null===(e=r.current)||void 0===e?void 0:e.focus()}),0)):(t(o.currentTarget),setTimeout((()=>{a&&(a.scrollTop=i)}),0))})(ve,ke,xe),He=((e,t,r)=>o=>{var n;o.preventDefault(),o.stopPropagation();const a=null===(n=r.current)||void 0===n?void 0:n.editor,i=(null===a||void 0===a?void 0:a.scrollTop)||0;e?(t(null),setTimeout((()=>{var e;return null===(e=r.current)||void 0===e?void 0:e.focus()}),0)):(t(o.currentTarget),setTimeout((()=>{a&&(a.scrollTop=i)}),0))})(je,Ce,xe),Ke=e=>{const{newState:t}=((e,t,r)=>{var o;const n=null===(o=r.current)||void 0===o?void 0:o.editor,a=(null===n||void 0===n?void 0:n.scrollTop)||0,i=e.getCurrentInlineStyle();let l=D.RichUtils.toggleBlockType(e,t);return i.filter((e=>void 0!==e&&e.startsWith("TEXT_COLOR_"))).toArray().forEach((e=>{l=D.RichUtils.toggleInlineStyle(l,e)})),{newState:l,scrollTop:a}})(be,e,xe);Be(t),ke(null)},Ye=()=>{const e=((e,t)=>{const r=e.getSelection();if(r.isCollapsed())return null;let o=e.getCurrentContent();e.getCurrentInlineStyle().forEach((e=>{e&&(o=D.Modifier.removeInlineStyle(o,r,e))}));const n=D.EditorState.push(e,o,"change-inline-style");return setTimeout((()=>{var e;return null===(e=t.current)||void 0===e?void 0:e.focus()}),0),n})(be,xe);e&&Be(e)},Ne=()=>{((e,t,r,o,n,a)=>{const i=t.current;i&&(r.current=i.scrollTop);const l=e.getSelection(),s=e.getCurrentContent(),d=G(e);if(d){const e=l.getStartKey();if(e===l.getEndKey()){const t=s.getBlockForKey(e),r=t.getText();let n=l.getStartOffset(),a=l.getEndOffset();for(;n>0&&t.getEntityAt(n-1)===d.entityKey;)n--;for(;a<r.length&&t.getEntityAt(a)===d.entityKey;)a++;o(r.slice(n,a))}else o("");n(d.url)}else if(l.isCollapsed())o(""),n("");else{const{text:e}=J(l,s);o(e),n("")}setTimeout((()=>{a(!0)}),10)})(be,he,fe,Re,Te,Se)},_e=()=>{if(!Ie.trim())return;const e=((e,t,r)=>{const o=e.getSelection(),n=e.getCurrentContent(),a=n.createEntity("LINK","MUTABLE",{url:t}),i=a.getLastCreatedEntityKey();let l,s=r.trim()||t;if(o.isCollapsed())l=D.Modifier.insertText(a,o,s,void 0,i);else{const{selection:e}=J(o,n);l=D.Modifier.replaceText(a,e,s,void 0,i)}return D.EditorState.push(e,l,"insert-characters")})(be,Ie,Ee);Be(e),((e,t,r)=>{e(!1),t(""),r("")})(Se,Re,Te)},Ge=()=>{const e=(e=>{const t=e.getSelection(),r=e.getCurrentContent();if(!t.isCollapsed()){const{selection:o}=J(t,r),n=D.Modifier.applyEntity(r,o,null);return D.EditorState.push(e,n,"apply-entity")}{const o=G(e);if(o){const n=t.getStartKey(),a=r.getBlockForKey(n),i=a.getText();let l=t.getStartOffset(),s=t.getEndOffset();for(;l>0&&a.getEntityAt(l-1)===o.entityKey;)l--;for(;s<i.length&&a.getEntityAt(s)===o.entityKey;)s++;const d=t.merge({anchorOffset:l,focusOffset:s}),c=D.Modifier.applyEntity(r,d,null);return D.EditorState.push(e,c,"apply-entity")}}return e})(be);Be(e),setTimeout((()=>{xe.current&&xe.current.focus()}),0)},Je=((e,t,r)=>{const o={};return t.forEach((t=>{if("default"!==t.color){const r="#FFFFFF"===t.color&&"dark"===e.palette.mode?"#CCCCCC":t.color;o[`TEXT_COLOR_${t.color.replace("#","")}`]={color:r}}})),r.forEach((t=>{if("default"!==t.color){const r=(e.palette.mode,"#FFFFFF");o[`BG_COLOR_${t.color.replace("#","")}`]={backgroundColor:t.color,color:r,padding:"2px 4px",borderRadius:"3px"}}})),o})(ue,F,B);return(0,oe.jsxs)(i.A,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[Y&&(0,oe.jsx)(l.A,{variant:"body2",color:"text.secondary",sx:{mb:.5,fontWeight:500},children:Y}),(0,oe.jsxs)(i.A,{sx:{opacity:ie?.6:1,position:"relative",overflow:"hidden",transition:"border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out"},children:[(0,oe.jsx)(i.A,{ref:he,onClick:()=>{xe.current&&!ie&&xe.current.focus()},sx:{padding:ue.spacing(1.2,1.8),minHeight:re,maxHeight:ae,overflow:"auto",cursor:ie?"not-allowed":"text",position:"relative",...(0,j.J)(ue),"& .public-DraftEditorPlaceholder-root":{color:ue.palette.text.disabled,position:"absolute",top:ue.spacing(1.2),left:ue.spacing(1.8),zIndex:0,pointerEvents:"none",opacity:.8,fontFamily:"'Segoe UI', 'Roboto', 'Helvetica', sans-serif",fontWeight:500},"& .public-DraftEditor-content":{minHeight:"number"===typeof re?`calc(${re}px - ${ue.spacing(3)})`:`calc(${re} - ${ue.spacing(3)})`,fontFamily:"'Segoe UI', 'Roboto', 'Helvetica', sans-serif",fontSize:"1rem",lineHeight:1.3,fontWeight:500,color:ue.palette.text.primary,position:"relative",zIndex:1,"& *::selection":{backgroundColor:(0,k.X4)(ue.palette.primary.main,.3)}},"& .RichEditor-h1":{fontSize:"1.4rem",fontWeight:"bold",margin:"0.8rem 0 0.4rem",fontFamily:"'Segoe UI', 'Roboto', 'Helvetica', sans-serif"},"& .RichEditor-h2":{fontSize:"1.2rem",fontWeight:"bold",margin:"0.6rem 0 0.3rem",fontFamily:"'Segoe UI', 'Roboto', 'Helvetica', sans-serif"},"& .RichEditor-h3":{fontSize:"1rem",fontWeight:"bold",margin:"0.5rem 0 0.25rem",fontStyle:"italic",fontFamily:"'Segoe UI', 'Roboto', 'Helvetica', sans-serif"},"& .RichEditor-ul, & .RichEditor-ol":{marginLeft:"1.5rem",marginBlockStart:"0.4em",marginBlockEnd:"0.4em",paddingInlineStart:"0",fontFamily:"'Segoe UI', 'Roboto', 'Helvetica', sans-serif",fontWeight:500},"& .RichEditor-ul li, & .RichEditor-ol li":{margin:"0.2rem 0",paddingLeft:"0.4rem",fontFamily:"'Segoe UI', 'Roboto', 'Helvetica', sans-serif",fontWeight:500},"& .RichEditor-ul li::marker":{},"& .RichEditor-ol":{},"& .rich-editor-link":{color:`${ue.palette.primary.main} !important`,textDecoration:"underline !important",cursor:"pointer !important",backgroundColor:`${(0,k.X4)(ue.palette.primary.main,.08)} !important`,padding:"2px 4px !important",borderRadius:"4px !important",border:`1px solid ${(0,k.X4)(ue.palette.primary.main,.2)} !important`,display:"inline-block !important",transition:"all 0.2s ease-in-out !important",margin:"0 1px !important",fontWeight:"500 !important","&:hover":{color:`${ue.palette.primary.dark} !important`,backgroundColor:`${(0,k.X4)(ue.palette.primary.main,.15)} !important`,borderColor:`${(0,k.X4)(ue.palette.primary.main,.4)} !important`,transform:"translateY(-1px) !important",boxShadow:`0 2px 8px ${(0,k.X4)(ue.palette.primary.main,.25)} !important`},"&:active":{transform:"translateY(0px) !important",backgroundColor:`${(0,k.X4)(ue.palette.primary.main,.2)} !important`,boxShadow:`0 1px 4px ${(0,k.X4)(ue.palette.primary.main,.3)} !important`}}},children:(0,oe.jsx)(D.Editor,{ref:xe,editorState:be,onChange:Be,placeholder:K,customStyleMap:Je,blockStyleFn:Q,handleKeyCommand:(e,t)=>((e,t,r)=>{const{clearFormatting:o,handleLinkClick:n,removeLink:a,getCurrentLink:i,handleEditorChange:l}=r;switch(e){case"clear-formatting":return o(),"handled";case"insert-link":return n(),"handled";case"remove-link":if(i())return a(),"handled";break;case"undo":const e=D.EditorState.undo(t);if(e!==t)return l(e),"handled";break;case"redo":const r=D.EditorState.redo(t);if(r!==t)return l(r),"handled"}const s=D.RichUtils.handleKeyCommand(t,e);return s?(l(s),"handled"):"not-handled"})(e,t,{clearFormatting:Ye,handleLinkClick:Ne,removeLink:Ge,getCurrentLink:()=>G(be),handleEditorChange:Be}),keyBindingFn:ee,readOnly:ie,spellCheck:!0})}),(()=>{if(!We||!Fe)return null;const e=be.getCurrentInlineStyle(),t=q(be),r=G(be);return(0,oe.jsx)("div",{style:{position:"absolute",top:Fe.top,left:Fe.left,zIndex:1300},children:(0,oe.jsx)(u.A,{ref:me,onMouseDown:te,onTouchStart:te,elevation:0,sx:{borderRadius:"12px",overflow:"hidden",backgroundColor:"dark"===ue.palette.mode?(0,k.X4)(ue.palette.background.paper,.95):(0,k.X4)(ue.palette.background.paper,.98),backdropFilter:"blur(20px)",border:`1px solid ${(0,k.X4)(ue.palette.divider,.2)}`,boxShadow:"dark"===ue.palette.mode?`0 8px 32px ${(0,k.X4)("#000000",.4)}, 0 2px 8px ${(0,k.X4)("#000000",.2)}`:`0 8px 32px ${(0,k.X4)(ue.palette.primary.main,.15)}, 0 2px 8px ${(0,k.X4)("#000000",.1)}`,transition:"opacity 0.15s ease-out, transform 0.15s ease-out",animation:"floatingToolbarFadeIn 0.15s ease-out forwards","@keyframes floatingToolbarFadeIn":{"0%":{opacity:0,transform:"translateY(8px)"},"100%":{opacity:1,transform:"translateY(0)"}},"&:hover":{boxShadow:"dark"===ue.palette.mode?`0 12px 40px ${(0,k.X4)("#000000",.5)}, 0 4px 12px ${(0,k.X4)("#000000",.3)}`:`0 12px 40px ${(0,k.X4)(ue.palette.primary.main,.2)}, 0 4px 12px ${(0,k.X4)("#000000",.15)}`,transform:"translateY(-1px)"}},role:"toolbar","aria-label":"Text Formatting",children:(0,oe.jsxs)(x.A,{variant:"dense",sx:{p:1,minHeight:"auto",display:"flex",flexWrap:"nowrap",justifyContent:"center",gap:.5,"& .MuiIconButton-root, & .MuiToggleButton-root":{color:ue.palette.text.secondary,borderRadius:"8px",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"transparent",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",zIndex:-1},"&:hover":{backgroundColor:(0,k.X4)(ue.palette.primary.main,.08),color:ue.palette.primary.main,transform:"translateY(-1px)",boxShadow:`0 4px 12px ${(0,k.X4)(ue.palette.primary.main,.2)}`,"&::before":{background:`linear-gradient(135deg, ${(0,k.X4)(ue.palette.primary.main,.1)}, ${(0,k.X4)(ue.palette.primary.light,.05)})`}},"&.Mui-selected":{backgroundColor:(0,k.X4)(ue.palette.primary.main,.12),color:ue.palette.primary.main,boxShadow:`0 2px 8px ${(0,k.X4)(ue.palette.primary.main,.25)}`,"&::before":{background:`linear-gradient(135deg, ${(0,k.X4)(ue.palette.primary.main,.15)}, ${(0,k.X4)(ue.palette.primary.light,.08)})`},"&:hover":{backgroundColor:(0,k.X4)(ue.palette.primary.main,.18),transform:"translateY(-1px)",boxShadow:`0 6px 16px ${(0,k.X4)(ue.palette.primary.main,.3)}`}}},"& .MuiDivider-root":{backgroundColor:(0,k.X4)(ue.palette.divider,.3),margin:ue.spacing(0,.75),height:"24px",alignSelf:"center"}},children:[(0,oe.jsxs)(h.A,{size:"small",sx:{"& .MuiToggleButton-root":{border:"none",margin:"0 2px",padding:"6px 8px",minWidth:"36px",height:"36px"}},children:[(0,oe.jsx)(s.A,{title:"Bold (Ctrl+B)",placement:"top",children:(0,oe.jsx)(m.A,{value:"bold",selected:e.has("BOLD"),onClick:()=>Le("BOLD"),disabled:ie,"aria-pressed":e.has("BOLD"),"aria-label":"Bold",children:(0,oe.jsx)(C.A,{fontSize:"small"})})}),(0,oe.jsx)(s.A,{title:"Italic (Ctrl+I)",placement:"top",children:(0,oe.jsx)(m.A,{value:"italic",selected:e.has("ITALIC"),onClick:()=>Le("ITALIC"),disabled:ie,"aria-pressed":e.has("ITALIC"),"aria-label":"Italic",children:(0,oe.jsx)(w.A,{fontSize:"small"})})}),(0,oe.jsx)(s.A,{title:"Underline (Ctrl+U)",placement:"top",children:(0,oe.jsx)(m.A,{value:"underline",selected:e.has("UNDERLINE"),onClick:()=>Le("UNDERLINE"),disabled:ie,"aria-pressed":e.has("UNDERLINE"),"aria-label":"Underline",children:(0,oe.jsx)(S.A,{fontSize:"small"})})})]}),(0,oe.jsx)(c.A,{orientation:"vertical",flexItem:!0}),(0,oe.jsx)(i.A,{children:(0,oe.jsx)(s.A,{title:"Heading Style",placement:"top",children:(0,oe.jsxs)(d.A,{size:"small",onClick:Pe,disabled:ie,"aria-haspopup":"true","aria-controls":ve?"heading-menu":void 0,"aria-expanded":Boolean(ve),"aria-label":"Heading Style",sx:{padding:"6px 8px",minWidth:"36px",height:"36px",margin:"0 2px"},children:[(0,oe.jsx)(I.A,{fontSize:"small"}),(0,oe.jsx)(T.A,{fontSize:"inherit",sx:{ml:-.5,fontSize:"16px"}})]})})}),(0,oe.jsx)(c.A,{orientation:"vertical",flexItem:!0}),(0,oe.jsxs)(h.A,{size:"small",sx:{"& .MuiToggleButton-root":{border:"none",margin:"0 2px",padding:"6px 8px",minWidth:"36px",height:"36px"}},children:[(0,oe.jsx)(s.A,{title:"Bullet List",placement:"top",children:(0,oe.jsx)(m.A,{value:"bullet-list",selected:"unordered-list-item"===t,onClick:()=>Oe("unordered-list-item"),disabled:ie,"aria-pressed":"unordered-list-item"===t,"aria-label":"Bullet List",children:(0,oe.jsx)(E.A,{fontSize:"small"})})}),(0,oe.jsx)(s.A,{title:"Numbered List",placement:"top",children:(0,oe.jsx)(m.A,{value:"number-list",selected:"ordered-list-item"===t,onClick:()=>Oe("ordered-list-item"),disabled:ie,"aria-pressed":"ordered-list-item"===t,"aria-label":"Numbered List",children:(0,oe.jsx)(R.A,{fontSize:"small"})})})]}),(0,oe.jsx)(c.A,{orientation:"vertical",flexItem:!0}),(0,oe.jsx)(i.A,{children:(0,oe.jsx)(s.A,{title:"Text & Background Color",placement:"top",children:(0,oe.jsx)(d.A,{size:"small",onClick:He,disabled:ie,"aria-haspopup":"true","aria-controls":je?"color-menu":void 0,"aria-expanded":Boolean(je),"aria-label":"Text and background color",sx:{padding:"6px 8px",minWidth:"36px",height:"36px",margin:"0 2px"},children:(0,oe.jsx)(z.A,{fontSize:"small"})})})}),(0,oe.jsx)(c.A,{orientation:"vertical",flexItem:!0}),(0,oe.jsxs)(h.A,{size:"small",sx:{"& .MuiToggleButton-root, & .MuiIconButton-root":{border:"none",margin:"0 2px",padding:"6px 8px",minWidth:"36px",height:"36px"}},children:[(0,oe.jsx)(s.A,{title:r?`Edit Link: ${r.url}`:"Insert Link (Ctrl+L)",placement:"top",children:(0,oe.jsx)(m.A,{value:"link",selected:Boolean(r),onClick:e=>{e.preventDefault(),e.stopPropagation(),Ne()},onMouseDown:te,onTouchStart:te,disabled:ie,"aria-pressed":Boolean(r),"aria-label":r?"Edit Link":"Insert Link",children:(0,oe.jsx)(X.A,{fontSize:"small"})})}),(0,oe.jsx)(s.A,{title:"Clear Formatting (Ctrl+Shift+X)",placement:"top",children:(0,oe.jsx)(d.A,{size:"small",onClick:Ye,disabled:ie,"aria-label":"Clear Formatting",children:(0,oe.jsx)($.A,{fontSize:"small"})})})]})]})})})})()]}),(()=>{if(!ve)return null;const e=q(be);return(0,oe.jsx)(a.A,{id:"heading-menu",anchorEl:ve,open:Boolean(ve),onClose:()=>{ke(null),be.getSelection().getHasFocus()&&setTimeout((()=>{var e;return null===(e=xe.current)||void 0===e?void 0:e.focus()}),0)},disablePortal:!1,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},disableScrollLock:!0,disableAutoFocus:!0,disableEnforceFocus:!0,disableRestoreFocus:!0,slotProps:{paper:{onMouseDown:te,onTouchStart:te,sx:{backgroundColor:"dark"===ue.palette.mode?(0,k.X4)(ue.palette.background.paper,.95):(0,k.X4)(ue.palette.background.paper,.98),backdropFilter:"blur(20px)",borderRadius:"12px",border:`1px solid ${(0,k.X4)(ue.palette.divider,.2)}`,boxShadow:"dark"===ue.palette.mode?`0 8px 32px ${(0,k.X4)("#000000",.4)}, 0 2px 8px ${(0,k.X4)("#000000",.2)}`:`0 8px 32px ${(0,k.X4)(ue.palette.primary.main,.15)}, 0 2px 8px ${(0,k.X4)("#000000",.1)}`,zIndex:1400,mt:1,position:"fixed",willChange:"transform"}}},children:M.map((t=>(0,oe.jsx)(p.A,{onClick:()=>Ke(t.style),selected:e===t.style,sx:{fontWeight:t.style.includes("header")?"bold":500,fontSize:"header-one"===t.style?"1.4rem":"header-two"===t.style?"1.2rem":"header-three"===t.style?"1rem":"0.85rem",fontFamily:"'Segoe UI', 'Roboto', 'Helvetica', sans-serif",borderRadius:"8px",margin:"2px 4px",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{backgroundColor:(0,k.X4)(ue.palette.primary.main,.08),transform:"translateX(4px)"},"&.Mui-selected":{backgroundColor:(0,k.X4)(ue.palette.primary.main,.12),color:ue.palette.primary.main,"&:hover":{backgroundColor:(0,k.X4)(ue.palette.primary.main,.18)}}},children:t.label},t.style)))})})(),je?(0,oe.jsxs)(a.A,{id:"color-menu",anchorEl:je,open:Boolean(je),onClose:()=>{Ce(null),be.getSelection().getHasFocus()&&setTimeout((()=>{var e;return null===(e=xe.current)||void 0===e?void 0:e.focus()}),0)},disablePortal:!1,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},disableScrollLock:!0,disableAutoFocus:!0,disableEnforceFocus:!0,slotProps:{paper:{onMouseDown:te,onTouchStart:te,sx:{width:180,padding:1.5,backgroundColor:"dark"===ue.palette.mode?(0,k.X4)(ue.palette.background.paper,.95):(0,k.X4)(ue.palette.background.paper,.98),backdropFilter:"blur(20px)",borderRadius:"12px",border:`1px solid ${(0,k.X4)(ue.palette.divider,.2)}`,boxShadow:"dark"===ue.palette.mode?`0 8px 32px ${(0,k.X4)("#000000",.4)}, 0 2px 8px ${(0,k.X4)("#000000",.2)}`:`0 8px 32px ${(0,k.X4)(ue.palette.primary.main,.15)}, 0 2px 8px ${(0,k.X4)("#000000",.1)}`,zIndex:1400,mt:.5}}},children:[(ze.length>0||Xe.length>0)&&(0,oe.jsxs)(i.A,{sx:{mb:2},children:[(0,oe.jsx)(l.A,{variant:"caption",sx:{mb:1,color:ue.palette.text.primary,display:"block",fontWeight:600,fontSize:"0.7rem",textTransform:"uppercase",letterSpacing:"0.3px"},children:"Recently Used"}),(0,oe.jsxs)(i.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:[ze.map((e=>(0,oe.jsx)(s.A,{title:`Text: ${e.label}`,placement:"top",children:(0,oe.jsx)(d.A,{size:"small",onClick:()=>Me(e.color),sx:{width:24,height:24,backgroundColor:"default"===e.color?"transparent":"White"===e.label?(0,k.X4)(ue.palette.grey[400],.3):(0,k.X4)(e.color,.15),color:"default"===e.color?ue.palette.text.primary:e.color,border:`1px solid ${"default"===e.color?ue.palette.divider:e.color}`,borderRadius:"6px",p:0,minWidth:0,fontSize:"0.65rem",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"transparent",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",zIndex:-1},"&:hover":{transform:"translateY(-1px) scale(1.05)",boxShadow:`0 4px 12px ${(0,k.X4)("default"===e.color?ue.palette.text.primary:e.color,.3)}`,borderColor:"default"===e.color?ue.palette.text.primary:e.color,"&::before":{background:`linear-gradient(135deg, ${(0,k.X4)("default"===e.color?ue.palette.text.primary:e.color,.1)}, ${(0,k.X4)("default"===e.color?ue.palette.text.primary:e.color,.05)})`}}},"aria-label":`Apply ${e.label} text color`,children:"A"})},`recent-text-${e.color}`))),Xe.map((e=>(0,oe.jsx)(s.A,{title:`Background: ${e.label}`,placement:"top",children:(0,oe.jsx)(d.A,{size:"small",onClick:()=>Ue(e.color),sx:{width:24,height:24,backgroundColor:"default"===e.color?"transparent":e.color,border:`1px solid ${"default"===e.color?ue.palette.divider:(0,k.X4)(e.color,.8)}`,borderRadius:"6px",p:0,minWidth:0,transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden",..."default"===e.color&&{backgroundImage:`linear-gradient(to top right, transparent calc(50% - 0.5px), ${(0,k.X4)(ue.palette.text.primary,.4)} calc(50% - 0.5px), ${(0,k.X4)(ue.palette.text.primary,.4)} calc(50% + 0.5px), transparent calc(50% + 0.5px))`},"&:hover":{transform:"translateY(-1px) scale(1.05)",boxShadow:`0 4px 12px ${(0,k.X4)("default"===e.color?ue.palette.text.primary:e.color,.4)}`,borderColor:"default"===e.color?ue.palette.text.primary:e.color}},"aria-label":`Apply ${e.label} background color`})},`recent-bg-${e.color}`)))]}),(0,oe.jsx)(c.A,{sx:{my:1.5,backgroundColor:(0,k.X4)(ue.palette.divider,.3),height:"1px"}})]}),(0,oe.jsxs)(i.A,{sx:{mb:2},children:[(0,oe.jsx)(l.A,{variant:"caption",sx:{mb:1,color:ue.palette.text.primary,display:"block",fontWeight:600,fontSize:"0.7rem",textTransform:"uppercase",letterSpacing:"0.3px"},children:"Text Color"}),(0,oe.jsx)(i.A,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(24px, 1fr))",gap:.5},children:F.map((e=>(0,oe.jsx)(s.A,{title:e.label,placement:"top",children:(0,oe.jsx)(d.A,{size:"small",onClick:()=>Me(e.color),sx:{width:24,height:24,backgroundColor:"default"===e.color?"transparent":"White"===e.label?(0,k.X4)(ue.palette.grey[400],.3):(0,k.X4)(e.color,.15),color:"default"===e.color?ue.palette.text.primary:e.color,border:`1px solid ${"default"===e.color?ue.palette.divider:e.color}`,borderRadius:"6px",p:0,minWidth:0,fontSize:"0.65rem",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"transparent",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",zIndex:-1},"&:hover":{transform:"translateY(-1px) scale(1.05)",boxShadow:`0 4px 12px ${(0,k.X4)("default"===e.color?ue.palette.text.primary:e.color,.3)}`,borderColor:"default"===e.color?ue.palette.text.primary:e.color,"&::before":{background:`linear-gradient(135deg, ${(0,k.X4)("default"===e.color?ue.palette.text.primary:e.color,.1)}, ${(0,k.X4)("default"===e.color?ue.palette.text.primary:e.color,.05)})`}}},"aria-label":`Apply ${e.label} text color`,children:"default"===e.color?(0,oe.jsx)(l.A,{variant:"caption",sx:{lineHeight:1,fontSize:"0.7rem"},children:"Aa"}):"A"})},`text-${e.color}`)))})]}),(0,oe.jsxs)(i.A,{children:[(0,oe.jsx)(l.A,{variant:"caption",sx:{mb:1,color:ue.palette.text.primary,display:"block",fontWeight:600,fontSize:"0.7rem",textTransform:"uppercase",letterSpacing:"0.3px"},children:"Background Color"}),(0,oe.jsx)(i.A,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(24px, 1fr))",gap:.5},children:B.map((e=>(0,oe.jsx)(s.A,{title:e.label,placement:"top",children:(0,oe.jsx)(d.A,{size:"small",onClick:()=>Ue(e.color),sx:{width:24,height:24,backgroundColor:"default"===e.color?"transparent":e.color,border:`1px solid ${"default"===e.color?ue.palette.divider:(0,k.X4)(e.color,.8)}`,borderRadius:"6px",p:0,minWidth:0,transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden",..."default"===e.color&&{backgroundImage:`linear-gradient(to top right, transparent calc(50% - 0.5px), ${(0,k.X4)(ue.palette.text.primary,.4)} calc(50% - 0.5px), ${(0,k.X4)(ue.palette.text.primary,.4)} calc(50% + 0.5px), transparent calc(50% + 0.5px))`},"&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"transparent",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",zIndex:-1},"&:hover":{transform:"translateY(-1px) scale(1.05)",boxShadow:`0 4px 12px ${(0,k.X4)("default"===e.color?ue.palette.text.primary:e.color,.4)}`,borderColor:"default"===e.color?ue.palette.text.primary:e.color,"&::before":{background:"default"===e.color?`linear-gradient(135deg, ${(0,k.X4)(ue.palette.text.primary,.1)}, ${(0,k.X4)(ue.palette.text.primary,.05)})`:`linear-gradient(135deg, ${(0,k.X4)(e.color,.2)}, ${(0,k.X4)(e.color,.1)})`}}},"aria-label":`Apply ${e.label} background color`})},`bg-${e.color}`)))})]})]}):null,(0,oe.jsxs)(g.A,{open:we,onClose:()=>Se(!1),maxWidth:"sm",fullWidth:!0,disableScrollLock:!0,disableEnforceFocus:!1,disableRestoreFocus:!0,children:[(0,oe.jsx)(f.A,{children:G(be)?"Edit Link":"Insert Link"}),(0,oe.jsxs)(y.A,{children:[(0,oe.jsx)(b.A,{autoFocus:!0,margin:"dense",label:"Link Text",fullWidth:!0,variant:"outlined",value:Ee,onChange:e=>Re(e.target.value),sx:{mb:2},onKeyDown:e=>{"Enter"===e.key&&Ie.trim()&&(e.preventDefault(),_e())}}),(0,oe.jsx)(b.A,{margin:"dense",label:"URL",fullWidth:!0,variant:"outlined",value:Ie,onChange:e=>Te(e.target.value),placeholder:"https://example.com",onKeyDown:e=>{"Enter"===e.key&&Ie.trim()&&(e.preventDefault(),_e())}})]}),(0,oe.jsxs)(A.A,{children:[(0,oe.jsx)(v.A,{onClick:()=>Se(!1),children:"Cancel"}),G(be)&&(0,oe.jsx)(v.A,{onClick:()=>{Ge(),Se(!1),Re(""),Te("")},color:"error",variant:"outlined",children:"Remove Link"}),(0,oe.jsx)(v.A,{onClick:_e,variant:"contained",disabled:!Ie.trim(),children:G(be)?"Update Link":"Insert Link"})]})]}),(_||!le)&&(0,oe.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:.5},children:[_&&(0,oe.jsx)(l.A,{variant:"caption",color:"text.secondary",children:_}),!le&&(()=>{const e=be.getCurrentContent().getPlainText().length,t=se&&e>.8*se,r=se&&e>=se;return(0,oe.jsxs)(l.A,{variant:"caption",sx:{ml:"auto",color:r?"error.main":t?"warning.main":"text.secondary"},children:[e,se?` / ${se}`:""," characters"]})})()]})]})}},46577:(e,t,r)=>{r.d(t,{J:()=>o});const o=e=>({"&::-webkit-scrollbar":{width:"8px",height:"8px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:"dark"===e.palette.mode?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2)",borderRadius:"4px","&:hover":{background:"dark"===e.palette.mode?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)"}}})},64924:(e,t,r)=>{r.d(t,{A8:()=>y,B2:()=>g,DZ:()=>b,Zg:()=>w,eR:()=>h,j3:()=>j,kL:()=>m,uf:()=>k,uk:()=>f,wt:()=>C,x$:()=>A,zB:()=>v});var o=r(58128),n=r(29651),a=r(53969),i=r(55895),l=r(42579),s=r(83759),d=r(94799),c=r(12097),p=r(81911),u=r(78776),x=r(85877);const h=(0,o.Ay)(a.A)((e=>{let{theme:t,$isCurrentMonth:r,$dayStatus:o}=e;return{padding:t.spacing(1),height:"100%",display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer",borderRadius:t.shape.borderRadius,transition:"all 0.1s ease-in-out",opacity:r?1:.5,backgroundColor:"win"===o?(0,n.X4)(t.palette.success.main,.1):"loss"===o?(0,n.X4)(t.palette.error.main,.1):t.palette.background.paper}})),m=((0,o.Ay)(a.A)((e=>{let{theme:t}=e;return{borderRadius:t.shape.borderRadius,overflow:"hidden",backgroundColor:(0,n.X4)(t.palette.background.paper,.05),border:`1px solid ${(0,n.X4)(t.palette.divider,.1)}`}})),(0,o.Ay)(a.A)((e=>{let{theme:t}=e;return{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary,fontSize:"0.875rem",fontWeight:500,backgroundColor:(0,n.X4)(t.palette.background.paper,.05),borderRadius:t.shape.borderRadius}})),(0,o.Ay)(i.A)((e=>{let{theme:t,$isCurrentMonth:r}=e;return{fontSize:"0.875rem",fontWeight:500,color:r?t.palette.text.primary:t.palette.text.secondary,marginBottom:t.spacing(.5)}}))),g=(0,o.Ay)(i.A)((e=>{let{theme:t,$dayStatus:r}=e;return{fontSize:"0.875rem",fontWeight:600,color:"win"===r?t.palette.success.main:"loss"===r?t.palette.error.main:t.palette.text.primary}})),f=(0,o.Ay)(i.A)((e=>{let{theme:t}=e;return{fontSize:"0.75rem",color:t.palette.text.secondary,fontWeight:500}})),y=((0,o.Ay)(l.A)((e=>{let{theme:t}=e;return{backgroundColor:"dark"===t.palette.mode?(0,n.X4)(t.palette.common.white,.1):(0,n.X4)(t.palette.common.black,.05),"&:hover":{backgroundColor:"dark"===t.palette.mode?(0,n.X4)(t.palette.common.white,.2):(0,n.X4)(t.palette.common.black,.1)},width:32,height:32}})),(0,o.Ay)(s.A)((e=>{let{theme:t}=e;return{fontWeight:600,borderRadius:16,"&.win":{backgroundColor:(0,n.X4)(t.palette.success.main,.1),color:t.palette.success.main,border:`1px solid ${(0,n.X4)(t.palette.success.main,.3)}`},"&.loss":{backgroundColor:(0,n.X4)(t.palette.error.main,.1),color:t.palette.error.main,border:`1px solid ${(0,n.X4)(t.palette.error.main,.3)}`}}})),(0,o.Ay)(d.A)((e=>{let{theme:t}=e;return{padding:t.spacing(3),borderRadius:t.shape.borderRadius,boxShadow:t.shadows[2],backgroundColor:"dark"===t.palette.mode?(0,n.X4)(t.palette.background.paper,.7):t.palette.background.paper,transition:"all 0.3s ease-in-out","&:hover":{boxShadow:t.shadows[4]}}})),(0,o.Ay)(a.A)((e=>{let{theme:t}=e;return{display:"flex",flexDirection:"column",gap:t.spacing(2),padding:t.spacing(2),borderRadius:t.shape.borderRadius,backgroundColor:"dark"===t.palette.mode?(0,n.X4)(t.palette.background.paper,.5):(0,n.X4)(t.palette.background.default,.7),border:`1px solid ${"dark"===t.palette.mode?(0,n.X4)(t.palette.common.white,.1):(0,n.X4)(t.palette.common.black,.1)}`}})),(0,o.Ay)(a.A)((e=>{let{theme:t}=e;return{display:"flex",justifyContent:"space-between",alignItems:"center",padding:t.spacing(1),borderRadius:t.shape.borderRadius,backgroundColor:"dark"===t.palette.mode?(0,n.X4)(t.palette.background.paper,.7):t.palette.background.paper,boxShadow:t.shadows[1]}})),(0,o.Ay)(i.A)((e=>{let{theme:t}=e;return{fontWeight:500,color:t.palette.text.secondary}})),(0,o.Ay)(i.A)((e=>{let{theme:t}=e;return{fontWeight:700,color:t.palette.text.primary}})),(0,o.Ay)(c.A)((e=>{let{theme:t}=e;return{borderRadius:t.shape.borderRadius,padding:t.spacing(1,2),fontWeight:600,textTransform:"none",boxShadow:"none","&:hover":{boxShadow:t.shadows[2]}}})),(0,o.Ay)(c.A)((e=>{let{theme:t}=e;return{borderRadius:t.shape.borderRadius,padding:t.spacing(1,2),fontWeight:600,textTransform:"none",borderWidth:2,"&:hover":{borderWidth:2}}})),(0,o.Ay)(p.A)((e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",justifyContent:"space-between",padding:t.spacing(2),borderBottom:`1px solid ${t.palette.divider}`}}))),b=(0,o.Ay)(u.A)((e=>{let{theme:t}=e;return{padding:t.spacing(2),display:"flex",flexDirection:"column",gap:t.spacing(2)}})),A=(0,o.Ay)(x.A)((e=>{let{theme:t}=e;return{padding:t.spacing(2),borderTop:`1px solid ${t.palette.divider}`}})),v=(0,o.Ay)(a.A)((e=>{let{theme:t}=e;return{marginBottom:t.spacing(2)}})),k=(0,o.Ay)(a.A)((e=>{let{theme:t,$type:r}=e;return{display:"flex",justifyContent:"space-between",alignItems:"center",padding:t.spacing(1.5),borderRadius:t.shape.borderRadius,backgroundColor:"win"===r?(0,n.X4)(t.palette.success.main,"dark"===t.palette.mode?.1:.05):"loss"===r?(0,n.X4)(t.palette.error.main,"dark"===t.palette.mode?.1:.05):"breakeven"===r?(0,n.X4)(t.palette.info.main,"dark"===t.palette.mode?.1:.05):t.palette.background.paper,border:"1px solid",borderColor:"win"===r?(0,n.X4)(t.palette.success.main,"dark"===t.palette.mode?.2:.1):"loss"===r?(0,n.X4)(t.palette.error.main,"dark"===t.palette.mode?.2:.1):"breakeven"===r?(0,n.X4)(t.palette.info.main,"dark"===t.palette.mode?.2:.1):t.palette.divider,transition:"all 0.2s ease-in-out","&:hover":{transform:"translateY(-1px)",boxShadow:`0 2px 8px ${(0,n.X4)("win"===r?t.palette.success.main:"loss"===r?t.palette.error.main:t.palette.primary.main,.15)}`,borderColor:"win"===r?t.palette.success.main:"loss"===r?t.palette.error.main:t.palette.primary.main}}})),j=(0,o.Ay)(a.A)((e=>{let{theme:t}=e;return{display:"flex",flex:1,alignItems:"center",gap:t.spacing(2)}})),C=(0,o.Ay)(a.A)((e=>{let{theme:t}=e;return{display:"flex",gap:t.spacing(1)}})),w=((0,o.Ay)(a.A)((e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",justifyContent:"space-between",padding:t.spacing(2),borderBottom:`1px solid ${t.palette.divider}`}})),(0,o.Ay)(a.A)((e=>{let{theme:t}=e;return{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:t.spacing(1),padding:t.spacing(2)}})),(0,o.Ay)(a.A)((e=>{let{theme:t}=e;return{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:t.spacing(1),marginBottom:t.spacing(1)}})),(0,o.Ay)(i.A)((e=>{let{theme:t}=e;return{textAlign:"center",fontWeight:500,color:t.palette.text.secondary}})),(0,o.Ay)(d.A)((e=>{let{theme:t}=e;return{padding:t.spacing(2),marginBottom:t.spacing(2),backgroundColor:"dark"===t.palette.mode?(0,n.X4)(t.palette.background.paper,.8):t.palette.background.paper,borderRadius:t.shape.borderRadius,boxShadow:t.shadows[2],transition:"all 0.2s ease-in-out","&:hover":{transform:"translateY(-2px)",boxShadow:t.shadows[4]}}})),(0,o.Ay)(i.A)((e=>{let{theme:t}=e;return{color:t.palette.text.secondary,marginBottom:t.spacing(1)}})),(0,o.Ay)(i.A)((e=>{let{theme:t}=e;return{fontSize:"2rem",fontWeight:700,color:t.palette.text.primary,textAlign:"center",marginBottom:t.spacing(.5),[t.breakpoints.down("sm")]:{fontSize:"1.5rem"}}})),(0,o.Ay)(i.A)((e=>{let{theme:t}=e;return{fontSize:"1rem",fontWeight:500,textAlign:"center",[t.breakpoints.down("sm")]:{fontSize:"0.875rem"}}})),(0,o.Ay)(d.A)((e=>{let{theme:t}=e;return{padding:t.spacing(3),background:"dark"===t.palette.mode?(0,n.X4)(t.palette.background.paper,.8):t.palette.background.paper,backdropFilter:"blur(10px)",borderRadius:2*t.shape.borderRadius,boxShadow:t.shadows[4]}})),(0,o.Ay)(i.A)((e=>{let{theme:t}=e;return{color:t.palette.text.secondary,marginBottom:t.spacing(2)}})),(0,o.Ay)(a.A)((e=>{let{theme:t}=e;return{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:t.spacing(2)}})),(0,o.Ay)(a.A)((e=>{let{theme:t}=e;return{padding:t.spacing(1.5),backgroundColor:"dark"===t.palette.mode?(0,n.X4)(t.palette.background.paper,.6):t.palette.background.paper,borderRadius:t.shape.borderRadius,boxShadow:t.shadows[1],display:"flex",flexDirection:"column",alignItems:"center",transition:"all 0.2s ease-in-out","&:hover":{transform:"translateY(-2px)",boxShadow:t.shadows[3]},[t.breakpoints.down("sm")]:{padding:t.spacing(1)}}})),(0,o.Ay)(i.A)((e=>{let{theme:t}=e;return{fontSize:"0.875rem",fontWeight:500,color:t.palette.text.secondary,marginBottom:t.spacing(.5),textAlign:"center",[t.breakpoints.down("sm")]:{fontSize:"0.75rem"}}})),(0,o.Ay)(i.A)((e=>{let{theme:t}=e;return{fontSize:"1.25rem",fontWeight:600,color:t.palette.text.primary,textAlign:"center",[t.breakpoints.down("sm")]:{fontSize:"1rem"}}})),(0,o.Ay)("a")((e=>{let{theme:t}=e;return{color:t.palette.primary.main,textDecoration:"none",fontSize:"0.875rem","&:hover":{textDecoration:"underline"}}})),(0,o.Ay)(a.A)((e=>{let{theme:t}=e;return{animation:`pulse 2s ${t.transitions.easing.easeInOut} infinite`}})))},75499:(e,t,r)=>{r.d(t,{z:()=>o});const o={PaperProps:{sx:{bgcolor:"background.paper",borderRadius:2,boxShadow:"0px 4px 12px rgba(0, 0, 0, 0.15)"}},sx:{"& .MuiBackdrop-root":{backdropFilter:"blur(4px)",backgroundColor:"rgba(0, 0, 0, 0.5)"}}}},81084:(e,t,r)=>{r.d(t,{GI:()=>p,Oo:()=>i,dO:()=>d,dn:()=>a,kq:()=>l,o:()=>c,t:()=>u,yC:()=>s});var o=r(29651);const n=["#1565C0","#2E7D32","#EF6C00","#6A1B9A","#AD1457","#00838F","#FFA000","#4E342E","#455A64","#558B2F","#D84315","#4527A0","#283593","#00695C","#9E9D24","#F9A825"],a=e=>e.includes(":"),i=e=>a(e)?e.split(":")[0]:"",l=e=>{if(!a(e))return e;const t=e.split(":");return t.length>1?t[1]:t[0]},s=e=>{const t=(e=>{let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return Math.abs(t)%n.length})(a(e)?i(e):e);return n[t]},d=(e,t)=>{const r=s(e);return{backgroundColor:(0,o.X4)(r,.8),color:(0,o.X4)("#ffffff",.8),fontWeight:500,"& .MuiChip-deleteIcon":{color:"#ffffff","&:hover":{color:(0,o.X4)("#ffffff",.8)}}}},c=(e,t)=>e.filter((e=>a(e)&&i(e)===t)),p=e=>{const t=new Set;return e.forEach((e=>{a(e)&&t.add(i(e))})),Array.from(t).sort()},u=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a(e)&&t?l(e):e}}}]);
//# sourceMappingURL=890.379b45cc.chunk.js.map