"use strict";(self.webpackChunksimple_trade_tracker=self.webpackChunksimple_trade_tracker||[]).push([[682],{4279:(e,t,a)=>{a.d(t,{mY:()=>u,KK:()=>w,pp:()=>D,Kb:()=>b});var r=a(65043),n=a(60267),o=a(33023),s=a(53969),i=a(94842),l=a(42579),d=a(12097),c=a(80172),p=a(27421),x=a(75499),m=a(46577),h=a(64924),g=a(70579);const u=e=>{let{open:t,onClose:a,title:r,actions:u,children:y,maxWidth:f="sm",fullWidth:b=!0,hideCloseButton:A=!1,hideFooterCancelButton:j=!1,cancelButtonText:v="Cancel",cancelButtonAction:w,primaryButtonText:k="Save",primaryButtonAction:C,isSubmitting:S=!1,contentSx:T={},...D}=e;const W=(0,n.A)();return(0,g.jsxs)(o.A,{open:t,onClose:a,maxWidth:f,fullWidth:b,...x.z,slotProps:{paper:{sx:{borderRadius:2,boxShadow:"none",border:`1px solid ${W.palette.divider}`,maxHeight:"90vh",overflow:"hidden","& .MuiDialogContent-root":{...(0,m.J)(W)}}}},...D,children:[(0,g.jsxs)(h.A8,{children:[(0,g.jsx)(s.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:"string"===typeof r?(0,g.jsx)(i.A,{variant:"h6",children:r}):r}),!A&&(0,g.jsx)(l.A,{onClick:a,size:"small",children:(0,g.jsx)(p.A,{})})]}),(0,g.jsx)(h.DZ,{sx:T,children:y}),(u||!j||C)&&(0,g.jsxs)(h.x$,{children:[u,(0,g.jsxs)(s.A,{sx:{display:"flex",gap:1},children:[(!j||w)&&(0,g.jsx)(d.A,{variant:"outlined",color:"primary",onClick:w||a,children:v}),C&&(0,g.jsxs)(d.A,{variant:"contained",color:"primary",onClick:C,disabled:S,sx:{minWidth:"100px",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",gap:1},children:[k,S&&(0,g.jsx)(c.A,{size:16,sx:{position:"static"}})]})]})]})]})};var y=a(83759),f=a(81084);const b=e=>{let{tags:t,onTagClick:a,onTagDelete:o,showGroups:l=!0,chipSize:d="small",maxHeight:c}=e;const p=t.filter((e=>!e.startsWith("Partials:"))),x=(0,n.A)(),m=(0,r.useMemo)((()=>{if(!p||0===p.length)return{groups:{},ungroupedTags:[]};const e={},t=[];return(0,f.GI)(p).forEach((t=>{e[t]=(0,f.o)(p||[],t)})),p.forEach((e=>{(0,f.dn)(e)||t.push(e)})),{groups:e,ungroupedTags:t}}),[p]);return p&&0!==p.length?(0,g.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",gap:1,maxHeight:c,overflowY:c?"auto":"visible"},children:[l&&Object.keys(m.groups).length>0&&(0,g.jsx)(g.Fragment,{children:Object.entries(m.groups).map((e=>{let[t,r]=e;return(0,g.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[(0,g.jsx)(i.A,{variant:"caption",color:"text.secondary",sx:{fontWeight:600},children:t}),(0,g.jsx)(s.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:r.map((e=>(0,g.jsx)(y.A,{label:(0,f.kq)(e),size:d,onClick:a?()=>a(e):void 0,onDelete:o?()=>o(e):void 0,sx:(0,f.dO)(e,x)},e)))})]},t)}))}),m.ungroupedTags.length>0&&(0,g.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[l&&Object.keys(m.groups).length>0&&(0,g.jsx)(i.A,{variant:"caption",color:"text.secondary",sx:{fontWeight:600},children:"Tags"}),(0,g.jsx)(s.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:m.ungroupedTags.map((e=>(0,g.jsx)(y.A,{label:(0,f.t)(e),size:d,onClick:a?()=>a(e):void 0,onDelete:o?()=>o(e):void 0,sx:(0,f.dO)(e,x)},e)))})]}),!l&&(0,g.jsx)(s.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:p.map((e=>(0,g.jsx)(y.A,{label:(0,f.t)(e),size:d,onClick:a?()=>a(e):void 0,onDelete:o?()=>o(e):void 0,sx:(0,f.dO)(e,x)},e)))})]}):null};var A=a(81911),j=a(78776),v=a(85877);const w=e=>{let{open:t,title:a,message:r,confirmText:n="Confirm",cancelText:s="Cancel",onConfirm:l,onCancel:p,isSubmitting:x=!1,confirmColor:m="primary"}=e;return(0,g.jsxs)(o.A,{open:t,onClose:p,maxWidth:"xs",fullWidth:!0,children:[(0,g.jsx)(A.A,{children:a}),(0,g.jsx)(j.A,{children:(0,g.jsx)(i.A,{children:r})}),(0,g.jsxs)(v.A,{children:[(0,g.jsx)(d.A,{onClick:p,disabled:x,children:s}),(0,g.jsxs)(d.A,{onClick:l,color:m,variant:"contained",disabled:x,sx:{minWidth:"100px",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",gap:1},children:[n,x&&(0,g.jsx)(c.A,{size:20,sx:{position:"static"}})]})]})]})};var k=a(10256),C=a(3353),S=a(4282),T=a(58560);const D=e=>{let{label:t,options:a,helperText:r,...n}=e;return(0,g.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[(0,g.jsxs)(k.A,{fullWidth:!0,size:"small",children:[(0,g.jsx)(C.A,{children:t}),(0,g.jsx)(S.A,{label:t,...n,children:a.map((e=>(0,g.jsx)(T.A,{value:e.value,children:e.label},e.value)))})]}),r&&(0,g.jsx)(i.A,{variant:"caption",color:"text.secondary",children:r})]})}},8961:(e,t,a)=>{a.d(t,{A:()=>F});var r=a(65043),n=a(53969),o=a(70298),s=a(94842),i=a(94799),l=a(12097),d=a(80172),c=a(94527),p=a(83290),x=a(60267),m=a(89826),h=a(69023),g=a(53974),u=a(63898),y=a(70149),f=a(27496),b=a(94045),A=a(20312),j=a(369),v=a(58128);const w=p.i7`
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
`,k=p.i7`
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
`,C=p.i7`
  from {
    transform: translateY(-20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
`,S=p.i7`
  from {
    transform: translateX(20px);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
`,T=p.i7`
  from {
    transform: translateX(-20px);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
`,D=p.i7`
  from {
    transform: scale(0.9);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
`,W=(p.i7`
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
  100% {
    transform: scale(1);
  }
`,p.i7`
  0%, 100% {
    transform: translateX(0);
  }
  10%, 30%, 50%, 70%, 90% {
    transform: translateX(-5px);
  }
  20%, 40%, 60%, 80% {
    transform: translateX(5px);
  }
`),M=p.i7`
  0%, 20%, 50%, 80%, 100% {
    transform: translateY(0);
  }
  40% {
    transform: translateY(-10px);
  }
  60% {
    transform: translateY(-5px);
  }
`,R=p.i7`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,z=((0,v.Ay)(n.A)((e=>{let{theme:t}=e;return{animation:`${w} 0.5s ease-out`}})),(0,v.Ay)(i.A)((e=>{let{theme:t}=e;return{animation:`${D} 0.3s ease-out`}})),(0,v.Ay)(n.A)({animation:"slideUp 0.3s ease-out","@keyframes slideUp":{from:{opacity:0,transform:"translateY(20px)"},to:{opacity:1,transform:"translateY(0)"}}}),(0,v.Ay)(n.A)({animation:"slideDown 0.3s ease-out","@keyframes slideDown":{from:{opacity:0,transform:"translateY(-20px)"},to:{opacity:1,transform:"translateY(0)"}}}),(0,v.Ay)(n.A)((e=>{let{theme:t}=e;return{animation:`${S} 0.5s ease-out`}})),(0,v.Ay)(n.A)((e=>{let{theme:t}=e;return{animation:`${T} 0.5s ease-out`}})),(0,v.Ay)(n.A)({animation:"pulse 2s infinite","@keyframes pulse":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(1.05)"},"100%":{transform:"scale(1)"}}}),(0,v.Ay)(n.A)((e=>{let{theme:t}=e;return{animation:`${W} 0.5s ease-in-out`}})),(0,v.Ay)(n.A)((e=>{let{theme:t}=e;return{animation:`${M} 2s infinite`}})),(0,v.Ay)(n.A)({animation:"dropdown 0.3s ease-out",transformOrigin:"top",overflow:"hidden","@keyframes dropdown":{from:{opacity:0,maxHeight:"0px",transform:"scaleY(0)"},to:{opacity:1,maxHeight:"1000px",transform:"scaleY(1)"}}}));(0,v.Ay)(n.A)((e=>{let{theme:t}=e;return{animation:`${R} 2s linear infinite`}})),(0,v.Ay)(n.A)((e=>{let{theme:t}=e;return{"& > *":{opacity:0,animation:`${w} 0.5s ease-out forwards`},"& > *:nth-of-type(1)":{animationDelay:"0.1s"},"& > *:nth-of-type(2)":{animationDelay:"0.2s"},"& > *:nth-of-type(3)":{animationDelay:"0.3s"},"& > *:nth-of-type(4)":{animationDelay:"0.4s"},"& > *:nth-of-type(5)":{animationDelay:"0.5s"},"& > *:nth-of-type(6)":{animationDelay:"0.6s"},"& > *:nth-of-type(7)":{animationDelay:"0.7s"}}})),(0,v.Ay)(n.A)((e=>{let{theme:t}=e;return{"& > *":{opacity:0,animation:`${k} 0.5s ease-out forwards`},"& > *:nth-of-type(1)":{animationDelay:"0.1s"},"& > *:nth-of-type(2)":{animationDelay:"0.2s"},"& > *:nth-of-type(3)":{animationDelay:"0.3s"},"& > *:nth-of-type(4)":{animationDelay:"0.4s"},"& > *:nth-of-type(5)":{animationDelay:"0.5s"},"& > *:nth-of-type(6)":{animationDelay:"0.6s"},"& > *:nth-of-type(7)":{animationDelay:"0.7s"}}})),(0,v.Ay)(n.A)((e=>{let{theme:t}=e;return{"& > *":{opacity:0,animation:`${C} 0.5s ease-out forwards`},"& > *:nth-of-type(1)":{animationDelay:"0.1s"},"& > *:nth-of-type(2)":{animationDelay:"0.2s"},"& > *:nth-of-type(3)":{animationDelay:"0.3s"},"& > *:nth-of-type(4)":{animationDelay:"0.4s"},"& > *:nth-of-type(5)":{animationDelay:"0.5s"},"& > *:nth-of-type(6)":{animationDelay:"0.6s"},"& > *:nth-of-type(7)":{animationDelay:"0.7s"}}})),(0,v.Ay)(n.A)((e=>{let{theme:t}=e;return{"& > *":{opacity:0,animation:`${D} 0.5s ease-out forwards`},"& > *:nth-of-type(1)":{animationDelay:"0.1s"},"& > *:nth-of-type(2)":{animationDelay:"0.2s"},"& > *:nth-of-type(3)":{animationDelay:"0.3s"},"& > *:nth-of-type(4)":{animationDelay:"0.4s"},"& > *:nth-of-type(5)":{animationDelay:"0.5s"},"& > *:nth-of-type(6)":{animationDelay:"0.6s"},"& > *:nth-of-type(7)":{animationDelay:"0.7s"}}}));var I=a(4279),$=a(70579);const P=p.i7`
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
`,X=e=>e.pending||!1,L=(e,t)=>X(e)||!0===t[e.id],F=e=>{let{trade:t,isExpanded:a,setZoomedImage:p,onUpdateTradeProperty:v}=e;const w=(0,x.A)(),[k,C]=(0,r.useState)(!1),[S,T]=(0,r.useState)({});(0,r.useEffect)((()=>{if(t.images&&t.images.length>0){const e={};t.images.forEach((t=>{X(t)||(e[t.id]=!0)})),T(e)}}),[t.images]);return a?(0,$.jsx)(z,{children:(0,$.jsx)(n.A,{sx:{p:2,borderBottomLeftRadius:8,borderBottomRightRadius:8,borderTopRightRadius:0,borderTopLeftRadius:0,borderLeft:`1px solid ${w.palette.divider}`,borderRight:`1px solid ${w.palette.divider}`,borderBottom:`1px solid ${w.palette.divider}`,borderTop:`1px solid ${w.palette.divider}`,backgroundColor:(0,m.X4)(w.palette.background.paper,.5),mb:1,width:"100%"},children:(0,$.jsxs)(o.A,{spacing:3,children:[(0,$.jsxs)(n.A,{sx:{width:"100%"},children:[t.name&&(0,$.jsxs)(s.A,{variant:"h6",color:"text.primary",sx:{mb:2,display:"block",fontWeight:700},children:["\ud83d\udcc8 ",t.name]}),(0,$.jsx)(s.A,{variant:"subtitle2",color:"text.primary",sx:{mb:1.5,display:"block",fontWeight:700,fontSize:"0.9rem"},children:"Properties"}),(0,$.jsxs)(o.A,{spacing:2,sx:{width:"100%"},children:[(0,$.jsxs)(n.A,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)"},gap:2,width:"100%"},children:[(t.entry||t.exit)&&(0,$.jsx)(i.A,{elevation:0,sx:{p:1.5,borderRadius:2,backgroundColor:(0,m.X4)(w.palette.info.main,.05),border:`1px solid ${(0,m.X4)(w.palette.info.main,.1)}`,display:"flex",flexDirection:"column",gap:.5,gridColumn:{xs:"1",sm:"span 2"}},children:(0,$.jsxs)(n.A,{sx:{display:"flex",justifyContent:"space-between",width:"100%"},children:[t.entry&&(0,$.jsxs)(n.A,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[(0,$.jsx)(s.A,{variant:"caption",sx:{fontWeight:600,color:"info.main"},children:"Entry Price"}),(0,$.jsx)(s.A,{variant:"body1",sx:{fontWeight:600},children:t.entry})]}),t.exit&&(0,$.jsxs)(n.A,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[(0,$.jsx)(s.A,{variant:"caption",sx:{fontWeight:600,color:"info.main"},children:"Exit Price"}),(0,$.jsx)(s.A,{variant:"body1",sx:{fontWeight:600},children:t.exit})]})]})}),(0,$.jsxs)(i.A,{elevation:0,sx:{p:1.5,borderRadius:2,backgroundColor:(0,m.X4)(t.amount>0?w.palette.success.main:t.amount<0?w.palette.error.main:w.palette.grey[500],.1),border:`1px solid ${(0,m.X4)(t.amount>0?w.palette.success.main:t.amount<0?w.palette.error.main:w.palette.grey[500],.2)}`,display:"flex",flexDirection:"column",gap:.5},children:[(0,$.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,$.jsx)(g.A,{sx:{fontSize:18,color:t.amount>0?"success.main":t.amount<0?"error.main":"text.secondary"}}),(0,$.jsx)(s.A,{variant:"caption",sx:{fontWeight:600,color:t.amount>0?"success.main":t.amount<0?"error.main":"text.secondary"},children:"PnL"})]}),(0,$.jsxs)(n.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,$.jsxs)(s.A,{variant:"h6",sx:{fontWeight:700,color:t.amount>0?"success.main":t.amount<0?"error.main":"text.primary",fontSize:"1.1rem"},children:[t.amount>0?"+":"",t.amount.toFixed(2)]}),v&&(0,$.jsx)(l.A,{size:"small",variant:"outlined",color:"win"===t.type?"success":"error",onClick:async()=>{if(v&&!k)try{C(!0),await v(t.id,(e=>({...e,type:"win"===e.type?"loss":"win",amount:"win"===e.type?-Math.abs(e.amount):Math.abs(e.amount)})))}catch(e){console.error("Error toggling trade type:",e)}finally{C(!1)}},disabled:k,sx:{minWidth:"80px",fontSize:"0.7rem",position:"relative"},children:k?(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(d.A,{size:16,color:"inherit",sx:{position:"absolute",left:"8px"}}),"Processing..."]}):(0,$.jsxs)($.Fragment,{children:["Toggle ","win"===t.type?"Win":"Loss"]})})]})]}),(0,$.jsxs)(i.A,{elevation:0,sx:{p:1.5,borderRadius:2,backgroundColor:(0,m.X4)(w.palette.primary.main,.05),border:`1px solid ${(0,m.X4)(w.palette.primary.main,.1)}`,display:"flex",flexDirection:"column",gap:.5},children:[(0,$.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,$.jsx)(u.A,{sx:{fontSize:18,color:"primary.main"}}),(0,$.jsx)(s.A,{variant:"caption",sx:{fontWeight:600,color:"primary.main"},children:"Date"})]}),(0,$.jsx)(s.A,{variant:"h6",sx:{fontWeight:700,fontSize:"1.1rem"},children:(0,h.GP)(t.date,"MMMM d, yyyy")})]}),t.riskToReward&&(0,$.jsxs)(i.A,{elevation:0,sx:{p:1.5,borderRadius:2,backgroundColor:(0,m.X4)(w.palette.warning.main,.05),border:`1px solid ${(0,m.X4)(w.palette.warning.main,.1)}`,display:"flex",flexDirection:"column",gap:.5},children:[(0,$.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,$.jsx)(y.A,{sx:{fontSize:18,color:"warning.main"}}),(0,$.jsx)(s.A,{variant:"caption",sx:{fontWeight:600,color:"warning.main"},children:"Risk to Reward"})]}),(0,$.jsx)(s.A,{variant:"h6",sx:{fontWeight:700,fontSize:"1.1rem"},children:t.riskToReward})]}),t.session&&(0,$.jsxs)(i.A,{elevation:0,sx:{p:1.5,borderRadius:2,backgroundColor:(0,m.X4)(w.palette.info.main,.05),border:`1px solid ${(0,m.X4)(w.palette.info.main,.1)}`,display:"flex",flexDirection:"column",gap:.5},children:[(0,$.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,$.jsx)(f.A,{sx:{fontSize:18,color:"info.main"}}),(0,$.jsx)(s.A,{variant:"caption",sx:{fontWeight:600,color:"info.main"},children:"Session"})]}),(0,$.jsx)(s.A,{variant:"h6",sx:{fontWeight:700,fontSize:"1.1rem"},children:t.session})]})]}),(0,$.jsx)(c.A,{sx:{my:1.5}}),(0,$.jsxs)(n.A,{sx:{mb:2},children:[(0,$.jsx)(n.A,{sx:{display:"flex",alignItems:"center",gap:.5,mb:1},children:(0,$.jsx)(s.A,{variant:"subtitle2",color:"text.primary",sx:{fontWeight:600,fontSize:"0.9rem"},children:"Tags"})}),(0,$.jsx)(n.A,{sx:{pl:1},children:(0,$.jsx)(I.Kb,{tags:t.tags||[],showGroups:!0,chipSize:"medium"})})]})]})]}),t.notes&&(0,$.jsxs)(n.A,{children:[(0,$.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:.5,mb:.5},children:[(0,$.jsx)(b.A,{sx:{fontSize:16,color:"text.secondary"}}),(0,$.jsx)(s.A,{variant:"caption",color:"text.secondary",sx:{fontWeight:600,display:"block"},children:"Notes"})]}),(0,$.jsx)(n.A,{sx:{p:1.5,borderRadius:1,backgroundColor:(0,m.X4)(w.palette.background.paper,.7),maxHeight:"none",overflow:"visible"},children:(0,$.jsx)(s.A,{variant:"body2",sx:{whiteSpace:"pre-line",overflow:"visible",lineHeight:1.5},children:t.notes})})]}),t.images&&t.images.length>0&&(0,$.jsxs)(n.A,{children:[(0,$.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:.5,mb:.5},children:[(0,$.jsx)(A.A,{sx:{fontSize:16,color:"text.secondary"}}),(0,$.jsx)(s.A,{variant:"caption",color:"text.secondary",sx:{fontWeight:600,display:"block"},children:"Images"})]}),(0,$.jsx)(n.A,{sx:{width:"100%"},children:(()=>{const e={};t.images.forEach((t=>{const a=void 0!==t.row?t.row:0;e[a]||(e[a]=[]),e[a].push(t)}));return Object.entries(e).sort(((e,t)=>{let[a]=e,[r]=t;return Number(a)-Number(r)})).map((e=>{let[t,a]=e;return a})).map(((e,t)=>(0,$.jsx)(n.A,{sx:{display:"flex",width:"100%",mb:2,gap:1},children:e.sort(((e,t)=>(e.column||0)-(t.column||0))).map(((a,r)=>(0,$.jsxs)(n.A,{sx:{width:`${a.columnWidth||100}%`,borderRadius:1,overflow:"hidden",position:"relative"},children:[(0,$.jsxs)(n.A,{sx:{position:"relative","&:hover .overlay":{opacity:1},...a.width&&a.height?{paddingTop:a.height/a.width*100+"%",maxHeight:e.length>1?"300px":"none",overflow:"hidden",width:"100%",height:"auto"}:{}},children:[a.width&&a.height&&L(a,S)&&(0,$.jsx)(n.A,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:e=>(0,m.X4)(e.palette.divider,.2),display:"flex",alignItems:"center",justifyContent:"center",zIndex:1}}),(0,$.jsx)(n.A,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:2,cursor:L(a,S)?"default":"pointer",...L(a,S)&&{background:e=>{const t="dark"===e.palette.mode?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.04)";return`linear-gradient(90deg, ${t} 25%, ${"dark"===e.palette.mode?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.1)"} 50%, ${t} 75%)`},backgroundSize:"200% 100%",animation:`${P} 1.5s infinite linear`,willChange:"background-position",display:"flex",alignItems:"center",justifyContent:"center"}},children:X(a)?(0,$.jsxs)(n.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:1},children:[(0,$.jsx)(d.A,{size:24,color:"primary"}),(0,$.jsx)(s.A,{variant:"caption",sx:{color:"text.secondary",fontWeight:500},children:"Uploading..."})]}):(0,$.jsx)("img",{src:a.url,alt:a.caption||"Trade Image",style:{width:"100%",maxHeight:e.length>1?"300px":"none",objectFit:"contain",position:a.width&&a.height?"absolute":"relative",top:0,left:0,height:a.width&&a.height?"100%":"auto",opacity:S[a.id]?0:1,transition:"opacity 0.3s ease-in-out"},onLoad:()=>{T((e=>({...e,[a.id]:!1})))}})}),!L(a,S)&&(0,$.jsx)(n.A,{className:"overlay",sx:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",opacity:0,transition:"opacity 0.2s ease-in-out",cursor:"pointer",zIndex:3},onClick:()=>p(a.url),children:(0,$.jsx)(j.A,{sx:{color:"white",fontSize:32}})})]}),a.caption&&(0,$.jsx)(n.A,{sx:{p:1,borderTop:`1px solid ${w.palette.divider}`,backgroundColor:(0,m.X4)(w.palette.background.paper,.7),maxHeight:"none",overflow:"visible"},children:(0,$.jsx)(s.A,{variant:"caption",sx:{color:"text.secondary",display:"block",whiteSpace:"pre-line",fontSize:"0.7rem",lineHeight:1.3,overflow:"visible"},children:a.caption})})]},`image-${a.id}-${t}-${r}`)))},`row-${t}`)))})()})]})]})})}):null}},15655:(e,t,a)=>{a.d(t,{A:()=>h});var r=a(65043),n=a(60267),o=a(94842),s=a(53969),i=a(12097),l=a(99565),d=a(66154),c=a(83759),p=a(81084),x=a(4279),m=a(70579);const h=e=>{let{open:t,onClose:a,title:h="Filter by Tags",allTags:g,selectedTags:u,onTagsChange:y,showClearButton:f=!0,showApplyButton:b=!0}=e;const A=(0,n.A)(),[j,v]=(0,r.useState)(""),w=(0,r.useMemo)((()=>(0,p.GI)(g)),[g]),k=(0,r.useMemo)((()=>j?(0,p.o)(g,j):g),[g,j]),C=(0,m.jsx)(o.A,{variant:"h6",children:h}),S=f||b?(0,m.jsxs)(s.A,{children:[f&&(0,m.jsx)(i.A,{onClick:()=>{y([])},color:"inherit",children:"Clear All"}),b&&(0,m.jsx)(i.A,{onClick:a,color:"primary",children:"Apply"})]}):void 0;return(0,m.jsxs)(x.mY,{open:t,onClose:a,title:C,actions:S,maxWidth:"sm",fullWidth:!0,children:[(0,m.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:[w.length>0&&(0,m.jsx)(x.pp,{label:"Filter by Tag Group",value:j,onChange:e=>v(e.target.value),options:[{value:"",label:"All Tags"},...w.map((e=>({value:e,label:e})))],size:"small"}),(0,m.jsx)(l.A,{multiple:!0,options:k,value:u,onChange:(e,t)=>y(t),renderInput:e=>(0,m.jsx)(d.A,{...e,variant:"outlined",label:"Select Tags",placeholder:"Choose tags to filter",fullWidth:!0}),renderTags:(e,t)=>e.map(((e,a)=>(0,m.jsx)(c.A,{label:(0,p.t)(e,!0),...t({index:a}),sx:(0,p.dO)(e,A),title:(0,p.dn)(e)?`Group: ${(0,p.Oo)(e)}`:void 0}))),renderOption:(e,t)=>(0,m.jsx)("li",{...e,children:(0,m.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,p.dn)(t)&&(0,m.jsx)(c.A,{label:(0,p.Oo)(t),size:"small",sx:{...(0,p.dO)(t,A),height:"18px",fontSize:"0.7rem"}}),(0,p.t)(t,!0)]})})})]}),(0,m.jsx)(o.A,{variant:"body2",color:"text.secondary",sx:{mt:2},children:u.length>0?`Selected ${u.length} tag${u.length>1?"s":""}`:"Select tags to filter. When no tags are selected, all items will be shown."})]})}},16857:(e,t,a)=>{a.d(t,{A:()=>p});a(65043);var r=a(60267),n=a(53969),o=a(94842),s=a(26529),i=a(89826),l=a(93201),d=a(82327),c=a(70579);const p=e=>{let{progress:t,isMet:a,tooltipText:p="Shows progress towards your target goal"}=e;const x=(0,r.A)(),m=(0,c.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center",bgcolor:a?(0,i.X4)(x.palette.success.main,.9):(0,i.X4)(x.palette.primary.main,.1),color:a?"white":"primary.main",borderRadius:"12px",width:"auto",height:22,ml:1,px:.8,border:`1px solid ${(0,i.X4)(x.palette.primary.main,.2)}`},children:[a?(0,c.jsx)(l.A,{sx:{fontSize:"0.875rem",mr:.3}}):(0,c.jsx)(d.A,{sx:{fontSize:"0.875rem",mr:.3}}),(0,c.jsxs)(o.A,{variant:"caption",sx:{fontWeight:600,fontSize:a?"0.5rem":"0.7rem"},children:[Math.max(t,0).toFixed(0),"%"]})]});return(0,c.jsx)(s.A,{title:p,arrow:!0,placement:"top",children:m})}},23893:(e,t,a)=>{a.d(t,{Fl:()=>r,vv:()=>n});const r=e=>Math.abs(e)>=1e3?`$${(e/1e3).toFixed(1)}k`:`$${e.toFixed(2)}`,n=e=>`$${e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`},32515:(e,t,a)=>{a.d(t,{A:()=>x});var r=a(65043),n=a(60267),o=a(33023),s=a(53969),i=a(42579),l=a(369),d=a(151),c=a(27421),p=a(70579);const x=e=>{let{open:t,onClose:a,imageUrl:x}=e;const m=(0,n.A)(),[h,g]=(0,r.useState)(1),[u,y]=(0,r.useState)({x:0,y:0}),[f,b]=(0,r.useState)(!1),[A,j]=(0,r.useState)({x:0,y:0}),v=(0,r.useRef)(null),w=(0,r.useRef)(null),k=()=>{g(1),y({x:0,y:0})};return(0,r.useEffect)((()=>{t&&k()}),[t,x]),(0,r.useEffect)((()=>{const e=()=>{b(!1)};return document.addEventListener("mouseup",e),()=>{document.removeEventListener("mouseup",e)}}),[]),(0,p.jsx)(o.A,{open:t,onClose:a,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{boxShadow:"none",backgroundColor:"transparent",overflow:"hidden",maxWidth:"80%","& .MuiDialogContent-root":{"&::-webkit-scrollbar":{width:"8px",height:"8px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:"dark"===m.palette.mode?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2)",borderRadius:"4px","&:hover":{background:"dark"===m.palette.mode?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)"}}}}},children:x&&(0,p.jsxs)(s.A,{ref:w,sx:{position:"relative",width:"100%",height:"80vh",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",cursor:h>1?"grab":"default","&:active":{cursor:h>1?"grabbing":"default"}},onWheel:e=>{e.preventDefault();const t=e.deltaY>0?Math.max(1,h-.1):Math.min(3,h+.1);g(t)},onMouseDown:e=>{h>1&&(e.preventDefault(),b(!0),j({x:e.clientX-u.x,y:e.clientY-u.y}))},onMouseMove:e=>{if(!f||h<=1)return;e.preventDefault();const t=e.clientX-A.x,a=e.clientY-A.y;if(v.current&&w.current){w.current.getBoundingClientRect();const e=v.current.getBoundingClientRect(),r=e.width*(h-1)/2,n=e.height*(h-1)/2,o=Math.min(Math.max(-r,t),r),s=Math.min(Math.max(-n,a),n);y({x:o,y:s})}},onMouseUp:e=>{e.preventDefault(),b(!1)},onMouseLeave:e=>{e.preventDefault(),b(!1)},children:[(0,p.jsx)(s.A,{sx:{position:"relative",transform:`scale(${h}) translate(${u.x}px, ${u.y}px)`,transition:f?"none":"transform 0.1s ease-out"},children:(0,p.jsx)("img",{ref:v,src:x,alt:"Trade",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain",userSelect:"none",pointerEvents:"none"}})}),(0,p.jsxs)(s.A,{sx:{position:"absolute",top:16,right:16,display:"flex",gap:1,backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:1,p:.5},children:[(0,p.jsx)(i.A,{onClick:()=>g(Math.max(1,h-.1)),disabled:h<=1,sx:{color:"white","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:(0,p.jsx)(l.A,{sx:{transform:"rotate(45deg)"}})}),(0,p.jsx)(i.A,{onClick:()=>g(Math.min(3,h+.1)),disabled:h>=3,sx:{color:"white","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:(0,p.jsx)(l.A,{})}),(0,p.jsx)(i.A,{onClick:k,disabled:1===h,sx:{color:"white","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:(0,p.jsx)(d.A,{})}),(0,p.jsx)(i.A,{onClick:a,sx:{color:"white","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:(0,p.jsx)(c.A,{})})]})]})})}},38490:(e,t,a)=>{a.d(t,{A:()=>ge});var r=a(65043),n=a(65757),o=a(69023),s=a(74912),i=a(33695),l=a(28340),d=a(24653),c=a(60267),p=a(53969),x=a(94842),m=a(33309),h=a(12843),g=a(89826),u=a(32515),y=a(50108),f=a(877),b=a(87734),A=a(52185),j=a(6026),v=a(86150),w=a(73243),k=a(13839),C=a(94799),S=a(23893),T=a(70579);const D=e=>{const{x:t,y:a,payload:r}=e,n=r.value,o=(0,S.Fl)(n);return(0,T.jsx)("g",{transform:`translate(${t},${a})`,children:(0,T.jsx)("text",{x:0,y:0,dy:5,textAnchor:"end",fill:"#666",fontSize:12,children:o})})},W=e=>{let{active:t,payload:a,label:r,type:n}=e;const o=(0,c.A)();if(t&&a&&a.length){const e=a[0].payload;return(0,T.jsxs)(C.A,{sx:{p:1.5,boxShadow:o.shadows[3]},children:[(0,T.jsx)(x.A,{variant:"body2",sx:{fontWeight:"bold",mb:.5},children:r}),(0,T.jsx)(x.A,{variant:"body2",sx:{color:e.dailyChange>0?"#4caf50":e.dailyChange<0?"#f44336":"text.secondary",fontWeight:"bold"},children:(0,S.Fl)(e.dailyChange)}),(0,T.jsxs)(x.A,{variant:"body2",color:"text.secondary",children:["Cumulative P&L: ",(0,S.Fl)(e.cumulativePnL)]}),e.trades&&e.trades.length>0&&(0,T.jsxs)(x.A,{variant:"body2",sx:{color:o.palette.primary.main,fontSize:"0.75rem",mt:.5},children:["Click to view ",e.trades.length," trade",e.trades.length>1?"s":""]})]})}return null},M=e=>{let{chartData:t,targetValue:a,monthlyTarget:r,setMultipleTradesDialog:n,timePeriod:s}=e;const i=(0,c.A)(),l="#4caf50",d="#f44336",m="#9e9e9e";return(0,T.jsxs)(C.A,{sx:{p:3,mb:3,borderRadius:2},children:[(0,T.jsxs)(p.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,T.jsx)(x.A,{variant:"h6",children:"Cumulative P&L"}),r&&null!==a&&(0,T.jsxs)(p.A,{sx:{display:"flex",alignItems:"center",bgcolor:(0,g.X4)(i.palette.primary.main,.1),px:1.5,py:.5,borderRadius:1,fontSize:"0.875rem"},children:["Target: ",r,"% ($",null===a||void 0===a?void 0:a.toFixed(2),")"]})]}),(0,T.jsx)(y.u,{width:"100%",height:300,children:(0,T.jsxs)(f.Q,{data:t,children:[(0,T.jsxs)("defs",{children:[(0,T.jsxs)("linearGradient",{id:"colorPnLWin",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,T.jsx)("stop",{offset:"5%",stopColor:l,stopOpacity:.2}),(0,T.jsx)("stop",{offset:"95%",stopColor:l,stopOpacity:0})]}),(0,T.jsxs)("linearGradient",{id:"colorPnLLoss",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,T.jsx)("stop",{offset:"5%",stopColor:d,stopOpacity:.2}),(0,T.jsx)("stop",{offset:"95%",stopColor:d,stopOpacity:0})]})]}),(0,T.jsx)(b.d,{strokeDasharray:"3 3",vertical:!1}),(0,T.jsx)(A.W,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:i.palette.text.secondary,fontSize:"year"===s?8:12}}),(0,T.jsx)(j.h,{axisLine:!1,tickLine:!1,tick:(0,T.jsx)(D,{})}),(0,T.jsx)(v.m,{content:e=>(0,T.jsx)(W,{...e,type:"cumulative"})}),null!==a&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(w.e,{y:a,stroke:i.palette.primary.main,strokeDasharray:"4 4",strokeWidth:2}),(0,T.jsx)(k.G,{type:"monotone",dataKey:"cumulativePnL",stroke:"none",fill:i.palette.primary.main,fillOpacity:.05,baseValue:a})]}),(0,T.jsx)(w.e,{y:0,stroke:m,strokeDasharray:"3 3"}),(0,T.jsx)(k.G,{type:"monotone",dataKey:"cumulativePnL",stroke:l,fill:"url(#colorPnLWin)",strokeWidth:2,name:"Cumulative P&L",style:{cursor:"pointer"},activeDot:e=>{const{cx:a,cy:r,index:s}=e;return(0,T.jsx)("circle",{cx:a,cy:r,r:6,stroke:i.palette.background.paper,strokeWidth:2,fill:i.palette.primary.main,style:{cursor:"pointer"},onClick:()=>{console.log("Dot clicked, Index:",s);const e=t[s];if(e&&e.trades&&e.trades.length>0){const t=(0,o.GP)(e.fullDate,"MMMM d, yyyy");n({open:!0,trades:e.trades,date:t,expandedTradeId:1===e.trades.length?e.trades[0].id:null})}}})},dot:{r:3,fill:l,stroke:i.palette.background.paper,strokeWidth:1}})]})})]})};var R=a(82291),z=a(38643),I=a(17869);const $=e=>{const{x:t,y:a,payload:r}=e,n=r.value,o=(0,S.Fl)(n);return(0,T.jsx)("g",{transform:`translate(${t},${a})`,children:(0,T.jsx)("text",{x:0,y:0,dy:5,textAnchor:"end",fill:"#666",fontSize:12,children:o})})},P=e=>{let{active:t,payload:a,label:r,type:n}=e;const o=(0,c.A)();if(t&&a&&a.length){const e=a[0].payload;return(0,T.jsxs)(C.A,{sx:{p:1.5,boxShadow:o.shadows[3]},children:[(0,T.jsx)(x.A,{variant:"body2",sx:{fontWeight:"bold",mb:.5},children:r}),(0,T.jsx)(x.A,{variant:"body2",sx:{color:e.isWin?"#4caf50":e.isLoss?"#f44336":"text.secondary",fontWeight:"bold"},children:(0,S.Fl)(e.pnl)}),(0,T.jsx)(x.A,{variant:"body2",color:"text.secondary",children:e.isWin?"Win":e.isLoss?"Loss":"Break Even"}),e.trades&&e.trades.length>0&&(0,T.jsxs)(x.A,{variant:"body2",sx:{color:o.palette.primary.main,fontSize:"0.75rem",mt:.5},children:["Click to view ",e.trades.length," trade",e.trades.length>1?"s":""]})]})}return null},X=e=>{let{chartData:t,drawdownViolationValue:a,setMultipleTradesDialog:r,timePeriod:n}=e;const s=(0,c.A)(),i="#4caf50",l="#f44336",d="#9e9e9e",p="#ff9800";return(0,T.jsxs)(C.A,{sx:{p:3,mb:3,borderRadius:2},children:[(0,T.jsx)(x.A,{variant:"h6",sx:{mb:2},children:"Daily P&L"}),(0,T.jsx)(y.u,{width:"100%",height:300,children:(0,T.jsxs)(R.E,{data:t,children:[(0,T.jsx)(b.d,{strokeDasharray:"3 3",vertical:!1}),(0,T.jsx)(A.W,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:s.palette.text.secondary,fontSize:"year"===n?8:12}}),(0,T.jsx)(j.h,{axisLine:!1,tickLine:!1,tick:(0,T.jsx)($,{})}),(0,T.jsx)(v.m,{content:e=>(0,T.jsx)(P,{...e,type:"daily"})}),(0,T.jsx)(w.e,{y:0,stroke:d,strokeDasharray:"3 3"}),(0,T.jsx)(w.e,{y:a,stroke:s.palette.error.main,strokeDasharray:"3 3",strokeWidth:2,label:{position:"right",value:`Max Drawdown: ${(0,S.Fl)(a)}`,fill:s.palette.error.main,fontSize:12,fontWeight:"bold"}}),(0,T.jsx)(z.y,{dataKey:"pnl",name:"Daily P&L",radius:[4,4,0,0],onClick:e=>{if(console.log("Bar clicked:",e),e&&e.payload){const t=e.payload;if(t.trades&&t.trades.length>0){const e=(0,o.GP)(t.fullDate,"MMMM d, yyyy");r({open:!0,trades:t.trades,date:e,expandedTradeId:1===t.trades.length?t.trades[0].id:null})}}},style:{cursor:"pointer"},children:t.map(((e,t)=>(0,T.jsx)(I.f,{fill:e.isWin?i:e.isLoss?l:p,fillOpacity:.8},`cell-${t}`)))})]})})]})};var L=a(60163),F=a(4240),B=a(21327),Y=a(12097),E=a(81084),G=a(15655);const O=e=>{let{winLossData:t,comparisonWinLossData:a,allTags:n,comparisonTags:o,setComparisonTags:s,onPieClick:i,tagStats:l=[]}=e;const d=(0,c.A)(),[m,h]=(0,r.useState)(!1);r.useEffect((()=>{const e=document.createElement("style");return e.innerHTML="\n      .recharts-sector:focus,\n      .recharts-sector:focus-visible,\n      .recharts-pie:focus,\n      .recharts-pie:focus-visible,\n      .recharts-pie-sector:focus,\n      .recharts-pie-sector:focus-visible,\n      .recharts-layer:focus,\n      .recharts-layer:focus-visible,\n      .recharts-surface:focus,\n      .recharts-surface:focus-visible {\n        outline: none !important;\n        stroke: none !important;\n        stroke-width: 0 !important;\n        box-shadow: none !important;\n      }\n\n      /* Target all SVG elements in the chart */\n      .recharts-wrapper svg *:focus,\n      .recharts-wrapper svg *:focus-visible,\n      .win-loss-chart-container svg *:focus,\n      .win-loss-chart-container svg *:focus-visible {\n        outline: none !important;\n        stroke-width: 0 !important;\n      }\n    ",document.head.appendChild(e),()=>{document.head.removeChild(e)}}),[]);const u={win:"dark"===d.palette.mode?"#66bb6a":"#4caf50",loss:"dark"===d.palette.mode?"#ef5350":"#f44336",zero:"dark"===d.palette.mode?"#bdbdbd":"#9e9e9e",breakEven:"dark"===d.palette.mode?"#ffb74d":"#ff9800"},f=100,b=60,A=3,j=4,w=(d.palette.mode,o.length>0?(()=>{if(!o||0===o.length)return[];if(!a||!a.some((e=>e.value>0)))return[];const e=new Map;if(l&&l.length>0){const t=l.filter((e=>o.includes(e.tag)));t.length>0?t.forEach((t=>{e.set(t.tag,t.totalTrades)})):o.forEach((t=>{const a=t.split("").reduce(((e,t)=>e+t.charCodeAt(0)),0)%10+1;e.set(t,a)}))}else o.forEach((t=>{const a=t.split("").reduce(((e,t)=>e+t.charCodeAt(0)),0)%10+1;e.set(t,a)}));return Array.from(e.entries()).map((e=>{let[t,a]=e;return{name:t,value:a}}))})():t);return(0,T.jsxs)(C.A,{elevation:"dark"===d.palette.mode?2:1,sx:{p:3,borderRadius:2,height:"100%",display:"flex",flexDirection:"column",bgcolor:d.palette.background.paper},children:[(0,T.jsxs)(p.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,pb:1.5},children:[(0,T.jsx)(x.A,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:o.length>0?(0,T.jsx)(T.Fragment,{children:"Tag Distribution"}):(0,T.jsx)(T.Fragment,{children:"Win/Loss Distribution"})}),(0,T.jsx)(Y.A,{variant:"outlined",size:"small",onClick:()=>h(!0),sx:{textTransform:"none"},children:o.length>0?`Compare: ${o.length} tags`:"Compare Tags"}),(0,T.jsx)(G.A,{open:m,onClose:()=>h(!1),title:"Select Tags to Compare",allTags:n,selectedTags:o,onTagsChange:e=>s(e),showApplyButton:!0,showClearButton:!0})]}),(0,T.jsx)(p.A,{sx:{flex:1,minHeight:300},className:"win-loss-chart-container",children:o.length>0&&0===w.length?(0,T.jsxs)(p.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",flexDirection:"column",gap:2},children:[(0,T.jsx)(x.A,{variant:"body1",color:"text.secondary",children:"No trades found with the selected tags"}),(0,T.jsx)(x.A,{variant:"caption",color:"text.secondary",children:"Try selecting different tags for comparison"})]}):(0,T.jsx)(y.u,{width:"100%",height:"100%",children:(0,T.jsxs)(L.r,{style:{outline:"none"},tabIndex:-1,margin:{top:5,right:5,bottom:5,left:5},children:[(0,T.jsx)(v.m,{content:e=>{let{active:t,payload:a}=e;if(t&&a&&a.length){const e=a[0].payload;return(0,T.jsxs)(C.A,{sx:{p:1.5,boxShadow:d.shadows[3]},children:[(0,T.jsx)(x.A,{variant:"body2",sx:{fontWeight:"bold",mb:.5},children:e.name}),(0,T.jsxs)(x.A,{variant:"body2",sx:{color:o.length>0?(0,E.yC)(e.name):"Wins"===e.name?u.win:"Losses"===e.name?u.loss:u.breakEven,fontWeight:"bold"},children:[e.value," trade",1!==e.value?"s":""]}),(0,T.jsxs)(x.A,{variant:"body2",color:"text.secondary",children:[(e.value/w.reduce(((e,t)=>e+t.value),0)*100).toFixed(1),"% of total"]}),i&&(0,T.jsx)(x.A,{variant:"body2",sx:{color:d.palette.primary.main,fontSize:"0.75rem",mt:.5},children:"Click to view trades"})]})}return null}}),(0,T.jsx)(F.F,{data:w,cx:"50%",cy:"50%",labelLine:!1,outerRadius:f,strokeWidth:0,innerRadius:b,fill:"#8884d8",dataKey:"value",label:e=>{let{name:t,percent:a}=e;return a<.05?null:`${t} ${(100*a).toFixed(0)}%`},paddingAngle:A,cornerRadius:j,onClick:e=>{i&&i(e.name)},cursor:"pointer",style:{outline:"none",filter:"drop-shadow(0px 2px 5px rgba(0,0,0,0.1))"},tabIndex:-1,children:w.map(((e,t)=>{let a;return a=o.length>0?(0,E.yC)(e.name):"Wins"===e.name?u.win:"Losses"===e.name?u.loss:u.breakEven,(0,T.jsx)(I.f,{fill:a,strokeWidth:1,stroke:d.palette.background.paper,style:{outline:"none",transition:"opacity 0.3s"}},`cell-${t}`)}))}),(0,T.jsx)(B.s,{verticalAlign:"bottom",align:"center",layout:"horizontal",iconSize:12,iconType:"circle",wrapperStyle:{paddingTop:15,fontSize:"0.85rem",fontWeight:500}})]})})}),!(o.length>0&&0===w.length)&&(0,T.jsxs)(p.A,{sx:{display:"flex",justifyContent:"center",mt:2,pt:1.5,flexDirection:"column",alignItems:"center",marginTop:"auto"},children:[(0,T.jsx)(x.A,{variant:"body2",color:"text.secondary",sx:{fontWeight:500},children:o.length>0?"Showing distribution of selected tags":"Showing win/loss distribution for all trades"}),i&&(0,T.jsx)(p.A,{sx:{display:"flex",alignItems:"center",gap:.5,mt:.5,bgcolor:(0,g.X4)(d.palette.primary.main,.08),px:1.5,py:.5,borderRadius:1},children:(0,T.jsx)(x.A,{variant:"caption",color:"primary",sx:{fontWeight:500},children:"Click on a segment to view trades"})})]})]})};var H=a(26529),K=a(17347);const N=e=>{let{trades:t,selectedDate:a,timePeriod:o,allTags:s,primaryTags:i,secondaryTags:l,setPrimaryTags:d,setSecondaryTags:m,filteredTagStats:h,setMultipleTradesDialog:u}=e;const f=(0,c.A)(),[w,k]=(0,r.useState)(!1),[D,W]=(0,r.useState)(!1),M="#4caf50",I="#f44336";return(0,T.jsxs)(C.A,{sx:{p:3,mb:3,borderRadius:2},children:[(0,T.jsxs)(p.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,T.jsxs)(p.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,T.jsx)(x.A,{variant:"h6",children:"Tag Performance Analysis"}),(0,T.jsx)(H.A,{title:"Analyze how different tags perform. Select primary tags to filter, and optionally secondary tags to see how they perform in combination.",arrow:!0,placement:"top",children:(0,T.jsx)(K.A,{sx:{fontSize:16,color:"text.secondary",opacity:.7,cursor:"help"}})})]}),(0,T.jsxs)(p.A,{sx:{display:"flex",gap:1},children:[(0,T.jsx)(Y.A,{variant:"outlined",size:"small",onClick:()=>k(!0),sx:{textTransform:"none"},children:i.length>0?`Primary: ${i.length} tags`:"Select Primary Tags"}),(0,T.jsx)(Y.A,{variant:"outlined",size:"small",onClick:()=>W(!0),sx:{textTransform:"none"},children:l.length>0?`Secondary: ${l.length} tags`:"Select Secondary Tags"}),(0,T.jsx)(G.A,{open:w,onClose:()=>k(!1),title:"Select Primary Tags",allTags:s,selectedTags:i,onTagsChange:e=>d(e),showApplyButton:!0,showClearButton:!0}),(0,T.jsx)(G.A,{open:D,onClose:()=>W(!1),title:"Select Secondary Tags",allTags:s,selectedTags:l,onTagsChange:e=>m(e),showApplyButton:!0,showClearButton:!0})]})]}),0===i.length&&0===l.length?(0,T.jsxs)(p.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:300,bgcolor:(0,g.X4)(f.palette.background.paper,.4),borderRadius:2,p:3},children:[(0,T.jsx)(x.A,{variant:"h6",color:"text.secondary",sx:{mb:1},children:"No Tags Selected"}),(0,T.jsx)(x.A,{variant:"body2",color:"text.secondary",align:"center",children:"Please select primary or secondary tags to view performance analysis."})]}):(0,T.jsx)(y.u,{width:"100%",height:300,children:(0,T.jsxs)(R.E,{data:h,margin:{top:20,right:30,left:20,bottom:5},maxBarSize:50,children:[(0,T.jsx)(b.d,{strokeDasharray:"3 3",vertical:!1}),(0,T.jsx)(A.W,{dataKey:"tag",axisLine:!1,tickLine:!1,tick:{fill:f.palette.text.secondary,fontSize:12}}),(0,T.jsx)(j.h,{axisLine:!1,tickLine:!1,tick:{fill:f.palette.text.secondary,fontSize:12}}),(0,T.jsx)(v.m,{content:e=>{let{active:t,payload:a,label:r}=e;if(t&&a&&a.length){const e=a[0].payload;return(0,T.jsxs)(C.A,{sx:{p:1.5,bgcolor:"background.paper"},children:[(0,T.jsx)(x.A,{variant:"body2",sx:{fontWeight:"bold"},children:r}),(0,T.jsxs)(x.A,{variant:"body2",sx:{color:M},children:["Wins: ",e.wins]}),(0,T.jsxs)(x.A,{variant:"body2",sx:{color:I},children:["Losses: ",e.losses]}),(0,T.jsxs)(x.A,{variant:"body2",color:"text.secondary",children:["Win Rate: ",e.winRate,"%"]}),(0,T.jsxs)(x.A,{variant:"body2",sx:{color:e.totalPnL>0?M:I,fontWeight:"bold",mt:.5},children:["P&L: ",(0,S.Fl)(e.totalPnL)]})]})}return null}}),(0,T.jsx)(B.s,{}),(0,T.jsx)(z.y,{dataKey:"wins",name:"Wins",stackId:"trades",fill:M,radius:[4,4,0,0],onClick:e=>{if(e&&e.payload){const r=e.payload.tag,s=t.filter((e=>{var t;return(null===(t=e.tags)||void 0===t?void 0:t.includes(r))&&"win"===e.type&&("month"===o?(0,n.t)(new Date(e.date),a):"year"!==o||new Date(e.date).getFullYear()===a.getFullYear())}));s.length>0&&u({open:!0,trades:s,date:`Winning trades with tag: ${r}`,expandedTradeId:1===s.length?s[0].id:null})}},style:{cursor:"pointer"}}),(0,T.jsx)(z.y,{dataKey:"losses",name:"Losses",stackId:"trades",fill:I,radius:[4,4,0,0],onClick:e=>{if(e&&e.payload){const r=e.payload.tag,s=t.filter((e=>{var t;return(null===(t=e.tags)||void 0===t?void 0:t.includes(r))&&"loss"===e.type&&("month"===o?(0,n.t)(new Date(e.date),a):"year"!==o||new Date(e.date).getFullYear()===a.getFullYear())}));s.length>0&&u({open:!0,trades:s,date:`Losing trades with tag: ${r}`,expandedTradeId:1===s.length?s[0].id:null})}},style:{cursor:"pointer"}})]})})]})};var V=a(28259),U=a(87443),Z=a(10756),J=a(86172),_=a(81341),q=a(34375),Q=a(6013),ee=a(92248),te=a(69863),ae=a(46577);const re=e=>{let{dailySummaryData:t,trades:a,setMultipleTradesDialog:n}=e;const s=(0,c.A)(),i=r.useMemo((()=>t&&0!==t.length?t.reduce(((e,t)=>e+t.pnl),0):0),[t]);return(0,T.jsxs)(C.A,{sx:{p:3,borderRadius:2,height:"100%",display:"flex",flexDirection:"column"},children:[(0,T.jsxs)(p.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[(0,T.jsxs)(p.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,T.jsx)(x.A,{variant:"h6",children:"Daily Summary"}),(0,T.jsx)(H.A,{title:"Daily trading summary showing trades, session, and P&L for each day",arrow:!0,placement:"top",children:(0,T.jsx)(K.A,{sx:{fontSize:16,color:"text.secondary",opacity:.7,cursor:"help"}})})]}),t&&t.length>0&&(0,T.jsxs)(p.A,{sx:{display:"flex",alignItems:"center",gap:1,bgcolor:(0,g.X4)(i>0?s.palette.success.main:i<0?s.palette.error.main:s.palette.grey[500],.1),px:1.5,py:.5,borderRadius:2,border:`1px solid ${(0,g.X4)(i>0?s.palette.success.main:i<0?s.palette.error.main:s.palette.grey[500],.2)}`},children:[i>0?(0,T.jsx)(Q.A,{sx:{color:s.palette.success.main}}):i<0?(0,T.jsx)(ee.A,{sx:{color:s.palette.error.main}}):(0,T.jsx)(te.A,{sx:{color:s.palette.grey[500]}}),(0,T.jsxs)(x.A,{variant:"subtitle1",sx:{fontWeight:600,color:i>0?s.palette.success.main:i<0?s.palette.error.main:"text.secondary"},children:["Total P&L: ",(0,S.Fl)(i)]})]})]}),(0,T.jsx)(V.A,{sx:{flex:1,overflow:"auto",...(0,ae.J)(s)},children:(0,T.jsxs)(U.A,{stickyHeader:!0,size:"small",children:[(0,T.jsx)(Z.A,{children:(0,T.jsxs)(J.A,{children:[(0,T.jsx)(_.A,{sx:{fontWeight:600,backgroundColor:s.palette.background.paper,borderBottom:`2px solid ${s.palette.divider}`,color:"text.secondary"},children:"DATE"}),(0,T.jsx)(_.A,{align:"right",sx:{fontWeight:600,backgroundColor:s.palette.background.paper,borderBottom:`2px solid ${s.palette.divider}`,color:"text.secondary"},children:"TRADES"}),(0,T.jsx)(_.A,{align:"center",sx:{fontWeight:600,backgroundColor:s.palette.background.paper,borderBottom:`2px solid ${s.palette.divider}`,color:"text.secondary"},children:"SESSION"}),(0,T.jsx)(_.A,{align:"right",sx:{fontWeight:600,backgroundColor:s.palette.background.paper,borderBottom:`2px solid ${s.palette.divider}`,color:"text.secondary"},children:"P/L"})]})}),(0,T.jsx)(q.A,{children:t.map((e=>(0,T.jsxs)(J.A,{onClick:()=>{const t=a.filter((t=>(0,o.GP)(new Date(t.date),"yyyy-MM-dd")===(0,o.GP)(e.date,"yyyy-MM-dd")));t.length>0&&n({open:!0,trades:t,date:(0,o.GP)(e.date,"dd/MM/yyyy"),expandedTradeId:1===t.length?t[0].id:null})},sx:{"&:last-child td, &:last-child th":{border:0},"&:hover":{backgroundColor:(0,g.X4)(s.palette.primary.main,.04),cursor:"pointer"},bgcolor:e.pnl>0?(0,g.X4)(s.palette.success.main,.05):e.pnl<0?(0,g.X4)(s.palette.error.main,.05):"transparent"},children:[(0,T.jsx)(_.A,{sx:{fontWeight:500,color:"text.primary"},children:(0,o.GP)(e.date,"dd/MM/yyyy")}),(0,T.jsx)(_.A,{align:"right",sx:{fontWeight:500,color:"text.primary"},children:e.trades}),(0,T.jsx)(_.A,{align:"center",children:e.session?(0,T.jsx)(x.A,{sx:{color:"text.primary",fontWeight:500},children:e.session}):(0,T.jsx)(x.A,{sx:{color:"text.secondary",fontStyle:"italic"},children:"\u2014"})}),(0,T.jsx)(_.A,{align:"right",sx:{color:e.pnl>0?s.palette.success.main:e.pnl<0?s.palette.error.main:"text.secondary",fontWeight:600,fontSize:"0.875rem"},children:(0,S.Fl)(e.pnl)})]},(0,o.GP)(e.date,"yyyy-MM-dd"))))})]})})]})};var ne=a(70298);const oe=e=>{let{sessionStats:t,trades:a,selectedDate:r,timePeriod:o,setMultipleTradesDialog:s}=e;const i=(0,c.A)(),l="#4caf50",d="#f44336";return(0,T.jsxs)(C.A,{sx:{p:3,mb:3,borderRadius:2},children:[(0,T.jsx)(x.A,{variant:"h6",sx:{mb:2},children:"Session Performance"}),(0,T.jsxs)(p.A,{sx:{display:"flex",flexDirection:"column",gap:3},children:[(0,T.jsx)(p.A,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:t.map((e=>(0,T.jsxs)(C.A,{sx:{p:2,border:`1px solid ${(0,g.X4)(e.totalPnL>0?i.palette.success.main:i.palette.error.main,.1)}`,borderRadius:2,bgcolor:"dark"===i.palette.mode?"rgba(0, 0, 0, 0.2)":"rgba(0, 0, 0, 0.02)",opacity:0===e.totalTrades?.5:1,cursor:e.totalTrades>0?"pointer":"default",transition:"all 0.2s","&:hover":{boxShadow:e.totalTrades>0?i.shadows[2]:"none",bgcolor:e.totalTrades>0?(0,g.X4)(i.palette.primary.main,.05):"dark"===i.palette.mode?"rgba(0, 0, 0, 0.2)":"rgba(0, 0, 0, 0.02)"}},onClick:()=>{if(e.totalTrades>0){const t=a.filter((t=>t.session===e.session&&("month"===o?(0,n.t)(new Date(t.date),r):"year"!==o||new Date(t.date).getFullYear()===r.getFullYear())));s({open:!0,trades:t,date:`${e.session} Session Trades`,expandedTradeId:1===t.length?t[0].id:null})}},children:[(0,T.jsx)(x.A,{variant:"subtitle2",gutterBottom:!0,children:e.session}),(0,T.jsxs)(ne.A,{spacing:1,children:[(0,T.jsxs)(p.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,T.jsx)(x.A,{variant:"body2",color:"text.secondary",children:"Total Trades"}),(0,T.jsx)(x.A,{variant:"body2",children:e.totalTrades})]}),(0,T.jsxs)(p.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,T.jsx)(x.A,{variant:"body2",color:"text.secondary",children:"Win Rate"}),(0,T.jsxs)(x.A,{variant:"body2",sx:{color:e.winRate>=50?i.palette.success.main:i.palette.error.main},children:[e.winRate.toFixed(1),"%"]})]}),(0,T.jsxs)(p.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,T.jsx)(x.A,{variant:"body2",color:"text.secondary",children:"P&L"}),(0,T.jsx)(x.A,{variant:"body2",sx:{color:e.totalPnL>0?i.palette.success.main:i.palette.error.main,fontWeight:500},children:(0,S.Fl)(e.totalPnL)})]}),(0,T.jsxs)(p.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,T.jsx)(x.A,{variant:"caption",color:"text.secondary",children:"Avg P&L per Trade"}),(0,T.jsx)(x.A,{variant:"body2",sx:{ml:1,color:e.averagePnL>0?i.palette.success.main:i.palette.error.main},children:(0,S.Fl)(e.averagePnL)})]}),(0,T.jsxs)(p.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,T.jsx)(x.A,{variant:"body2",color:"text.secondary",children:"Account %"}),(0,T.jsxs)(x.A,{variant:"body2",sx:{color:e.pnlPercentage>0?i.palette.success.main:i.palette.error.main},children:[e.pnlPercentage.toFixed(2),"%"]})]}),(0,T.jsxs)(p.A,{sx:{display:"flex",gap:1,mt:1},children:[(0,T.jsx)(p.A,{sx:{flex:e.winners,height:6,bgcolor:l,borderRadius:1}}),(0,T.jsx)(p.A,{sx:{flex:e.losers,height:6,bgcolor:d,borderRadius:1}})]})]})]},e.session)))}),(0,T.jsx)(y.u,{width:"100%",height:300,children:(0,T.jsxs)(R.E,{data:t,margin:{top:20,right:30,left:20,bottom:5},maxBarSize:50,children:[(0,T.jsx)(b.d,{strokeDasharray:"3 3",vertical:!1}),(0,T.jsx)(A.W,{dataKey:"session",axisLine:!1,tickLine:!1,tick:{fill:i.palette.text.secondary,fontSize:12}}),(0,T.jsx)(j.h,{axisLine:!1,tickLine:!1,tick:{fill:i.palette.text.secondary,fontSize:12},tickFormatter:e=>`${e}%`}),(0,T.jsx)(v.m,{content:e=>{let{active:t,payload:a,label:r}=e;if(t&&a&&a.length){const e=a[0].payload;return(0,T.jsxs)(C.A,{sx:{p:1.5,bgcolor:"background.paper"},children:[(0,T.jsx)(x.A,{variant:"body2",sx:{fontWeight:"bold"},children:r}),(0,T.jsxs)(x.A,{variant:"body2",sx:{color:l},children:["Wins: ",e.winners]}),(0,T.jsxs)(x.A,{variant:"body2",sx:{color:d},children:["Losses: ",e.losers]}),(0,T.jsxs)(x.A,{variant:"body2",color:"text.secondary",children:["Win Rate: ",e.winRate.toFixed(1),"%"]}),(0,T.jsxs)(x.A,{variant:"body2",sx:{color:e.totalPnL>0?l:d,fontWeight:"bold",mt:.5},children:["P&L: ",(0,S.Fl)(e.totalPnL)]})]})}return null}}),(0,T.jsx)(z.y,{dataKey:"winRate",name:"Win Rate",fill:i.palette.primary.main,radius:[4,4,0,0],onClick:e=>{if(e&&e.payload){const t=e.payload.session,i=a.filter((e=>e.session===t&&("month"===o?(0,n.t)(new Date(e.date),r):"year"!==o||new Date(e.date).getFullYear()===r.getFullYear())));i.length>0&&s({open:!0,trades:i,date:`${t} Session Trades`,expandedTradeId:1===i.length?i[0].id:null})}},style:{cursor:"pointer"},children:t.map(((e,t)=>(0,T.jsx)(I.f,{fill:e.winRate>=50?l:d,fillOpacity:.8},`cell-${t}`)))})]})})]})]})};var se=a(95315),ie=a(42455),le=a(64),de=a(25272),ce=a(70149),pe=a(8961),xe=a(4279);const me=e=>{let{open:t,trades:a,date:n,expandedTradeId:o,onClose:s,onTradeExpand:i,onZoomImage:l}=e;const d=(0,c.A)(),m=(0,T.jsx)(p.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:(0,T.jsxs)(x.A,{variant:"h6",children:["Trades for ",n]})});return(0,T.jsx)(xe.mY,{open:t,onClose:s,maxWidth:"sm",fullWidth:!0,title:m,children:(0,T.jsx)(se.A,{sx:{"& .MuiListItem-root":{borderRadius:2,mb:1.5,bgcolor:(0,g.X4)(d.palette.background.default,.6),transition:"all 0.2s ease",border:`1px solid ${(0,g.X4)(d.palette.divider,.1)}`,"&:hover":{bgcolor:(0,g.X4)(d.palette.primary.main,.05),cursor:"pointer",borderColor:(0,g.X4)(d.palette.primary.main,.2)}}},children:a.map((e=>(0,T.jsxs)(r.Fragment,{children:[(0,T.jsxs)(ie.Ay,{onClick:()=>i(e.id),sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",p:2,borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:o===e.id?0:8,borderBottomRightRadius:o===e.id?0:8,borderBottom:o===e.id?"none":`1px solid ${d.palette.divider}`,boxShadow:o===e.id?`0 4px 8px ${(0,g.X4)(d.palette.primary.main,.1)}`:"none"},children:[(0,T.jsxs)(p.A,{sx:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[(0,T.jsxs)(p.A,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[e.name&&(0,T.jsxs)(x.A,{variant:"body2",sx:{fontWeight:600},children:["\ud83d\udcc8 ",e.name]}),(0,T.jsxs)(p.A,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,T.jsx)(x.A,{variant:"subtitle2",sx:{color:"win"===e.type?d.palette.success.main:"loss"===e.type?d.palette.error.main:d.palette.info.main,fontWeight:600},children:"win"===e.type?"Win":"loss"===e.type?"Loss":"Breakeven"}),e.session&&(0,T.jsx)(x.A,{variant:"body2",sx:{color:"text.secondary",fontSize:"0.75rem",bgcolor:(0,g.X4)(d.palette.divider,.2),px:.75,py:.25,borderRadius:1},children:e.session})]})]}),(0,T.jsxs)(p.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,T.jsxs)(x.A,{variant:"subtitle2",sx:{color:e.amount>0?d.palette.success.main:d.palette.error.main,fontWeight:600},children:[e.amount>0?"+":"",e.amount.toFixed(2)]}),o===e.id?(0,T.jsx)(le.A,{fontSize:"small",sx:{color:"text.secondary"}}):(0,T.jsx)(de.A,{fontSize:"small",sx:{color:"text.secondary"}})]})]}),(0,T.jsx)(p.A,{sx:{width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center",gap:1},children:e.riskToReward&&(0,T.jsxs)(p.A,{sx:{display:"flex",alignItems:"center",gap:.5,bgcolor:(0,g.X4)(d.palette.primary.main,.1),px:1,py:.5,borderRadius:1,border:`1px solid ${(0,g.X4)(d.palette.primary.main,.2)}`},children:[(0,T.jsx)(ce.A,{fontSize:"small",sx:{color:(0,g.X4)(d.palette.primary.main,.8),fontSize:"0.875rem"}}),(0,T.jsx)(x.A,{variant:"body2",sx:{color:d.palette.primary.main,fontSize:"0.75rem",fontWeight:500},children:e.riskToReward.toFixed(1)})]})})]}),(0,T.jsx)(pe.A,{trade:e,isExpanded:o===e.id,setZoomedImage:l})]},e.id)))})})},he=e=>{let{riskRewardStats:t}=e;const a=(0,c.A)();return 0===t.data.length?null:(0,T.jsxs)(C.A,{sx:{p:2,mb:2,borderRadius:2},children:[(0,T.jsxs)(p.A,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[(0,T.jsxs)(p.A,{children:[(0,T.jsxs)(p.A,{sx:{display:"flex",alignItems:"center",gap:.5,mb:.5},children:[(0,T.jsx)(x.A,{variant:"body2",sx:{color:"text.secondary"},children:"Average RR"}),(0,T.jsx)(H.A,{title:"Average Risk to reward ratio (RR) per trade. An RR of 2 means that for every 1$ you risk you will make 2$.",arrow:!0,placement:"top",children:(0,T.jsx)(K.A,{sx:{fontSize:16,color:"text.secondary",opacity:.7,cursor:"help"}})})]}),(0,T.jsx)(x.A,{variant:"h4",sx:{fontWeight:500,color:"text.primary"},children:t.average.toFixed(2)})]}),(0,T.jsxs)(p.A,{children:[(0,T.jsxs)(p.A,{sx:{display:"flex",alignItems:"center",gap:.5,mb:.5},children:[(0,T.jsx)(x.A,{variant:"body2",sx:{color:"text.secondary"},children:"Max RR"}),(0,T.jsx)(H.A,{title:"Maximum Risk to reward Ratio between all your trades. You can use the small graph at the bottom of this card to see the RR of every one of your trades.",arrow:!0,placement:"top",children:(0,T.jsx)(K.A,{sx:{fontSize:16,color:"text.secondary",opacity:.7,cursor:"help"}})})]}),(0,T.jsx)(x.A,{variant:"h4",sx:{fontWeight:500,color:"text.primary"},children:t.max.toFixed(2)})]})]}),(0,T.jsx)(p.A,{sx:{height:60,mt:2},children:(0,T.jsx)(y.u,{width:"100%",height:"100%",children:(0,T.jsxs)(f.Q,{data:t.data,margin:{top:0,right:0,left:0,bottom:0},children:[(0,T.jsx)("defs",{children:(0,T.jsxs)("linearGradient",{id:"rrGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,T.jsx)("stop",{offset:"5%",stopColor:a.palette.primary.main,stopOpacity:.3}),(0,T.jsx)("stop",{offset:"95%",stopColor:a.palette.primary.main,stopOpacity:0})]})}),(0,T.jsx)(k.G,{type:"monotone",dataKey:"rr",stroke:a.palette.primary.main,strokeWidth:2,fill:"url(#rrGradient)",dot:!1})]})})})]})},ge=e=>{let{trades:t,selectedDate:a,monthlyTarget:y,accountBalance:f,maxDailyDrawdown:b,onTimePeriodChange:A,onPrimaryTagsChange:j=()=>{},onSecondaryTagsChange:v=()=>{}}=e;const w=(0,c.A)(),[k,C]=(0,r.useState)("month"),[S,D]=(0,r.useState)([]),[W,R]=(0,r.useState)([]),[z,I]=(0,r.useState)([]),[$,P]=(0,r.useState)({open:!1,trades:[],date:"",expandedTradeId:null}),[L,F]=(0,r.useState)(null),B=(0,r.useCallback)(((e,t,a)=>{switch(a){case"month":return e.filter((e=>(0,n.t)(new Date(e.date),t)));case"year":return e.filter((e=>new Date(e.date).getFullYear()===t.getFullYear()));default:return e}}),[]),Y=(0,r.useMemo)((()=>{const e=B(t,a,k).filter((e=>void 0!==e.riskToReward)).sort(((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()));if(0===e.length)return{average:0,max:0,data:[]};const r=e.map((e=>e.riskToReward));return{average:r.reduce(((e,t)=>e+t),0)/r.length,max:Math.max(...r),data:e.map((e=>({date:(0,o.GP)(new Date(e.date),"month"===k?"MM/dd":"MM/dd/yyyy"),rr:e.riskToReward||0})))}}),[t,a,k,B]),E=(0,r.useMemo)((()=>{const e=B(t,a,k);let r,n;if("month"===k)r=(0,s.w)(a),n=(0,i.p)(a);else if("year"===k)r=new Date(a.getFullYear(),0,1),n=new Date(a.getFullYear(),11,31);else if(0===e.length)r=new Date,n=new Date;else{const t=[...e].sort(((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()));r=new Date(t[0].date),n=new Date(t[t.length-1].date)}const d=(0,l.k)({start:r,end:n});let c=0,p=0;return d.map((t=>{const a=e.filter((e=>(0,o.GP)(new Date(e.date),"yyyy-MM-dd")===(0,o.GP)(t,"yyyy-MM-dd"))),r=a.reduce(((e,t)=>e+t.amount),0);return p=c,c+=r,{date:(0,o.GP)(t,"month"===k?"MM/dd":"MM/dd/yyyy"),pnl:r,cumulativePnL:c,isIncreasing:c>p,isDecreasing:c<p,dailyChange:c-p,isWin:r>0,isLoss:r<0,isBreakEven:0===r,trades:a,fullDate:new Date(t)}}))}),[t,a,k,B]),G=(0,r.useMemo)((()=>{const e=B(t,a,k),r=e.filter((e=>"win"===e.type)),n=e.filter((e=>"loss"===e.type)),o=r.length,s=n.length,i=o+s,l=i>0?o/i*100:0,d=r.reduce(((e,t)=>e+t.amount),0),c=n.reduce(((e,t)=>e+t.amount),0),p=o>0?d/o:0,x=s>0?c/s:0;let m=0,h=0,g=0,u=0,y=0,f=0,b=0,A=0;[...e].sort(((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime())).forEach((e=>{"win"===e.type?(m++,y=0,m>h&&(h=m)):(m>0&&(g+=m,u++),m=0,y++,y>f&&(f=y))})),m>0?(g+=m,u++):y>0&&(b+=y,A++);return{totalTrades:i,winRate:l,winners:{total:o,avgAmount:p,maxConsecutive:h,avgConsecutive:u>0?g/u:0},losers:{total:s,avgAmount:x,maxConsecutive:f,avgConsecutive:A>0?b/A:0}}}),[t,a,k,B]),H=(0,r.useMemo)((()=>{const{winners:e,losers:t}=G;return[{name:"Wins",value:e.total},{name:"Losses",value:t.total}]}),[G]),K=(0,r.useMemo)((()=>{if(0===z.length)return null;const e=B(t,a,k).filter((e=>!!e.tags&&z.some((t=>e.tags.includes(t))))),r=e.filter((e=>"win"===e.type)),n=e.filter((e=>"loss"===e.type));return[{name:"Wins",value:r.length},{name:"Losses",value:n.length}]}),[t,a,k,z,B]),V=(0,r.useMemo)((()=>{const e=B(t,a,k).reduce(((e,t)=>{const a=(0,o.GP)(new Date(t.date),"yyyy-MM-dd");return e[a]||(e[a]=[]),e[a].push(t),e}),{});return Object.entries(e).map((e=>{let[t,a]=e;const r=a.reduce(((e,t)=>e+t.amount),0),n=a.reduce(((e,t)=>(t.session&&(e[t.session]=(e[t.session]||0)+1),e)),{});let o="",s=0;return Object.entries(n).forEach((e=>{let[t,a]=e;a>s&&(o=t,s=a)})),{date:(0,d.H)(t),trades:a.length,session:o,pnl:r}})).sort(((e,t)=>t.date.getTime()-e.date.getTime()))}),[t,a,k,B]),U=(0,r.useMemo)((()=>{const e=B(t,a,k),r=new Map;return e.forEach((e=>{e.tags&&e.tags.forEach((t=>{const a=r.get(t)||{wins:0,losses:0,totalPnL:0};"win"===e.type?a.wins++:a.losses++,a.totalPnL+=e.amount,r.set(t,a)}))})),Array.from(r.entries()).map((e=>{let[t,a]=e;const r=a.wins+a.losses,n=r>0?Math.round(a.wins/r*100):0;return{tag:t,wins:a.wins,losses:a.losses,totalTrades:r,winRate:n,totalPnL:a.totalPnL}})).sort(((e,t)=>t.totalTrades-e.totalTrades))}),[t,a,k,B]),Z=(0,r.useMemo)((()=>{const e=B(t,a,k).filter((e=>void 0!==e.session));return["Asia","London","NY AM","NY PM"].map((t=>{const a=e.filter((e=>e.session===t)),r=a.length,n=a.filter((e=>"win"===e.type)).length,o=r-n,s=r>0?n/r*100:0,i=a.reduce(((e,t)=>e+t.amount),0);return{session:t,totalTrades:r,winners:n,losers:o,winRate:s,totalPnL:i,averagePnL:r>0?i/r:0,pnlPercentage:f>0?i/f*100:0}}))}),[t,a,k,f,B]),J=(0,r.useMemo)((()=>{const e=new Set;return t.forEach((t=>{t.tags&&t.tags.forEach((t=>e.add(t)))})),Array.from(e).sort()}),[t]),_=(0,r.useMemo)((()=>0===S.length&&0===W.length?[]:U.filter((e=>{if(S.length>0&&!S.includes(e.tag))return!1;if(W.length>0){if(!t.filter((t=>{var a,r;return null!==(a=null===(r=t.tags)||void 0===r?void 0:r.includes(e.tag))&&void 0!==a&&a})).some((e=>W.every((t=>{var a,r;return null!==(a=null===(r=e.tags)||void 0===r?void 0:r.includes(t))&&void 0!==a&&a})))))return!1}return!0}))),[U,S,W,t]),q=(0,r.useMemo)((()=>void 0===y||f<=0?null:y/100*f),[y,f]),Q=(0,r.useMemo)((()=>-b/100*f),[b,f]);return(0,T.jsxs)(p.A,{sx:{p:2},children:[(0,T.jsx)(u.A,{open:!!L,onClose:()=>F(null),imageUrl:L}),(0,T.jsx)(me,{open:$.open,trades:$.trades,date:$.date,expandedTradeId:$.expandedTradeId,onClose:()=>P((e=>({...e,open:!1}))),onTradeExpand:e=>{P((t=>({...t,expandedTradeId:t.expandedTradeId===e?null:e})))},onZoomImage:e=>{F(e)}}),(0,T.jsxs)(p.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,T.jsxs)(x.A,{variant:"h6",children:["Performance Charts for ","month"===k?(0,o.GP)(a,"MMMM yyyy"):"year"===k?(0,o.GP)(a,"yyyy"):"All Time"]}),(0,T.jsxs)(m.A,{value:k,onChange:(e,t)=>(e=>{C(e),null===A||void 0===A||A(e)})(t),sx:{minHeight:40,backgroundColor:(0,g.X4)(w.palette.background.paper,.4),borderRadius:"20px",padding:"4px","& .MuiTabs-flexContainer":{gap:"4px"},"& .MuiTabs-indicator":{display:"none"}},children:[(0,T.jsx)(h.A,{label:"Month",value:"month",sx:{minHeight:32,my:.2,textTransform:"none",fontSize:"0.875rem",fontWeight:500,color:"text.secondary",borderRadius:"16px",padding:"6px 18px","&.Mui-selected":{color:"primary.main",backgroundColor:"background.paper",boxShadow:w.shadows[1]},"&:hover:not(.Mui-selected)":{backgroundColor:(0,g.X4)(w.palette.primary.main,.05),color:"primary.main"}}}),(0,T.jsx)(h.A,{label:"Year",value:"year",sx:{minHeight:32,my:.2,textTransform:"none",fontSize:"0.875rem",fontWeight:500,color:"text.secondary",borderRadius:"16px",padding:"6px 18px","&.Mui-selected":{color:"primary.main",backgroundColor:"background.paper",boxShadow:w.shadows[1]},"&:hover:not(.Mui-selected)":{backgroundColor:(0,g.X4)(w.palette.primary.main,.05),color:"primary.main"}}}),(0,T.jsx)(h.A,{label:"All Time",value:"all",sx:{minHeight:32,my:.2,textTransform:"none",fontSize:"0.875rem",fontWeight:500,color:"text.secondary",borderRadius:"16px",padding:"6px 18px","&.Mui-selected":{color:"primary.main",backgroundColor:"background.paper",boxShadow:w.shadows[1]},"&:hover:not(.Mui-selected)":{backgroundColor:(0,g.X4)(w.palette.primary.main,.05),color:"primary.main"}}})]})]}),E.some((e=>0!==e.pnl))||H.some((e=>e.value>0))?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(he,{riskRewardStats:Y}),(0,T.jsx)(M,{chartData:E,targetValue:q,monthlyTarget:y,setMultipleTradesDialog:P,timePeriod:k}),(0,T.jsx)(X,{chartData:E,drawdownViolationValue:Q,setMultipleTradesDialog:P,timePeriod:k}),(0,T.jsxs)(p.A,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:3,mb:3,height:"500px"},children:[(0,T.jsx)(p.A,{sx:{flex:1,width:{xs:"100%",md:"50%"}},children:(0,T.jsx)(O,{winLossData:H,comparisonWinLossData:K,allTags:J,comparisonTags:z,setComparisonTags:I,onPieClick:e=>{const r=B(t,a,k);let n=[],s="";if("Wins"===e||"Losses"===e){let t;n=r.filter((t=>"Wins"===e&&"win"===t.type||"Losses"===e&&"loss"===t.type)),t="month"===k?(0,o.GP)(a,"MMMM yyyy"):"year"===k?(0,o.GP)(a,"yyyy"):"All Time",s=`${e} for ${t}`}else n=r.filter((t=>{var a;return null===(a=t.tags)||void 0===a?void 0:a.includes(e)})),s=`Trades with tag: ${e}`;n.length>0&&P({open:!0,trades:n,date:s,expandedTradeId:1===n.length?n[0].id:null})},tagStats:U})}),(0,T.jsx)(p.A,{sx:{flex:1,width:{xs:"100%",md:"50%"}},children:(0,T.jsx)(re,{dailySummaryData:V,trades:t,setMultipleTradesDialog:P})})]}),(0,T.jsx)(N,{trades:t,selectedDate:a,timePeriod:k,allTags:J,primaryTags:S,secondaryTags:W,setPrimaryTags:e=>{D(e),j(e)},setSecondaryTags:e=>{R(e),v(e)},filteredTagStats:_,setMultipleTradesDialog:P}),(0,T.jsx)(oe,{sessionStats:Z,trades:t,selectedDate:a,timePeriod:k,setMultipleTradesDialog:P})]}):(0,T.jsx)(p.A,{sx:{height:300,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"dark"===w.palette.mode?"rgba(0, 0, 0, 0.2)":"rgba(0, 0, 0, 0.02)",borderRadius:2,border:`1px solid ${w.palette.divider}`},children:(0,T.jsxs)(x.A,{color:"text.secondary",children:["No trading data available for ","month"===k?(0,o.GP)(a,"MMMM yyyy"):"year"===k?(0,o.GP)(a,"yyyy"):"All Time"]})})]})}},40269:(e,t,a)=>{a.d(t,{A:()=>v});var r=a(65043),n=a(60267),o=a(53969),s=a(94842),i=a(12097),l=a(42579),d=a(94799),c=a(89826),p=a(63898),x=a(15483),m=a(66370),h=a(6013),g=a(99130),u=a(17105),y=a(57789),f=a(72046),b=a(16857),A=a(4279),j=a(70579);const v=e=>{let{open:t,onClose:a,onDateSelect:v,initialDate:w,trades:k,accountBalance:C,monthlyTarget:S,yearlyTarget:T}=e;const D=(0,n.A)(),[W,M]=r.useState(w||new Date),R=W.getFullYear(),z=["January","February","March","April","May","June","July","August","September","October","November","December"];r.useEffect((()=>{w&&M(w)}),[w]);const I=W.getMonth(),$=k.filter((e=>new Date(e.date).getFullYear()===R)),P=$.reduce(((e,t)=>e+t.amount),0),X=$.filter((e=>"win"===e.type)).length,L=$.filter((e=>"loss"===e.type)).length,F=$.length>0?(X/$.length*100).toFixed(1):"0",B=C>0?(P/C*100).toFixed(2):"0",Y=e=>k.filter((t=>new Date(t.date).getFullYear()===R&&new Date(t.date).getMonth()===e)).reduce(((e,t)=>e+t.amount),0),E=(()=>{let e=-1,t=0;for(let a=0;a<12;a++){const r=Y(a);r>t&&(t=r,e=a)}return{name:e>=0?z[e]:"None",pnl:t}})(),G=(()=>{if(!T||T<=0)return null;const e=T/100*C,t=P/e*100;return{progress:Math.min(Math.max(t,0),100),isMet:P>=e,rawProgress:t}})(),O=(0,j.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",width:"100%"},children:[(0,j.jsx)(p.A,{sx:{fontSize:"1.75rem",color:D.palette.primary.main}}),(0,j.jsx)(s.A,{variant:"h5",sx:{fontWeight:700,flex:1,color:"text.primary",fontSize:"1.5rem",ml:1.5},children:"Select Month"}),(0,j.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[R!==(new Date).getFullYear()&&(0,j.jsx)(i.A,{onClick:()=>M(new Date),size:"medium",variant:"outlined",startIcon:(0,j.jsx)(p.A,{sx:{fontSize:"1.1rem"}}),sx:{ml:1,textTransform:"none",fontWeight:600,borderRadius:1.5,px:2},children:"Today"}),(0,j.jsx)(l.A,{onClick:()=>M((e=>(0,y.d)(e,1))),sx:{color:"text.primary",bgcolor:(0,c.X4)(D.palette.primary.main,.05)},children:(0,j.jsx)(x.A,{})}),(0,j.jsx)(s.A,{variant:"h5",sx:{fontWeight:800,color:"text.primary",minWidth:"80px",textAlign:"center",letterSpacing:"-0.5px"},children:R}),(0,j.jsx)(l.A,{onClick:()=>M((e=>(0,f.e)(e,1))),sx:{color:"text.primary",bgcolor:(0,c.X4)(D.palette.primary.main,.05)},children:(0,j.jsx)(m.A,{})})]})]}),H=(0,j.jsx)(i.A,{onClick:a,variant:"outlined",size:"large",sx:{textTransform:"none",fontWeight:600,borderRadius:1.5,px:3},children:"Cancel"});return(0,j.jsx)(A.mY,{open:t,onClose:a,title:O,actions:H,maxWidth:"sm",fullWidth:!0,children:(0,j.jsxs)(o.A,{sx:{pt:"24px",pb:"24px","&::-webkit-scrollbar":{width:"8px",height:"8px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:(0,c.X4)(D.palette.primary.main,.2),borderRadius:"4px"},"&::-webkit-scrollbar-thumb:hover":{background:(0,c.X4)(D.palette.primary.main,.3)}},children:[(0,j.jsxs)(d.A,{elevation:0,sx:{px:3,py:2,mb:2,borderRadius:2,bgcolor:e=>(0,c.X4)(e.palette.background.default,.5),border:"1px solid",borderColor:e=>e.palette.divider,position:"relative",overflow:"hidden"},children:[(0,j.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2.5,pl:1},children:[(0,j.jsxs)(o.A,{sx:{display:"flex",flexDirection:"row",gap:.5},children:[(0,j.jsx)(s.A,{variant:"h6",sx:{color:"text.primary",fontSize:"1.1rem",fontWeight:600},children:"Yearly Statistics"}),G&&(0,j.jsx)(b.A,{progress:G.rawProgress,isMet:G.isMet,tooltipText:`${G.isMet?"Yearly target achieved":"Progress towards yearly target"}: ${G.rawProgress.toFixed(0)}%`})]}),(0,j.jsx)(o.A,{sx:{display:"flex",flexDirection:"column",gap:1},children:(0,j.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,bgcolor:e=>(0,c.X4)(e.palette.success.light,.1),py:.75,px:1.5,borderRadius:1,border:"1px solid",borderColor:"success.light"},children:[(0,j.jsx)(s.A,{variant:"body2",sx:{fontSize:"0.85rem",fontWeight:500,color:"text.secondary"},children:"Best Month:"}),(0,j.jsxs)(s.A,{variant:"body2",sx:{fontSize:"0.85rem",fontWeight:700,color:"success.main"},children:[E.name," ($",E.pnl.toLocaleString(),")"]})]})})]}),(0,j.jsxs)(o.A,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr 1fr"},gap:4,width:"100%"},children:[(0,j.jsxs)(o.A,{children:[(0,j.jsxs)(o.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mb:1},children:[(0,j.jsx)(o.A,{sx:{p:.8,borderRadius:1,bgcolor:e=>(0,c.X4)(e.palette.primary.main,.1),display:"flex",alignItems:"center",justifyContent:"center",mb:1},children:(0,j.jsx)(h.A,{sx:{fontSize:"1.2rem",color:"primary.main"}})}),(0,j.jsx)(s.A,{variant:"body1",sx:{fontSize:"1rem",fontWeight:600,color:"text.primary",textAlign:"center"},children:"Yearly P&L"})]}),(0,j.jsxs)(o.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:.5},children:[(0,j.jsxs)(s.A,{variant:"h5",sx:{fontWeight:700,fontSize:"1.5rem",color:e=>P>0?e.palette.success.main:P<0?e.palette.error.main:"dark"===e.palette.mode?"grey.300":"text.primary",textAlign:"center"},children:["$",Math.abs(P).toLocaleString()]}),(0,j.jsxs)(o.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:.5},children:[(0,j.jsx)(s.A,{variant:"body2",sx:{fontWeight:500,color:"text.secondary",fontSize:"0.9rem",textAlign:"center"},children:"Growth"}),(0,j.jsxs)(s.A,{variant:"body2",sx:{fontWeight:700,color:e=>P>0?e.palette.success.main:P<0?e.palette.error.main:"dark"===e.palette.mode?"grey.300":"text.primary",fontSize:"1rem",textAlign:"center"},children:[B,"%"]})]})]})]}),(0,j.jsxs)(o.A,{children:[(0,j.jsxs)(o.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mb:1},children:[(0,j.jsx)(o.A,{sx:{p:.8,borderRadius:1,bgcolor:e=>(0,c.X4)(e.palette.success.main,.1),display:"flex",alignItems:"center",justifyContent:"center",mb:1},children:(0,j.jsx)(g.A,{sx:{fontSize:"1.2rem",color:"success.main"}})}),(0,j.jsx)(s.A,{variant:"body1",sx:{fontSize:"1rem",fontWeight:600,color:"text.primary",textAlign:"center"},children:"Win Rate"})]}),(0,j.jsxs)(s.A,{variant:"h5",sx:{fontWeight:700,fontSize:"1.5rem",color:parseFloat(F)>50?"success.main":"text.primary",textAlign:"center"},children:[F,"%"]}),(0,j.jsxs)(s.A,{variant:"body1",sx:{fontWeight:500,fontSize:"1rem",color:"text.secondary",mt:.5,textAlign:"center"},children:[X," Ws / ",L," Ls"]})]}),(0,j.jsxs)(o.A,{children:[(0,j.jsxs)(o.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mb:1},children:[(0,j.jsx)(o.A,{sx:{p:.8,borderRadius:1,bgcolor:e=>(0,c.X4)(e.palette.info.main,.1),display:"flex",alignItems:"center",justifyContent:"center",mb:1},children:(0,j.jsx)(u.A,{sx:{fontSize:"1.2rem",color:"info.main"}})}),(0,j.jsx)(s.A,{variant:"body1",sx:{fontSize:"1rem",fontWeight:600,color:"text.primary",textAlign:"center"},children:"Total Trades"})]}),(0,j.jsx)(s.A,{variant:"h5",sx:{fontWeight:700,fontSize:"1.5rem",color:"text.primary",textAlign:"center"},children:$.length}),(0,j.jsx)(s.A,{variant:"body1",sx:{fontWeight:500,fontSize:"1rem",color:"text.secondary",mt:.5,textAlign:"center"},children:"Trades this year"})]})]})]}),(0,j.jsx)(s.A,{variant:"h6",sx:{color:"text.primary",mb:2,fontSize:"1.1rem",fontWeight:600,pl:1},children:"Select a Month"}),(0,j.jsx)(o.A,{sx:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:1.5},children:z.map(((e,t)=>{const r=Y(t),n=0!==r,i=(e=>{if(!S||S<=0)return null;const t=Y(e),a=S/100*C,r=t/a*100;return{progress:Math.min(Math.max(r,0),100),isMet:t>=a,rawProgress:r}})(t),l=(p=t,C<=0?"0":(Y(p)/C*100).toFixed(2));var p;return(0,j.jsxs)(d.A,{onClick:()=>(e=>{const t=new Date(R,e,1);v(t),a()})(t),elevation:0,sx:{p:2.5,cursor:"pointer",display:"flex",flexDirection:"column",gap:1,height:"100%",bgcolor:e=>n?"dark"===e.palette.mode?(0,c.X4)("#fff",.08):(0,c.X4)(e.palette.primary.main,.04):"dark"===e.palette.mode?"transparent":"#f5f5f5",border:"1px solid",borderColor:e=>I===t&&R===(null===w||void 0===w?void 0:w.getFullYear())?e.palette.primary.main:"dark"===e.palette.mode?(0,c.X4)("#fff",.12):e.palette.grey[200],borderRadius:2,transition:"all 0.2s",position:"relative",overflow:"hidden",...I===t&&R===(null===w||void 0===w?void 0:w.getFullYear())&&{"&::before":{content:'""',position:"absolute",top:0,left:0,width:"100%",height:"4px",backgroundColor:"primary.main"}},"&:hover":{bgcolor:e=>"dark"===e.palette.mode?(0,c.X4)("#fff",.12):(0,c.X4)(e.palette.primary.main,.08),borderColor:"primary.main",transform:"translateY(-2px)",boxShadow:e=>`0 4px 12px ${(0,c.X4)(e.palette.primary.main,.2)}`}},children:[(0,j.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:.5},children:[(0,j.jsx)(s.A,{variant:"h6",sx:{color:e=>I===t&&R===(null===w||void 0===w?void 0:w.getFullYear())?e.palette.primary.main:e.palette.text.primary,fontWeight:700,fontSize:"1.1rem"},children:e}),i&&n&&(0,j.jsx)(o.A,{sx:{ml:1},children:(0,j.jsx)(b.A,{progress:i.rawProgress,isMet:i.isMet,tooltipText:`${i.isMet?"Monthly target achieved":"Progress towards monthly target"}: ${i.rawProgress.toFixed(0)}%`})})]}),n&&(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(o.A,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[(0,j.jsxs)(s.A,{variant:"h6",sx:{color:r>0?"success.main":"error.main",fontSize:"1.2rem",fontWeight:700,display:"flex",alignItems:"center",gap:.5},children:["$",Math.abs(r).toLocaleString(),(0,j.jsx)(o.A,{component:"span",sx:{fontSize:"0.9rem",fontWeight:600},children:r>0?"\u2191":"\u2193"})]}),(0,j.jsxs)(o.A,{sx:{display:"flex",alignItems:"center",gap:.5},children:[(0,j.jsx)(s.A,{variant:"caption",sx:{fontWeight:500,color:"text.secondary",fontSize:"0.75rem"},children:"Growth"}),(0,j.jsxs)(s.A,{variant:"caption",sx:{fontWeight:600,color:r>0?"success.main":"error.main",fontSize:"0.75rem"},children:[l,"%"]})]})]})})]},e)}))})]})})}},46577:(e,t,a)=>{a.d(t,{J:()=>r});const r=e=>({"&::-webkit-scrollbar":{width:"8px",height:"8px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:"dark"===e.palette.mode?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2)",borderRadius:"4px","&:hover":{background:"dark"===e.palette.mode?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.3)"}}})},64924:(e,t,a)=>{a.d(t,{A8:()=>f,B2:()=>u,DZ:()=>b,Zg:()=>C,eR:()=>h,j3:()=>w,kL:()=>g,uf:()=>v,uk:()=>y,wt:()=>k,x$:()=>A,zB:()=>j});var r=a(58128),n=a(89826),o=a(53969),s=a(94842),i=a(42579),l=a(83759),d=a(94799),c=a(12097),p=a(81911),x=a(78776),m=a(85877);const h=(0,r.Ay)(o.A)((e=>{let{theme:t,$isCurrentMonth:a,$dayStatus:r}=e;return{padding:t.spacing(1),height:"100%",display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer",borderRadius:t.shape.borderRadius,transition:"all 0.1s ease-in-out",opacity:a?1:.5,backgroundColor:"win"===r?(0,n.X4)(t.palette.success.main,.1):"loss"===r?(0,n.X4)(t.palette.error.main,.1):t.palette.background.paper}})),g=((0,r.Ay)(o.A)((e=>{let{theme:t}=e;return{borderRadius:t.shape.borderRadius,overflow:"hidden",backgroundColor:(0,n.X4)(t.palette.background.paper,.05),border:`1px solid ${(0,n.X4)(t.palette.divider,.1)}`}})),(0,r.Ay)(o.A)((e=>{let{theme:t}=e;return{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary,fontSize:"0.875rem",fontWeight:500,backgroundColor:(0,n.X4)(t.palette.background.paper,.05),borderRadius:t.shape.borderRadius}})),(0,r.Ay)(s.A)((e=>{let{theme:t,$isCurrentMonth:a}=e;return{fontSize:"0.875rem",fontWeight:500,color:a?t.palette.text.primary:t.palette.text.secondary,marginBottom:t.spacing(.5)}}))),u=(0,r.Ay)(s.A)((e=>{let{theme:t,$dayStatus:a}=e;return{fontSize:"0.875rem",fontWeight:600,color:"win"===a?t.palette.success.main:"loss"===a?t.palette.error.main:t.palette.text.primary}})),y=(0,r.Ay)(s.A)((e=>{let{theme:t}=e;return{fontSize:"0.75rem",color:t.palette.text.secondary,fontWeight:500}})),f=((0,r.Ay)(i.A)((e=>{let{theme:t}=e;return{backgroundColor:"dark"===t.palette.mode?(0,n.X4)(t.palette.common.white,.1):(0,n.X4)(t.palette.common.black,.05),"&:hover":{backgroundColor:"dark"===t.palette.mode?(0,n.X4)(t.palette.common.white,.2):(0,n.X4)(t.palette.common.black,.1)},width:32,height:32}})),(0,r.Ay)(l.A)((e=>{let{theme:t}=e;return{fontWeight:600,borderRadius:16,"&.win":{backgroundColor:(0,n.X4)(t.palette.success.main,.1),color:t.palette.success.main,border:`1px solid ${(0,n.X4)(t.palette.success.main,.3)}`},"&.loss":{backgroundColor:(0,n.X4)(t.palette.error.main,.1),color:t.palette.error.main,border:`1px solid ${(0,n.X4)(t.palette.error.main,.3)}`}}})),(0,r.Ay)(d.A)((e=>{let{theme:t}=e;return{padding:t.spacing(3),borderRadius:t.shape.borderRadius,boxShadow:t.shadows[2],backgroundColor:"dark"===t.palette.mode?(0,n.X4)(t.palette.background.paper,.7):t.palette.background.paper,transition:"all 0.3s ease-in-out","&:hover":{boxShadow:t.shadows[4]}}})),(0,r.Ay)(o.A)((e=>{let{theme:t}=e;return{display:"flex",flexDirection:"column",gap:t.spacing(2),padding:t.spacing(2),borderRadius:t.shape.borderRadius,backgroundColor:"dark"===t.palette.mode?(0,n.X4)(t.palette.background.paper,.5):(0,n.X4)(t.palette.background.default,.7),border:`1px solid ${"dark"===t.palette.mode?(0,n.X4)(t.palette.common.white,.1):(0,n.X4)(t.palette.common.black,.1)}`}})),(0,r.Ay)(o.A)((e=>{let{theme:t}=e;return{display:"flex",justifyContent:"space-between",alignItems:"center",padding:t.spacing(1),borderRadius:t.shape.borderRadius,backgroundColor:"dark"===t.palette.mode?(0,n.X4)(t.palette.background.paper,.7):t.palette.background.paper,boxShadow:t.shadows[1]}})),(0,r.Ay)(s.A)((e=>{let{theme:t}=e;return{fontWeight:500,color:t.palette.text.secondary}})),(0,r.Ay)(s.A)((e=>{let{theme:t}=e;return{fontWeight:700,color:t.palette.text.primary}})),(0,r.Ay)(c.A)((e=>{let{theme:t}=e;return{borderRadius:t.shape.borderRadius,padding:t.spacing(1,2),fontWeight:600,textTransform:"none",boxShadow:"none","&:hover":{boxShadow:t.shadows[2]}}})),(0,r.Ay)(c.A)((e=>{let{theme:t}=e;return{borderRadius:t.shape.borderRadius,padding:t.spacing(1,2),fontWeight:600,textTransform:"none",borderWidth:2,"&:hover":{borderWidth:2}}})),(0,r.Ay)(p.A)((e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",justifyContent:"space-between",padding:t.spacing(2),borderBottom:`1px solid ${t.palette.divider}`}}))),b=(0,r.Ay)(x.A)((e=>{let{theme:t}=e;return{padding:t.spacing(2),display:"flex",flexDirection:"column",gap:t.spacing(2)}})),A=(0,r.Ay)(m.A)((e=>{let{theme:t}=e;return{padding:t.spacing(2),borderTop:`1px solid ${t.palette.divider}`}})),j=(0,r.Ay)(o.A)((e=>{let{theme:t}=e;return{marginBottom:t.spacing(2)}})),v=(0,r.Ay)(o.A)((e=>{let{theme:t,$type:a}=e;return{display:"flex",justifyContent:"space-between",alignItems:"center",padding:t.spacing(1.5),borderRadius:t.shape.borderRadius,backgroundColor:"win"===a?(0,n.X4)(t.palette.success.main,"dark"===t.palette.mode?.1:.05):"loss"===a?(0,n.X4)(t.palette.error.main,"dark"===t.palette.mode?.1:.05):"breakeven"===a?(0,n.X4)(t.palette.info.main,"dark"===t.palette.mode?.1:.05):t.palette.background.paper,border:"1px solid",borderColor:"win"===a?(0,n.X4)(t.palette.success.main,"dark"===t.palette.mode?.2:.1):"loss"===a?(0,n.X4)(t.palette.error.main,"dark"===t.palette.mode?.2:.1):"breakeven"===a?(0,n.X4)(t.palette.info.main,"dark"===t.palette.mode?.2:.1):t.palette.divider,transition:"all 0.2s ease-in-out","&:hover":{transform:"translateY(-1px)",boxShadow:`0 2px 8px ${(0,n.X4)("win"===a?t.palette.success.main:"loss"===a?t.palette.error.main:t.palette.primary.main,.15)}`,borderColor:"win"===a?t.palette.success.main:"loss"===a?t.palette.error.main:t.palette.primary.main}}})),w=(0,r.Ay)(o.A)((e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",gap:t.spacing(2)}})),k=(0,r.Ay)(o.A)((e=>{let{theme:t}=e;return{display:"flex",gap:t.spacing(1)}})),C=((0,r.Ay)(o.A)((e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",justifyContent:"space-between",padding:t.spacing(2),borderBottom:`1px solid ${t.palette.divider}`}})),(0,r.Ay)(o.A)((e=>{let{theme:t}=e;return{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:t.spacing(1),padding:t.spacing(2)}})),(0,r.Ay)(o.A)((e=>{let{theme:t}=e;return{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:t.spacing(1),marginBottom:t.spacing(1)}})),(0,r.Ay)(s.A)((e=>{let{theme:t}=e;return{textAlign:"center",fontWeight:500,color:t.palette.text.secondary}})),(0,r.Ay)(d.A)((e=>{let{theme:t}=e;return{padding:t.spacing(2),marginBottom:t.spacing(2),backgroundColor:"dark"===t.palette.mode?(0,n.X4)(t.palette.background.paper,.8):t.palette.background.paper,borderRadius:t.shape.borderRadius,boxShadow:t.shadows[2],transition:"all 0.2s ease-in-out","&:hover":{transform:"translateY(-2px)",boxShadow:t.shadows[4]}}})),(0,r.Ay)(s.A)((e=>{let{theme:t}=e;return{color:t.palette.text.secondary,marginBottom:t.spacing(1)}})),(0,r.Ay)(s.A)((e=>{let{theme:t}=e;return{fontSize:"2rem",fontWeight:700,color:t.palette.text.primary,textAlign:"center",marginBottom:t.spacing(.5),[t.breakpoints.down("sm")]:{fontSize:"1.5rem"}}})),(0,r.Ay)(s.A)((e=>{let{theme:t}=e;return{fontSize:"1rem",fontWeight:500,textAlign:"center",[t.breakpoints.down("sm")]:{fontSize:"0.875rem"}}})),(0,r.Ay)(d.A)((e=>{let{theme:t}=e;return{padding:t.spacing(3),background:"dark"===t.palette.mode?(0,n.X4)(t.palette.background.paper,.8):t.palette.background.paper,backdropFilter:"blur(10px)",borderRadius:2*t.shape.borderRadius,boxShadow:t.shadows[4]}})),(0,r.Ay)(s.A)((e=>{let{theme:t}=e;return{color:t.palette.text.secondary,marginBottom:t.spacing(2)}})),(0,r.Ay)(o.A)((e=>{let{theme:t}=e;return{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:t.spacing(2)}})),(0,r.Ay)(o.A)((e=>{let{theme:t}=e;return{padding:t.spacing(1.5),backgroundColor:"dark"===t.palette.mode?(0,n.X4)(t.palette.background.paper,.6):t.palette.background.paper,borderRadius:t.shape.borderRadius,boxShadow:t.shadows[1],display:"flex",flexDirection:"column",alignItems:"center",transition:"all 0.2s ease-in-out","&:hover":{transform:"translateY(-2px)",boxShadow:t.shadows[3]},[t.breakpoints.down("sm")]:{padding:t.spacing(1)}}})),(0,r.Ay)(s.A)((e=>{let{theme:t}=e;return{fontSize:"0.875rem",fontWeight:500,color:t.palette.text.secondary,marginBottom:t.spacing(.5),textAlign:"center",[t.breakpoints.down("sm")]:{fontSize:"0.75rem"}}})),(0,r.Ay)(s.A)((e=>{let{theme:t}=e;return{fontSize:"1.25rem",fontWeight:600,color:t.palette.text.primary,textAlign:"center",[t.breakpoints.down("sm")]:{fontSize:"1rem"}}})),(0,r.Ay)("a")((e=>{let{theme:t}=e;return{color:t.palette.primary.main,textDecoration:"none",fontSize:"0.875rem","&:hover":{textDecoration:"underline"}}})),(0,r.Ay)(o.A)((e=>{let{theme:t}=e;return{animation:`pulse 2s ${t.transitions.easing.easeInOut} infinite`}})))},75499:(e,t,a)=>{a.d(t,{z:()=>r});const r={PaperProps:{sx:{bgcolor:"background.paper",borderRadius:2,boxShadow:"0px 4px 12px rgba(0, 0, 0, 0.15)"}},sx:{"& .MuiBackdrop-root":{backdropFilter:"blur(4px)",backgroundColor:"rgba(0, 0, 0, 0.5)"}}}},81084:(e,t,a)=>{a.d(t,{GI:()=>p,Oo:()=>s,dO:()=>d,dn:()=>o,kq:()=>i,o:()=>c,t:()=>x,yC:()=>l});var r=a(89826);const n=["#1565C0","#2E7D32","#EF6C00","#6A1B9A","#AD1457","#00838F","#FFA000","#4E342E","#455A64","#558B2F","#D84315","#4527A0","#283593","#00695C","#9E9D24","#F9A825"],o=e=>e.includes(":"),s=e=>o(e)?e.split(":")[0]:"",i=e=>{if(!o(e))return e;const t=e.split(":");return t.length>1?t[1]:t[0]},l=e=>{const t=(e=>{let t=0;for(let a=0;a<e.length;a++)t=(t<<5)-t+e.charCodeAt(a),t|=0;return Math.abs(t)%n.length})(o(e)?s(e):e);return n[t]},d=(e,t)=>{const a=l(e);return{backgroundColor:(0,r.X4)(a,.8),color:(0,r.X4)("#ffffff",.8),fontWeight:500,"& .MuiChip-deleteIcon":{color:"#ffffff","&:hover":{color:(0,r.X4)("#ffffff",.8)}}}},c=(e,t)=>e.filter((e=>o(e)&&s(e)===t)),p=e=>{const t=new Set;return e.forEach((e=>{o(e)&&t.add(s(e))})),Array.from(t).sort()},x=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o(e)&&t?i(e):e}}}]);
//# sourceMappingURL=682.44a4c2bc.chunk.js.map